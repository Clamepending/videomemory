2026-01-07 14:28:25,607 - asyncio - DEBUG - Using selector: KqueueSelector
2026-01-07 14:28:31,098 - google_adk.google.adk.models.google_llm - INFO - Sending out request, model: gemini-2.0-flash, backend: GoogleLLMVariant.GEMINI_API, stream: False
2026-01-07 14:28:31,098 - google_adk.google.adk.models.google_llm - DEBUG - 
LLM Request:
-----------------------------------------------------------
System Instruction:
You are a helpful and friendly system administrator. Be concise and clear in your responses. You have access to tools that can help you check available input devices on the system and manage tasks. When a user requests a task that requires an input device, you should automatically call list_input_devices_with_ids to find the appropriate device and its io_id. Do not ask the user for io_ids - always retrieve them yourself using the available tools. When selecting a device, prefer video cameras (camera category) when possible. Once you have the io_id, use add_task with the io_id to create tasks. Use list_tasks to view all tasks (optionally filtered by io_id). When a user asks a question about a task, first call list_tasks to find the relevant task_id, then call get_info_on ONCE with that task_id to get detailed information. Do not call get_info_on multiple times for the same task_id. Use remove_task to delete a task by its task_id. Use edit_task to update a task's description. This is especially useful when a user wants to amend an existing task, for example, to add an action to be triggered when a condition is met. When editing a task, preserve the original detection part and add the new action requirement. For example, if a task is 'Count claps' and the user wants to send an email when claps reach 1, edit it to 'Count claps and when it reaches 1 send email to [email]'. You can also use take_output_action to execute various actions like sending emails, opening/closing doors, or controlling lights by providing a natural language description of the action. IMPORTANT: When a user requests an action to be triggered based on a video feed event (e.g., 'send me an email when I clap', 'turn on lights when I wave'), you have two options: 1. If a relevant task already exists (e.g., 'Count claps'), use edit_task to amend it with the action. 2. If no relevant task exists, add a NEW task that combines both the detection and the action. 

You are an agent. Your internal name is "system_administrator". The description about you is "A helpful system administrator. It controls the system on behalf of the user.".
-----------------------------------------------------------
Config:
{'http_options': {'headers': {'x-goog-api-client': 'google-adk/1.21.0 gl-python/3.13.5', 'user-agent': 'google-adk/1.21.0 gl-python/3.13.5'}}, 'tools': [{}]}
-----------------------------------------------------------
Contents:
{"parts":[{"text":"count claps"}],"role":"user"}
-----------------------------------------------------------
Functions:
list_input_devices_with_ids: {} 
add_task: {'io_id': {'type': <Type.STRING: 'STRING'>}, 'task_description': {'type': <Type.STRING: 'STRING'>}} 
list_tasks: {'io_id': {'nullable': True, 'type': <Type.STRING: 'STRING'>}} 
get_info_on: {'task_id': {'type': <Type.STRING: 'STRING'>}} 
remove_task: {'task_id': {'type': <Type.STRING: 'STRING'>}} 
edit_task: {'task_id': {'type': <Type.STRING: 'STRING'>}, 'new_description': {'type': <Type.STRING: 'STRING'>}} 
action_router: {'request': {'type': <Type.STRING: 'STRING'>}} 
-----------------------------------------------------------

2026-01-07 14:28:31,102 - httpcore.connection - DEBUG - connect_tcp.started host='generativelanguage.googleapis.com' port=443 local_address=None timeout=None socket_options=None
2026-01-07 14:28:31,121 - httpcore.connection - DEBUG - connect_tcp.complete return_value=<httpcore._backends.anyio.AnyIOStream object at 0x1340e4ec0>
2026-01-07 14:28:31,121 - httpcore.connection - DEBUG - start_tls.started ssl_context=<ssl.SSLContext object at 0x1219fc440> server_hostname='generativelanguage.googleapis.com' timeout=None
2026-01-07 14:28:31,159 - httpcore.connection - DEBUG - start_tls.complete return_value=<httpcore._backends.anyio.AnyIOStream object at 0x1219dbb10>
2026-01-07 14:28:31,159 - httpcore.http11 - DEBUG - send_request_headers.started request=<Request [b'POST']>
2026-01-07 14:28:31,159 - httpcore.http11 - DEBUG - send_request_headers.complete
2026-01-07 14:28:31,159 - httpcore.http11 - DEBUG - send_request_body.started request=<Request [b'POST']>
2026-01-07 14:28:31,159 - httpcore.http11 - DEBUG - send_request_body.complete
2026-01-07 14:28:31,159 - httpcore.http11 - DEBUG - receive_response_headers.started request=<Request [b'POST']>
2026-01-07 14:28:31,673 - httpcore.http11 - DEBUG - receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'Content-Type', b'application/json; charset=UTF-8'), (b'Vary', b'Origin'), (b'Vary', b'X-Origin'), (b'Vary', b'Referer'), (b'Content-Encoding', b'gzip'), (b'Date', b'Wed, 07 Jan 2026 22:28:31 GMT'), (b'Server', b'scaffolding on HTTPServer2'), (b'X-XSS-Protection', b'0'), (b'X-Frame-Options', b'SAMEORIGIN'), (b'X-Content-Type-Options', b'nosniff'), (b'Server-Timing', b'gfet4t7; dur=459'), (b'Alt-Svc', b'h3=":443"; ma=2592000,h3-29=":443"; ma=2592000'), (b'Transfer-Encoding', b'chunked')])
2026-01-07 14:28:31,674 - httpx - INFO - HTTP Request: POST https://generativelanguage.googleapis.com/v1beta/models/gemini-2.0-flash:generateContent "HTTP/1.1 200 OK"
2026-01-07 14:28:31,674 - httpcore.http11 - DEBUG - receive_response_body.started request=<Request [b'POST']>
2026-01-07 14:28:31,674 - httpcore.http11 - DEBUG - receive_response_body.complete
2026-01-07 14:28:31,674 - httpcore.http11 - DEBUG - response_closed.started
2026-01-07 14:28:31,674 - httpcore.http11 - DEBUG - response_closed.complete
2026-01-07 14:28:31,677 - google_adk.google.adk.models.google_llm - INFO - Response received from the model.
2026-01-07 14:28:31,678 - google_genai.types - WARNING - Warning: there are non-text parts in the response: ['function_call'], returning concatenated text result from text parts. Check the full candidates.content.parts accessor to get the full model response.
2026-01-07 14:28:31,678 - google_adk.google.adk.models.google_llm - DEBUG - 
LLM Response:
-----------------------------------------------------------
Text:
None
-----------------------------------------------------------
Function calls:
name: list_input_devices_with_ids, args: {}
-----------------------------------------------------------
Raw response:
{"sdk_http_response":{"headers":{"content-type":"application/json; charset=UTF-8","vary":"Origin, X-Origin, Referer","content-encoding":"gzip","date":"Wed, 07 Jan 2026 22:28:31 GMT","server":"scaffolding on HTTPServer2","x-xss-protection":"0","x-frame-options":"SAMEORIGIN","x-content-type-options":"nosniff","server-timing":"gfet4t7; dur=459","alt-svc":"h3=\":443\"; ma=2592000,h3-29=\":443\"; ma=2592000","transfer-encoding":"chunked"}},"candidates":[{"content":{"parts":[{"function_call":{"args":{},"name":"list_input_devices_with_ids"}}],"role":"model"},"finish_reason":"STOP","avg_logprobs":-6.156300918923484e-7}],"model_version":"gemini-2.0-flash","response_id":"D95eaZzjDfmK-sAPuZjwoAk","usage_metadata":{"candidates_token_count":9,"candidates_tokens_details":[{"modality":"TEXT","token_count":9}],"prompt_token_count":962,"prompt_tokens_details":[{"modality":"TEXT","token_count":962}],"total_token_count":971}}
-----------------------------------------------------------

2026-01-07 14:28:33,605 - google_adk.google.adk.models.google_llm - INFO - Sending out request, model: gemini-2.0-flash, backend: GoogleLLMVariant.GEMINI_API, stream: False
2026-01-07 14:28:33,605 - google_adk.google.adk.models.google_llm - DEBUG - 
LLM Request:
-----------------------------------------------------------
System Instruction:
You are a helpful and friendly system administrator. Be concise and clear in your responses. You have access to tools that can help you check available input devices on the system and manage tasks. When a user requests a task that requires an input device, you should automatically call list_input_devices_with_ids to find the appropriate device and its io_id. Do not ask the user for io_ids - always retrieve them yourself using the available tools. When selecting a device, prefer video cameras (camera category) when possible. Once you have the io_id, use add_task with the io_id to create tasks. Use list_tasks to view all tasks (optionally filtered by io_id). When a user asks a question about a task, first call list_tasks to find the relevant task_id, then call get_info_on ONCE with that task_id to get detailed information. Do not call get_info_on multiple times for the same task_id. Use remove_task to delete a task by its task_id. Use edit_task to update a task's description. This is especially useful when a user wants to amend an existing task, for example, to add an action to be triggered when a condition is met. When editing a task, preserve the original detection part and add the new action requirement. For example, if a task is 'Count claps' and the user wants to send an email when claps reach 1, edit it to 'Count claps and when it reaches 1 send email to [email]'. You can also use take_output_action to execute various actions like sending emails, opening/closing doors, or controlling lights by providing a natural language description of the action. IMPORTANT: When a user requests an action to be triggered based on a video feed event (e.g., 'send me an email when I clap', 'turn on lights when I wave'), you have two options: 1. If a relevant task already exists (e.g., 'Count claps'), use edit_task to amend it with the action. 2. If no relevant task exists, add a NEW task that combines both the detection and the action. 

You are an agent. Your internal name is "system_administrator". The description about you is "A helpful system administrator. It controls the system on behalf of the user.".
-----------------------------------------------------------
Config:
{'http_options': {'headers': {'x-goog-api-client': 'google-adk/1.21.0 gl-python/3.13.5', 'user-agent': 'google-adk/1.21.0 gl-python/3.13.5'}}, 'tools': [{}]}
-----------------------------------------------------------
Contents:
{"parts":[{"text":"count claps"}],"role":"user"}
{"parts":[{"function_call":{"args":{},"name":"list_input_devices_with_ids"}}],"role":"model"}
{"parts":[{"function_response":{"name":"list_input_devices_with_ids","response":{"status":"success","input_devices":{"keyboard":[{"io_id":"83503c29","name":"Keyboard (detected)"}],"mouse":[{"io_id":"1cc7aacd","name":"Mouse/Trackpad (detected)"}],"screen":[{"io_id":"ef44faaa","name":"Display (Built-in Liquid Retina XDR Display)"},{"io_id":"420bb857","name":"Display (3456 x 2234 Retina)"}],"camera":[{"io_id":"ddeb3cd4","name":""},{"io_id":"9856d608","name":"FaceTime HD Camera"},{"io_id":"ea036130","name":"OBS Camera Extension"}],"com_ports":[{"io_id":"a40b74c8","name":"/dev/cu.debug-console (n/a)"},{"io_id":"2e726f59","name":"/dev/cu.NothingEar (n/a)"},{"io_id":"c6e60e07","name":"/dev/cu.Bluetooth-Incoming-Port"},{"io_id":"1bb14588","name":"/dev/cu.wlan-debug"},{"io_id":"739ab3b7","name":"/dev/tty.Bluetooth-Incoming-Port"},{"io_id":"38b6f468","name":"/dev/tty.debug-console"},{"io_id":"7adda166","name":"/dev/tty.JBLCharge4"},{"io_id":"6a8428d6","name":"/dev/cu.Bluetooth-Incoming-Port (n/a)"},{"io_id":"ca07358b","name":"/dev/cu.JBLCharge4 (n/a)"},{"io_id":"8af0276d","name":"/dev/cu.wlan-debug (n/a)"},{"io_id":"9b1b9923","name":"/dev/tty.wlan-debug"},{"io_id":"cd2d9c92","name":"/dev/tty.NothingEar"},{"io_id":"e75d11ca","name":"/dev/cu.debug-console"},{"io_id":"c1865a91","name":"/dev/cu.JBLCharge4"},{"io_id":"9be32325","name":"/dev/cu.NothingEar"}],"audio_input":[{"io_id":"065dbc71","name":""},{"io_id":"35cec23f","name":"Yes"},{"io_id":"848446f1","name":"1"},{"io_id":"5af33e19","name":"MacBook Pro Microphone"}]}}}}],"role":"user"}
-----------------------------------------------------------
Functions:
list_input_devices_with_ids: {} 
add_task: {'io_id': {'type': <Type.STRING: 'STRING'>}, 'task_description': {'type': <Type.STRING: 'STRING'>}} 
list_tasks: {'io_id': {'nullable': True, 'type': <Type.STRING: 'STRING'>}} 
get_info_on: {'task_id': {'type': <Type.STRING: 'STRING'>}} 
remove_task: {'task_id': {'type': <Type.STRING: 'STRING'>}} 
edit_task: {'task_id': {'type': <Type.STRING: 'STRING'>}, 'new_description': {'type': <Type.STRING: 'STRING'>}} 
action_router: {'request': {'type': <Type.STRING: 'STRING'>}} 
-----------------------------------------------------------

2026-01-07 14:28:33,607 - httpcore.connection - DEBUG - close.started
2026-01-07 14:28:33,607 - httpcore.connection - DEBUG - connect_tcp.started host='generativelanguage.googleapis.com' port=443 local_address=None timeout=None socket_options=None
2026-01-07 14:28:33,607 - httpcore.connection - DEBUG - close.complete
2026-01-07 14:28:33,615 - httpcore.connection - DEBUG - connect_tcp.complete return_value=<httpcore._backends.anyio.AnyIOStream object at 0x1219dac10>
2026-01-07 14:28:33,615 - httpcore.connection - DEBUG - start_tls.started ssl_context=<ssl.SSLContext object at 0x1219fc170> server_hostname='generativelanguage.googleapis.com' timeout=None
2026-01-07 14:28:33,647 - httpcore.connection - DEBUG - start_tls.complete return_value=<httpcore._backends.anyio.AnyIOStream object at 0x134012fd0>
2026-01-07 14:28:33,647 - httpcore.http11 - DEBUG - send_request_headers.started request=<Request [b'POST']>
2026-01-07 14:28:33,647 - httpcore.http11 - DEBUG - send_request_headers.complete
2026-01-07 14:28:33,647 - httpcore.http11 - DEBUG - send_request_body.started request=<Request [b'POST']>
2026-01-07 14:28:33,647 - httpcore.http11 - DEBUG - send_request_body.complete
2026-01-07 14:28:33,647 - httpcore.http11 - DEBUG - receive_response_headers.started request=<Request [b'POST']>
2026-01-07 14:28:34,470 - httpcore.http11 - DEBUG - receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'Content-Type', b'application/json; charset=UTF-8'), (b'Vary', b'Origin'), (b'Vary', b'X-Origin'), (b'Vary', b'Referer'), (b'Content-Encoding', b'gzip'), (b'Date', b'Wed, 07 Jan 2026 22:28:34 GMT'), (b'Server', b'scaffolding on HTTPServer2'), (b'X-XSS-Protection', b'0'), (b'X-Frame-Options', b'SAMEORIGIN'), (b'X-Content-Type-Options', b'nosniff'), (b'Server-Timing', b'gfet4t7; dur=813'), (b'Alt-Svc', b'h3=":443"; ma=2592000,h3-29=":443"; ma=2592000'), (b'Transfer-Encoding', b'chunked')])
2026-01-07 14:28:34,470 - httpx - INFO - HTTP Request: POST https://generativelanguage.googleapis.com/v1beta/models/gemini-2.0-flash:generateContent "HTTP/1.1 200 OK"
2026-01-07 14:28:34,471 - httpcore.http11 - DEBUG - receive_response_body.started request=<Request [b'POST']>
2026-01-07 14:28:34,471 - httpcore.http11 - DEBUG - receive_response_body.complete
2026-01-07 14:28:34,471 - httpcore.http11 - DEBUG - response_closed.started
2026-01-07 14:28:34,472 - httpcore.http11 - DEBUG - response_closed.complete
2026-01-07 14:28:34,473 - google_adk.google.adk.models.google_llm - INFO - Response received from the model.
2026-01-07 14:28:34,474 - google_adk.google.adk.models.google_llm - DEBUG - 
LLM Response:
-----------------------------------------------------------
Text:
OK. I see multiple cameras. I will use 'FaceTime HD Camera' with io_id '9856d608'.

-----------------------------------------------------------
Function calls:
name: add_task, args: {'task_description': 'Count claps', 'io_id': '9856d608'}
-----------------------------------------------------------
Raw response:
{"sdk_http_response":{"headers":{"content-type":"application/json; charset=UTF-8","vary":"Origin, X-Origin, Referer","content-encoding":"gzip","date":"Wed, 07 Jan 2026 22:28:34 GMT","server":"scaffolding on HTTPServer2","x-xss-protection":"0","x-frame-options":"SAMEORIGIN","x-content-type-options":"nosniff","server-timing":"gfet4t7; dur=813","alt-svc":"h3=\":443\"; ma=2592000,h3-29=\":443\"; ma=2592000","transfer-encoding":"chunked"}},"candidates":[{"content":{"parts":[{"text":"OK. I see multiple cameras. I will use 'FaceTime HD Camera' with io_id '9856d608'.\n"},{"function_call":{"args":{"task_description":"Count claps","io_id":"9856d608"},"name":"add_task"}}],"role":"model"},"finish_reason":"STOP","avg_logprobs":-0.07673078424790326}],"model_version":"gemini-2.0-flash","response_id":"Ed5eaf7KK5OYjMcP6arh0Aw","usage_metadata":{"candidates_token_count":51,"candidates_tokens_details":[{"modality":"TEXT","token_count":51}],"prompt_token_count":1484,"prompt_tokens_details":[{"modality":"TEXT","token_count":1484}],"total_token_count":1535}}
-----------------------------------------------------------

2026-01-07 14:28:38,721 - VideoStreamIngestor - INFO - Initialized Google GenAI client for io_id=9856d608
2026-01-07 14:28:38,721 - VideoStreamIngestor - INFO - Initialized for io_id=9856d608
2026-01-07 14:28:38,722 - VideoStreamIngestor - INFO - Added task 0 'Count claps' for io_id=9856d608
2026-01-07 14:28:38,722 - VideoStreamIngestor - INFO - Created session video_ingestor_session_9856d608 for io_id=9856d608
2026-01-07 14:28:38,722 - VideoStreamIngestor - INFO - Starting ingestor for io_id=9856d608
2026-01-07 14:28:38,722 - VideoStreamIngestor - INFO - Started 3 processing loops for io_id=9856d608
2026-01-07 14:28:38,722 - VideoStreamIngestor - INFO - Task status: ['capture_9856d608', 'process_9856d608', 'action_9856d608']
2026-01-07 14:28:39,176 - VideoStreamIngestor - INFO - Started capture loop for io_id=9856d608
2026-01-07 14:28:39,179 - VideoStreamIngestor - INFO - Started process loop for io_id=9856d608
2026-01-07 14:28:39,179 - VideoStreamIngestor - DEBUG - Process loop: Frame got from process loop queue for io_id=9856d608
2026-01-07 14:28:39,185 - VideoStreamIngestor - INFO - LLM inference prompt: output an update to say hello for task number 0 in the notes and take the action of opening the door
2026-01-07 14:28:39,186 - google_genai.models - INFO - AFC is enabled with max remote calls: 10.
2026-01-07 14:28:39,187 - httpcore.connection - DEBUG - connect_tcp.started host='generativelanguage.googleapis.com' port=443 local_address=None timeout=None socket_options=None
2026-01-07 14:28:39,196 - httpcore.connection - DEBUG - connect_tcp.complete return_value=<httpcore._backends.sync.SyncStream object at 0x1340b8ad0>
2026-01-07 14:28:39,196 - httpcore.connection - DEBUG - start_tls.started ssl_context=<ssl.SSLContext object at 0x13408d6d0> server_hostname='generativelanguage.googleapis.com' timeout=None
2026-01-07 14:28:39,228 - httpcore.connection - DEBUG - start_tls.complete return_value=<httpcore._backends.sync.SyncStream object at 0x136250550>
2026-01-07 14:28:39,228 - httpcore.http11 - DEBUG - send_request_headers.started request=<Request [b'POST']>
2026-01-07 14:28:39,228 - httpcore.http11 - DEBUG - send_request_headers.complete
2026-01-07 14:28:39,228 - httpcore.http11 - DEBUG - send_request_body.started request=<Request [b'POST']>
2026-01-07 14:28:39,229 - httpcore.http11 - DEBUG - send_request_body.complete
2026-01-07 14:28:39,229 - httpcore.http11 - DEBUG - receive_response_headers.started request=<Request [b'POST']>
2026-01-07 14:28:40,991 - httpcore.http11 - DEBUG - receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'Content-Type', b'application/json; charset=UTF-8'), (b'Vary', b'Origin'), (b'Vary', b'X-Origin'), (b'Vary', b'Referer'), (b'Content-Encoding', b'gzip'), (b'Date', b'Wed, 07 Jan 2026 22:28:40 GMT'), (b'Server', b'scaffolding on HTTPServer2'), (b'X-XSS-Protection', b'0'), (b'X-Frame-Options', b'SAMEORIGIN'), (b'X-Content-Type-Options', b'nosniff'), (b'Server-Timing', b'gfet4t7; dur=1656'), (b'Alt-Svc', b'h3=":443"; ma=2592000,h3-29=":443"; ma=2592000'), (b'Transfer-Encoding', b'chunked')])
2026-01-07 14:28:40,993 - httpx - INFO - HTTP Request: POST https://generativelanguage.googleapis.com/v1beta/models/gemini-2.0-flash:generateContent "HTTP/1.1 200 OK"
2026-01-07 14:28:40,993 - httpcore.http11 - DEBUG - receive_response_body.started request=<Request [b'POST']>
2026-01-07 14:28:40,993 - httpcore.http11 - DEBUG - receive_response_body.complete
2026-01-07 14:28:40,993 - httpcore.http11 - DEBUG - response_closed.started
2026-01-07 14:28:40,993 - httpcore.http11 - DEBUG - response_closed.complete
2026-01-07 14:28:40,994 - VideoStreamIngestor - INFO - LLM inference output: task_updates=[TaskUpdate(task_number=0, task_note='Say hello', task_done=False)] system_actions=[SystemAction(take_action='Open the door')]
2026-01-07 14:28:40,994 - VideoStreamIngestor - INFO - Started action loop for io_id=9856d608
2026-01-07 14:28:40,994 - VideoStreamIngestor - DEBUG - Action loop: Action Open the door got from action loop queue for io_id=9856d608
2026-01-07 14:28:41,011 - google_adk.google.adk.models.google_llm - INFO - Sending out request, model: gemini-2.0-flash, backend: GoogleLLMVariant.GEMINI_API, stream: False
2026-01-07 14:28:41,011 - google_adk.google.adk.models.google_llm - DEBUG - 
LLM Request:
-----------------------------------------------------------
System Instruction:
You are a helpful and friendly system administrator. Be concise and clear in your responses. You have access to tools that can help you check available input devices on the system and manage tasks. When a user requests a task that requires an input device, you should automatically call list_input_devices_with_ids to find the appropriate device and its io_id. Do not ask the user for io_ids - always retrieve them yourself using the available tools. When selecting a device, prefer video cameras (camera category) when possible. Once you have the io_id, use add_task with the io_id to create tasks. Use list_tasks to view all tasks (optionally filtered by io_id). When a user asks a question about a task, first call list_tasks to find the relevant task_id, then call get_info_on ONCE with that task_id to get detailed information. Do not call get_info_on multiple times for the same task_id. Use remove_task to delete a task by its task_id. Use edit_task to update a task's description. This is especially useful when a user wants to amend an existing task, for example, to add an action to be triggered when a condition is met. When editing a task, preserve the original detection part and add the new action requirement. For example, if a task is 'Count claps' and the user wants to send an email when claps reach 1, edit it to 'Count claps and when it reaches 1 send email to [email]'. You can also use take_output_action to execute various actions like sending emails, opening/closing doors, or controlling lights by providing a natural language description of the action. IMPORTANT: When a user requests an action to be triggered based on a video feed event (e.g., 'send me an email when I clap', 'turn on lights when I wave'), you have two options: 1. If a relevant task already exists (e.g., 'Count claps'), use edit_task to amend it with the action. 2. If no relevant task exists, add a NEW task that combines both the detection and the action. 

You are an agent. Your internal name is "system_administrator". The description about you is "A helpful system administrator. It controls the system on behalf of the user.".
-----------------------------------------------------------
Config:
{'http_options': {'headers': {'x-goog-api-client': 'google-adk/1.21.0 gl-python/3.13.5', 'user-agent': 'google-adk/1.21.0 gl-python/3.13.5'}}, 'tools': [{}]}
-----------------------------------------------------------
Contents:
{"parts":[{"text":"Execute this action: Open the door"}],"role":"user"}
-----------------------------------------------------------
Functions:
list_input_devices_with_ids: {} 
add_task: {'io_id': {'type': <Type.STRING: 'STRING'>}, 'task_description': {'type': <Type.STRING: 'STRING'>}} 
list_tasks: {'io_id': {'nullable': True, 'type': <Type.STRING: 'STRING'>}} 
get_info_on: {'task_id': {'type': <Type.STRING: 'STRING'>}} 
remove_task: {'task_id': {'type': <Type.STRING: 'STRING'>}} 
edit_task: {'task_id': {'type': <Type.STRING: 'STRING'>}, 'new_description': {'type': <Type.STRING: 'STRING'>}} 
action_router: {'request': {'type': <Type.STRING: 'STRING'>}} 
-----------------------------------------------------------

2026-01-07 14:28:41,024 - google_adk.google.adk.models.google_llm - INFO - Sending out request, model: gemini-2.0-flash, backend: GoogleLLMVariant.GEMINI_API, stream: False
2026-01-07 14:28:41,024 - google_adk.google.adk.models.google_llm - DEBUG - 
LLM Request:
-----------------------------------------------------------
System Instruction:
You are a helpful and friendly system administrator. Be concise and clear in your responses. You have access to tools that can help you check available input devices on the system and manage tasks. When a user requests a task that requires an input device, you should automatically call list_input_devices_with_ids to find the appropriate device and its io_id. Do not ask the user for io_ids - always retrieve them yourself using the available tools. When selecting a device, prefer video cameras (camera category) when possible. Once you have the io_id, use add_task with the io_id to create tasks. Use list_tasks to view all tasks (optionally filtered by io_id). When a user asks a question about a task, first call list_tasks to find the relevant task_id, then call get_info_on ONCE with that task_id to get detailed information. Do not call get_info_on multiple times for the same task_id. Use remove_task to delete a task by its task_id. Use edit_task to update a task's description. This is especially useful when a user wants to amend an existing task, for example, to add an action to be triggered when a condition is met. When editing a task, preserve the original detection part and add the new action requirement. For example, if a task is 'Count claps' and the user wants to send an email when claps reach 1, edit it to 'Count claps and when it reaches 1 send email to [email]'. You can also use take_output_action to execute various actions like sending emails, opening/closing doors, or controlling lights by providing a natural language description of the action. IMPORTANT: When a user requests an action to be triggered based on a video feed event (e.g., 'send me an email when I clap', 'turn on lights when I wave'), you have two options: 1. If a relevant task already exists (e.g., 'Count claps'), use edit_task to amend it with the action. 2. If no relevant task exists, add a NEW task that combines both the detection and the action. 

You are an agent. Your internal name is "system_administrator". The description about you is "A helpful system administrator. It controls the system on behalf of the user.".
-----------------------------------------------------------
Config:
{'http_options': {'headers': {'x-goog-api-client': 'google-adk/1.21.0 gl-python/3.13.5', 'user-agent': 'google-adk/1.21.0 gl-python/3.13.5'}}, 'tools': [{}]}
-----------------------------------------------------------
Contents:
{"parts":[{"text":"count claps"}],"role":"user"}
{"parts":[{"function_call":{"args":{},"name":"list_input_devices_with_ids"}}],"role":"model"}
{"parts":[{"function_response":{"name":"list_input_devices_with_ids","response":{"status":"success","input_devices":{"keyboard":[{"io_id":"83503c29","name":"Keyboard (detected)"}],"mouse":[{"io_id":"1cc7aacd","name":"Mouse/Trackpad (detected)"}],"screen":[{"io_id":"ef44faaa","name":"Display (Built-in Liquid Retina XDR Display)"},{"io_id":"420bb857","name":"Display (3456 x 2234 Retina)"}],"camera":[{"io_id":"ddeb3cd4","name":""},{"io_id":"9856d608","name":"FaceTime HD Camera"},{"io_id":"ea036130","name":"OBS Camera Extension"}],"com_ports":[{"io_id":"a40b74c8","name":"/dev/cu.debug-console (n/a)"},{"io_id":"2e726f59","name":"/dev/cu.NothingEar (n/a)"},{"io_id":"c6e60e07","name":"/dev/cu.Bluetooth-Incoming-Port"},{"io_id":"1bb14588","name":"/dev/cu.wlan-debug"},{"io_id":"739ab3b7","name":"/dev/tty.Bluetooth-Incoming-Port"},{"io_id":"38b6f468","name":"/dev/tty.debug-console"},{"io_id":"7adda166","name":"/dev/tty.JBLCharge4"},{"io_id":"6a8428d6","name":"/dev/cu.Bluetooth-Incoming-Port (n/a)"},{"io_id":"ca07358b","name":"/dev/cu.JBLCharge4 (n/a)"},{"io_id":"8af0276d","name":"/dev/cu.wlan-debug (n/a)"},{"io_id":"9b1b9923","name":"/dev/tty.wlan-debug"},{"io_id":"cd2d9c92","name":"/dev/tty.NothingEar"},{"io_id":"e75d11ca","name":"/dev/cu.debug-console"},{"io_id":"c1865a91","name":"/dev/cu.JBLCharge4"},{"io_id":"9be32325","name":"/dev/cu.NothingEar"}],"audio_input":[{"io_id":"065dbc71","name":""},{"io_id":"35cec23f","name":"Yes"},{"io_id":"848446f1","name":"1"},{"io_id":"5af33e19","name":"MacBook Pro Microphone"}]}}}}],"role":"user"}
{"parts":[{"text":"OK. I see multiple cameras. I will use 'FaceTime HD Camera' with io_id '9856d608'.\n"},{"function_call":{"args":{"task_description":"Count claps","io_id":"9856d608"},"name":"add_task"}}],"role":"model"}
{"parts":[{"function_response":{"name":"add_task","response":{"status":"success","message":"Task added successfully","task_id":"6b92abeb","io_id":"9856d608","task_description":"Count claps","device_info":{"io_id":"9856d608","category":"camera","name":"FaceTime HD Camera"}}}}],"role":"user"}
-----------------------------------------------------------
Functions:
list_input_devices_with_ids: {} 
add_task: {'io_id': {'type': <Type.STRING: 'STRING'>}, 'task_description': {'type': <Type.STRING: 'STRING'>}} 
list_tasks: {'io_id': {'nullable': True, 'type': <Type.STRING: 'STRING'>}} 
get_info_on: {'task_id': {'type': <Type.STRING: 'STRING'>}} 
remove_task: {'task_id': {'type': <Type.STRING: 'STRING'>}} 
edit_task: {'task_id': {'type': <Type.STRING: 'STRING'>}, 'new_description': {'type': <Type.STRING: 'STRING'>}} 
action_router: {'request': {'type': <Type.STRING: 'STRING'>}} 
-----------------------------------------------------------

2026-01-07 14:28:41,025 - httpcore.connection - DEBUG - connect_tcp.started host='generativelanguage.googleapis.com' port=443 local_address=None timeout=None socket_options=None
2026-01-07 14:28:41,025 - httpcore.connection - DEBUG - close.started
2026-01-07 14:28:41,025 - httpcore.connection - DEBUG - connect_tcp.started host='generativelanguage.googleapis.com' port=443 local_address=None timeout=None socket_options=None
2026-01-07 14:28:41,025 - httpcore.connection - DEBUG - close.complete
2026-01-07 14:28:41,055 - VideoStreamIngestor - DEBUG - Process loop: Frame got from process loop queue for io_id=9856d608
2026-01-07 14:28:41,062 - VideoStreamIngestor - INFO - LLM inference prompt: output an update to say hello for task number 0 in the notes and take the action of opening the door
2026-01-07 14:28:41,063 - google_genai.models - INFO - AFC is enabled with max remote calls: 10.
2026-01-07 14:28:41,065 - httpcore.http11 - DEBUG - send_request_headers.started request=<Request [b'POST']>
2026-01-07 14:28:41,065 - httpcore.http11 - DEBUG - send_request_headers.complete
2026-01-07 14:28:41,065 - httpcore.http11 - DEBUG - send_request_body.started request=<Request [b'POST']>
2026-01-07 14:28:41,086 - httpcore.http11 - DEBUG - send_request_body.complete
2026-01-07 14:28:41,086 - httpcore.http11 - DEBUG - receive_response_headers.started request=<Request [b'POST']>
2026-01-07 14:28:42,936 - httpcore.http11 - DEBUG - receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'Content-Type', b'application/json; charset=UTF-8'), (b'Vary', b'Origin'), (b'Vary', b'X-Origin'), (b'Vary', b'Referer'), (b'Content-Encoding', b'gzip'), (b'Date', b'Wed, 07 Jan 2026 22:28:42 GMT'), (b'Server', b'scaffolding on HTTPServer2'), (b'X-XSS-Protection', b'0'), (b'X-Frame-Options', b'SAMEORIGIN'), (b'X-Content-Type-Options', b'nosniff'), (b'Server-Timing', b'gfet4t7; dur=1785'), (b'Alt-Svc', b'h3=":443"; ma=2592000,h3-29=":443"; ma=2592000'), (b'Transfer-Encoding', b'chunked')])
2026-01-07 14:28:42,938 - httpx - INFO - HTTP Request: POST https://generativelanguage.googleapis.com/v1beta/models/gemini-2.0-flash:generateContent "HTTP/1.1 200 OK"
2026-01-07 14:28:42,938 - httpcore.http11 - DEBUG - receive_response_body.started request=<Request [b'POST']>
2026-01-07 14:28:42,939 - httpcore.http11 - DEBUG - receive_response_body.complete
2026-01-07 14:28:42,939 - httpcore.http11 - DEBUG - response_closed.started
2026-01-07 14:28:42,939 - httpcore.http11 - DEBUG - response_closed.complete
2026-01-07 14:28:42,941 - VideoStreamIngestor - INFO - LLM inference output: task_updates=[TaskUpdate(task_number=0, task_note='hello', task_done=False)] system_actions=[SystemAction(take_action='open the door')]
2026-01-07 14:28:42,947 - VideoStreamIngestor - DEBUG - Process loop: Frame got from process loop queue for io_id=9856d608
2026-01-07 14:28:42,961 - VideoStreamIngestor - INFO - LLM inference prompt: output an update to say hello for task number 0 in the notes and take the action of opening the door
2026-01-07 14:28:42,962 - google_genai.models - INFO - AFC is enabled with max remote calls: 10.
2026-01-07 14:28:42,965 - httpcore.http11 - DEBUG - send_request_headers.started request=<Request [b'POST']>
2026-01-07 14:28:42,966 - httpcore.http11 - DEBUG - send_request_headers.complete
2026-01-07 14:28:42,966 - httpcore.http11 - DEBUG - send_request_body.started request=<Request [b'POST']>
2026-01-07 14:28:42,966 - httpcore.http11 - DEBUG - send_request_body.complete
2026-01-07 14:28:42,966 - httpcore.http11 - DEBUG - receive_response_headers.started request=<Request [b'POST']>
2026-01-07 14:28:44,738 - httpcore.http11 - DEBUG - receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'Content-Type', b'application/json; charset=UTF-8'), (b'Vary', b'Origin'), (b'Vary', b'X-Origin'), (b'Vary', b'Referer'), (b'Content-Encoding', b'gzip'), (b'Date', b'Wed, 07 Jan 2026 22:28:44 GMT'), (b'Server', b'scaffolding on HTTPServer2'), (b'X-XSS-Protection', b'0'), (b'X-Frame-Options', b'SAMEORIGIN'), (b'X-Content-Type-Options', b'nosniff'), (b'Server-Timing', b'gfet4t7; dur=1764'), (b'Alt-Svc', b'h3=":443"; ma=2592000,h3-29=":443"; ma=2592000'), (b'Transfer-Encoding', b'chunked')])
2026-01-07 14:28:44,738 - httpx - INFO - HTTP Request: POST https://generativelanguage.googleapis.com/v1beta/models/gemini-2.0-flash:generateContent "HTTP/1.1 200 OK"
2026-01-07 14:28:44,738 - httpcore.http11 - DEBUG - receive_response_body.started request=<Request [b'POST']>
2026-01-07 14:28:44,741 - httpcore.http11 - DEBUG - receive_response_body.complete
2026-01-07 14:28:44,741 - httpcore.http11 - DEBUG - response_closed.started
2026-01-07 14:28:44,741 - httpcore.http11 - DEBUG - response_closed.complete
2026-01-07 14:28:44,742 - VideoStreamIngestor - INFO - LLM inference output: task_updates=[TaskUpdate(task_number=0, task_note='Say hello', task_done=False)] system_actions=[SystemAction(take_action='Open the door')]
2026-01-07 14:28:44,748 - VideoStreamIngestor - DEBUG - Process loop: Frame got from process loop queue for io_id=9856d608
2026-01-07 14:28:44,759 - VideoStreamIngestor - INFO - LLM inference prompt: output an update to say hello for task number 0 in the notes and take the action of opening the door
2026-01-07 14:28:44,760 - google_genai.models - INFO - AFC is enabled with max remote calls: 10.
2026-01-07 14:28:44,763 - httpcore.http11 - DEBUG - send_request_headers.started request=<Request [b'POST']>
2026-01-07 14:28:44,763 - httpcore.http11 - DEBUG - send_request_headers.complete
2026-01-07 14:28:44,763 - httpcore.http11 - DEBUG - send_request_body.started request=<Request [b'POST']>
2026-01-07 14:28:44,764 - httpcore.http11 - DEBUG - send_request_body.complete
2026-01-07 14:28:44,764 - httpcore.http11 - DEBUG - receive_response_headers.started request=<Request [b'POST']>
2026-01-07 14:28:46,433 - httpcore.http11 - DEBUG - receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'Content-Type', b'application/json; charset=UTF-8'), (b'Vary', b'Origin'), (b'Vary', b'X-Origin'), (b'Vary', b'Referer'), (b'Content-Encoding', b'gzip'), (b'Date', b'Wed, 07 Jan 2026 22:28:46 GMT'), (b'Server', b'scaffolding on HTTPServer2'), (b'X-XSS-Protection', b'0'), (b'X-Frame-Options', b'SAMEORIGIN'), (b'X-Content-Type-Options', b'nosniff'), (b'Server-Timing', b'gfet4t7; dur=1662'), (b'Alt-Svc', b'h3=":443"; ma=2592000,h3-29=":443"; ma=2592000'), (b'Transfer-Encoding', b'chunked')])
2026-01-07 14:28:46,434 - httpx - INFO - HTTP Request: POST https://generativelanguage.googleapis.com/v1beta/models/gemini-2.0-flash:generateContent "HTTP/1.1 200 OK"
2026-01-07 14:28:46,434 - httpcore.http11 - DEBUG - receive_response_body.started request=<Request [b'POST']>
2026-01-07 14:28:46,435 - httpcore.http11 - DEBUG - receive_response_body.complete
2026-01-07 14:28:46,435 - httpcore.http11 - DEBUG - response_closed.started
2026-01-07 14:28:46,435 - httpcore.http11 - DEBUG - response_closed.complete
2026-01-07 14:28:46,436 - VideoStreamIngestor - INFO - LLM inference output: task_updates=[TaskUpdate(task_number=0, task_note='Say hello', task_done=False)] system_actions=[SystemAction(take_action='Open the door')]
2026-01-07 14:28:46,478 - httpcore.connection - DEBUG - connect_tcp.complete return_value=<httpcore._backends.anyio.AnyIOStream object at 0x136268d60>
2026-01-07 14:28:46,478 - httpcore.connection - DEBUG - start_tls.started ssl_context=<ssl.SSLContext object at 0x1219fc440> server_hostname='generativelanguage.googleapis.com' timeout=None
2026-01-07 14:28:46,479 - httpcore.connection - DEBUG - connect_tcp.complete return_value=<httpcore._backends.anyio.AnyIOStream object at 0x1340b3bf0>
2026-01-07 14:28:46,479 - httpcore.connection - DEBUG - start_tls.started ssl_context=<ssl.SSLContext object at 0x13408ede0> server_hostname='generativelanguage.googleapis.com' timeout=None
2026-01-07 14:28:46,480 - VideoStreamIngestor - DEBUG - Process loop: Frame got from process loop queue for io_id=9856d608
2026-01-07 14:28:46,495 - VideoStreamIngestor - INFO - LLM inference prompt: output an update to say hello for task number 0 in the notes and take the action of opening the door
2026-01-07 14:28:46,496 - google_genai.models - INFO - AFC is enabled with max remote calls: 10.
2026-01-07 14:28:46,500 - httpcore.http11 - DEBUG - send_request_headers.started request=<Request [b'POST']>
2026-01-07 14:28:46,500 - httpcore.http11 - DEBUG - send_request_headers.complete
2026-01-07 14:28:46,501 - httpcore.http11 - DEBUG - send_request_body.started request=<Request [b'POST']>
2026-01-07 14:28:46,501 - httpcore.http11 - DEBUG - send_request_body.complete
2026-01-07 14:28:46,501 - httpcore.http11 - DEBUG - receive_response_headers.started request=<Request [b'POST']>
2026-01-07 14:28:48,364 - httpcore.http11 - DEBUG - receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'Content-Type', b'application/json; charset=UTF-8'), (b'Vary', b'Origin'), (b'Vary', b'X-Origin'), (b'Vary', b'Referer'), (b'Content-Encoding', b'gzip'), (b'Date', b'Wed, 07 Jan 2026 22:28:48 GMT'), (b'Server', b'scaffolding on HTTPServer2'), (b'X-XSS-Protection', b'0'), (b'X-Frame-Options', b'SAMEORIGIN'), (b'X-Content-Type-Options', b'nosniff'), (b'Server-Timing', b'gfet4t7; dur=1852'), (b'Alt-Svc', b'h3=":443"; ma=2592000,h3-29=":443"; ma=2592000'), (b'Transfer-Encoding', b'chunked')])
2026-01-07 14:28:48,365 - httpx - INFO - HTTP Request: POST https://generativelanguage.googleapis.com/v1beta/models/gemini-2.0-flash:generateContent "HTTP/1.1 200 OK"
2026-01-07 14:28:48,365 - httpcore.http11 - DEBUG - receive_response_body.started request=<Request [b'POST']>
2026-01-07 14:28:48,366 - httpcore.http11 - DEBUG - receive_response_body.complete
2026-01-07 14:28:48,366 - httpcore.http11 - DEBUG - response_closed.started
2026-01-07 14:28:48,366 - httpcore.http11 - DEBUG - response_closed.complete
2026-01-07 14:28:48,367 - VideoStreamIngestor - INFO - LLM inference output: task_updates=[TaskUpdate(task_number=0, task_note='Hello!', task_done=False)] system_actions=[SystemAction(take_action='Open the door')]
2026-01-07 14:28:48,375 - VideoStreamIngestor - DEBUG - Process loop: Frame got from process loop queue for io_id=9856d608
2026-01-07 14:28:48,387 - VideoStreamIngestor - INFO - LLM inference prompt: output an update to say hello for task number 0 in the notes and take the action of opening the door
2026-01-07 14:28:48,388 - google_genai.models - INFO - AFC is enabled with max remote calls: 10.
2026-01-07 14:28:48,392 - httpcore.http11 - DEBUG - send_request_headers.started request=<Request [b'POST']>
2026-01-07 14:28:48,392 - httpcore.http11 - DEBUG - send_request_headers.complete
2026-01-07 14:28:48,392 - httpcore.http11 - DEBUG - send_request_body.started request=<Request [b'POST']>
2026-01-07 14:28:48,393 - httpcore.http11 - DEBUG - send_request_body.complete
2026-01-07 14:28:48,393 - httpcore.http11 - DEBUG - receive_response_headers.started request=<Request [b'POST']>
2026-01-07 14:28:50,273 - httpcore.http11 - DEBUG - receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'Content-Type', b'application/json; charset=UTF-8'), (b'Vary', b'Origin'), (b'Vary', b'X-Origin'), (b'Vary', b'Referer'), (b'Content-Encoding', b'gzip'), (b'Date', b'Wed, 07 Jan 2026 22:28:50 GMT'), (b'Server', b'scaffolding on HTTPServer2'), (b'X-XSS-Protection', b'0'), (b'X-Frame-Options', b'SAMEORIGIN'), (b'X-Content-Type-Options', b'nosniff'), (b'Server-Timing', b'gfet4t7; dur=1869'), (b'Alt-Svc', b'h3=":443"; ma=2592000,h3-29=":443"; ma=2592000'), (b'Transfer-Encoding', b'chunked')])
2026-01-07 14:28:50,274 - httpx - INFO - HTTP Request: POST https://generativelanguage.googleapis.com/v1beta/models/gemini-2.0-flash:generateContent "HTTP/1.1 200 OK"
2026-01-07 14:28:50,274 - httpcore.http11 - DEBUG - receive_response_body.started request=<Request [b'POST']>
2026-01-07 14:28:50,274 - httpcore.http11 - DEBUG - receive_response_body.complete
2026-01-07 14:28:50,275 - httpcore.http11 - DEBUG - response_closed.started
2026-01-07 14:28:50,275 - httpcore.http11 - DEBUG - response_closed.complete
2026-01-07 14:28:50,276 - VideoStreamIngestor - INFO - LLM inference output: task_updates=[TaskUpdate(task_number=0, task_note='hello', task_done=False)] system_actions=[SystemAction(take_action='open the door')]
2026-01-07 14:28:50,314 - httpcore.connection - DEBUG - start_tls.complete return_value=<httpcore._backends.anyio.AnyIOStream object at 0x1340fe140>
2026-01-07 14:28:50,315 - httpcore.connection - DEBUG - start_tls.complete return_value=<httpcore._backends.anyio.AnyIOStream object at 0x1340fe580>
2026-01-07 14:28:50,315 - VideoStreamIngestor - DEBUG - Process loop: Frame got from process loop queue for io_id=9856d608
2026-01-07 14:28:50,330 - VideoStreamIngestor - INFO - LLM inference prompt: output an update to say hello for task number 0 in the notes and take the action of opening the door
2026-01-07 14:28:50,331 - google_genai.models - INFO - AFC is enabled with max remote calls: 10.
2026-01-07 14:28:50,335 - httpcore.http11 - DEBUG - send_request_headers.started request=<Request [b'POST']>
2026-01-07 14:28:50,335 - httpcore.http11 - DEBUG - send_request_headers.complete
2026-01-07 14:28:50,336 - httpcore.http11 - DEBUG - send_request_body.started request=<Request [b'POST']>
2026-01-07 14:28:50,336 - httpcore.http11 - DEBUG - send_request_body.complete
2026-01-07 14:28:50,337 - httpcore.http11 - DEBUG - receive_response_headers.started request=<Request [b'POST']>
2026-01-07 14:28:52,155 - httpcore.http11 - DEBUG - receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'Content-Type', b'application/json; charset=UTF-8'), (b'Vary', b'Origin'), (b'Vary', b'X-Origin'), (b'Vary', b'Referer'), (b'Content-Encoding', b'gzip'), (b'Date', b'Wed, 07 Jan 2026 22:28:52 GMT'), (b'Server', b'scaffolding on HTTPServer2'), (b'X-XSS-Protection', b'0'), (b'X-Frame-Options', b'SAMEORIGIN'), (b'X-Content-Type-Options', b'nosniff'), (b'Server-Timing', b'gfet4t7; dur=1711'), (b'Alt-Svc', b'h3=":443"; ma=2592000,h3-29=":443"; ma=2592000'), (b'Transfer-Encoding', b'chunked')])
2026-01-07 14:28:52,156 - httpx - INFO - HTTP Request: POST https://generativelanguage.googleapis.com/v1beta/models/gemini-2.0-flash:generateContent "HTTP/1.1 200 OK"
2026-01-07 14:28:52,156 - httpcore.http11 - DEBUG - receive_response_body.started request=<Request [b'POST']>
2026-01-07 14:28:52,156 - httpcore.http11 - DEBUG - receive_response_body.complete
2026-01-07 14:28:52,156 - httpcore.http11 - DEBUG - response_closed.started
2026-01-07 14:28:52,157 - httpcore.http11 - DEBUG - response_closed.complete
2026-01-07 14:28:52,158 - VideoStreamIngestor - INFO - LLM inference output: task_updates=[TaskUpdate(task_number=0, task_note='say hello', task_done=False)] system_actions=[SystemAction(take_action='opening the door')]
2026-01-07 14:28:52,158 - httpcore.http11 - DEBUG - send_request_headers.started request=<Request [b'POST']>
2026-01-07 14:28:52,159 - httpcore.http11 - DEBUG - send_request_headers.started request=<Request [b'POST']>
2026-01-07 14:28:52,159 - httpcore.http11 - DEBUG - send_request_headers.complete
2026-01-07 14:28:52,159 - httpcore.http11 - DEBUG - send_request_body.started request=<Request [b'POST']>
2026-01-07 14:28:52,160 - httpcore.http11 - DEBUG - send_request_headers.complete
2026-01-07 14:28:52,160 - httpcore.http11 - DEBUG - send_request_body.started request=<Request [b'POST']>
2026-01-07 14:28:52,175 - httpcore.http11 - DEBUG - send_request_body.complete
2026-01-07 14:28:52,175 - httpcore.http11 - DEBUG - receive_response_headers.started request=<Request [b'POST']>
2026-01-07 14:28:52,176 - httpcore.http11 - DEBUG - send_request_body.complete
2026-01-07 14:28:52,176 - httpcore.http11 - DEBUG - receive_response_headers.started request=<Request [b'POST']>
2026-01-07 14:28:52,176 - VideoStreamIngestor - DEBUG - Process loop: Frame got from process loop queue for io_id=9856d608
2026-01-07 14:28:52,188 - VideoStreamIngestor - INFO - LLM inference prompt: output an update to say hello for task number 0 in the notes and take the action of opening the door
2026-01-07 14:28:52,189 - google_genai.models - INFO - AFC is enabled with max remote calls: 10.
2026-01-07 14:28:52,192 - httpcore.http11 - DEBUG - send_request_headers.started request=<Request [b'POST']>
2026-01-07 14:28:52,192 - httpcore.http11 - DEBUG - send_request_headers.complete
2026-01-07 14:28:52,192 - httpcore.http11 - DEBUG - send_request_body.started request=<Request [b'POST']>
2026-01-07 14:28:52,193 - httpcore.http11 - DEBUG - send_request_body.complete
2026-01-07 14:28:52,193 - httpcore.http11 - DEBUG - receive_response_headers.started request=<Request [b'POST']>
2026-01-07 14:28:53,995 - httpcore.http11 - DEBUG - receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'Content-Type', b'application/json; charset=UTF-8'), (b'Vary', b'Origin'), (b'Vary', b'X-Origin'), (b'Vary', b'Referer'), (b'Content-Encoding', b'gzip'), (b'Date', b'Wed, 07 Jan 2026 22:28:53 GMT'), (b'Server', b'scaffolding on HTTPServer2'), (b'X-XSS-Protection', b'0'), (b'X-Frame-Options', b'SAMEORIGIN'), (b'X-Content-Type-Options', b'nosniff'), (b'Server-Timing', b'gfet4t7; dur=1787'), (b'Alt-Svc', b'h3=":443"; ma=2592000,h3-29=":443"; ma=2592000'), (b'Transfer-Encoding', b'chunked')])
2026-01-07 14:28:53,996 - httpx - INFO - HTTP Request: POST https://generativelanguage.googleapis.com/v1beta/models/gemini-2.0-flash:generateContent "HTTP/1.1 200 OK"
2026-01-07 14:28:53,996 - httpcore.http11 - DEBUG - receive_response_body.started request=<Request [b'POST']>
2026-01-07 14:28:53,997 - httpcore.http11 - DEBUG - receive_response_body.complete
2026-01-07 14:28:53,997 - httpcore.http11 - DEBUG - response_closed.started
2026-01-07 14:28:53,997 - httpcore.http11 - DEBUG - response_closed.complete
2026-01-07 14:28:53,998 - VideoStreamIngestor - INFO - LLM inference output: task_updates=[TaskUpdate(task_number=0, task_note='Say hello', task_done=False)] system_actions=[SystemAction(take_action='Open the door')]
2026-01-07 14:28:53,999 - httpcore.http11 - DEBUG - receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'Content-Type', b'application/json; charset=UTF-8'), (b'Vary', b'Origin'), (b'Vary', b'X-Origin'), (b'Vary', b'Referer'), (b'Content-Encoding', b'gzip'), (b'Date', b'Wed, 07 Jan 2026 22:28:52 GMT'), (b'Server', b'scaffolding on HTTPServer2'), (b'X-XSS-Protection', b'0'), (b'X-Frame-Options', b'SAMEORIGIN'), (b'X-Content-Type-Options', b'nosniff'), (b'Server-Timing', b'gfet4t7; dur=550'), (b'Alt-Svc', b'h3=":443"; ma=2592000,h3-29=":443"; ma=2592000'), (b'Transfer-Encoding', b'chunked')])
2026-01-07 14:28:54,000 - httpx - INFO - HTTP Request: POST https://generativelanguage.googleapis.com/v1beta/models/gemini-2.0-flash:generateContent "HTTP/1.1 200 OK"
2026-01-07 14:28:54,000 - httpcore.http11 - DEBUG - receive_response_body.started request=<Request [b'POST']>
2026-01-07 14:28:54,000 - httpcore.http11 - DEBUG - receive_response_body.complete
2026-01-07 14:28:54,001 - httpcore.http11 - DEBUG - response_closed.started
2026-01-07 14:28:54,001 - httpcore.http11 - DEBUG - receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'Content-Type', b'application/json; charset=UTF-8'), (b'Vary', b'Origin'), (b'Vary', b'X-Origin'), (b'Vary', b'Referer'), (b'Content-Encoding', b'gzip'), (b'Date', b'Wed, 07 Jan 2026 22:28:52 GMT'), (b'Server', b'scaffolding on HTTPServer2'), (b'X-XSS-Protection', b'0'), (b'X-Frame-Options', b'SAMEORIGIN'), (b'X-Content-Type-Options', b'nosniff'), (b'Server-Timing', b'gfet4t7; dur=720'), (b'Alt-Svc', b'h3=":443"; ma=2592000,h3-29=":443"; ma=2592000'), (b'Transfer-Encoding', b'chunked')])
2026-01-07 14:28:54,001 - httpx - INFO - HTTP Request: POST https://generativelanguage.googleapis.com/v1beta/models/gemini-2.0-flash:generateContent "HTTP/1.1 200 OK"
2026-01-07 14:28:54,002 - httpcore.http11 - DEBUG - receive_response_body.started request=<Request [b'POST']>
2026-01-07 14:28:54,002 - httpcore.http11 - DEBUG - receive_response_body.complete
2026-01-07 14:28:54,002 - httpcore.http11 - DEBUG - response_closed.started
2026-01-07 14:28:54,011 - httpcore.http11 - DEBUG - response_closed.complete
2026-01-07 14:28:54,013 - google_adk.google.adk.models.google_llm - INFO - Response received from the model.
2026-01-07 14:28:54,013 - google_adk.google.adk.models.google_llm - DEBUG - 
LLM Response:
-----------------------------------------------------------
Text:
None
-----------------------------------------------------------
Function calls:
name: action_router, args: {'request': 'Open the door'}
-----------------------------------------------------------
Raw response:
{"sdk_http_response":{"headers":{"content-type":"application/json; charset=UTF-8","vary":"Origin, X-Origin, Referer","content-encoding":"gzip","date":"Wed, 07 Jan 2026 22:28:52 GMT","server":"scaffolding on HTTPServer2","x-xss-protection":"0","x-frame-options":"SAMEORIGIN","x-content-type-options":"nosniff","server-timing":"gfet4t7; dur=550","alt-svc":"h3=\":443\"; ma=2592000,h3-29=\":443\"; ma=2592000","transfer-encoding":"chunked"}},"candidates":[{"content":{"parts":[{"function_call":{"args":{"request":"Open the door"},"name":"action_router"}}],"role":"model"},"finish_reason":"STOP","avg_logprobs":-0.011690812451498849}],"model_version":"gemini-2.0-flash","response_id":"JN5eaabaDYe1jMcP8q-zkAU","usage_metadata":{"candidates_token_count":7,"candidates_tokens_details":[{"modality":"TEXT","token_count":7}],"prompt_token_count":966,"prompt_tokens_details":[{"modality":"TEXT","token_count":966}],"total_token_count":973}}
-----------------------------------------------------------

2026-01-07 14:28:54,014 - httpcore.http11 - DEBUG - response_closed.complete
2026-01-07 14:28:54,015 - google_adk.google.adk.models.google_llm - INFO - Response received from the model.
2026-01-07 14:28:54,015 - google_adk.google.adk.models.google_llm - DEBUG - 
LLM Response:
-----------------------------------------------------------
Text:
OK. I've added a task to count claps using the FaceTime HD Camera. The task ID is 6b92abeb.

-----------------------------------------------------------
Function calls:

-----------------------------------------------------------
Raw response:
{"sdk_http_response":{"headers":{"content-type":"application/json; charset=UTF-8","vary":"Origin, X-Origin, Referer","content-encoding":"gzip","date":"Wed, 07 Jan 2026 22:28:52 GMT","server":"scaffolding on HTTPServer2","x-xss-protection":"0","x-frame-options":"SAMEORIGIN","x-content-type-options":"nosniff","server-timing":"gfet4t7; dur=720","alt-svc":"h3=\":443\"; ma=2592000,h3-29=\":443\"; ma=2592000","transfer-encoding":"chunked"}},"candidates":[{"content":{"parts":[{"text":"OK. I've added a task to count claps using the FaceTime HD Camera. The task ID is 6b92abeb.\n"}],"role":"model"},"finish_reason":"STOP","avg_logprobs":-0.004482274574618186}],"model_version":"gemini-2.0-flash","response_id":"JN5eafWKDpiGjMcPnL3e0AE","usage_metadata":{"candidates_token_count":31,"candidates_tokens_details":[{"modality":"TEXT","token_count":31}],"prompt_token_count":1591,"prompt_tokens_details":[{"modality":"TEXT","token_count":1591}],"total_token_count":1622}}
-----------------------------------------------------------

2026-01-07 14:28:54,017 - VideoStreamIngestor - DEBUG - Process loop: Frame got from process loop queue for io_id=9856d608
2026-01-07 14:28:54,030 - VideoStreamIngestor - INFO - LLM inference prompt: output an update to say hello for task number 0 in the notes and take the action of opening the door
2026-01-07 14:28:54,031 - google_genai.models - INFO - AFC is enabled with max remote calls: 10.
2026-01-07 14:28:54,035 - httpcore.http11 - DEBUG - send_request_headers.started request=<Request [b'POST']>
2026-01-07 14:28:54,036 - httpcore.http11 - DEBUG - send_request_headers.complete
2026-01-07 14:28:54,036 - httpcore.http11 - DEBUG - send_request_body.started request=<Request [b'POST']>
2026-01-07 14:28:54,036 - httpcore.http11 - DEBUG - send_request_body.complete
2026-01-07 14:28:54,039 - httpcore.http11 - DEBUG - receive_response_headers.started request=<Request [b'POST']>
2026-01-07 14:28:55,958 - httpcore.http11 - DEBUG - receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'Content-Type', b'application/json; charset=UTF-8'), (b'Vary', b'Origin'), (b'Vary', b'X-Origin'), (b'Vary', b'Referer'), (b'Content-Encoding', b'gzip'), (b'Date', b'Wed, 07 Jan 2026 22:28:55 GMT'), (b'Server', b'scaffolding on HTTPServer2'), (b'X-XSS-Protection', b'0'), (b'X-Frame-Options', b'SAMEORIGIN'), (b'X-Content-Type-Options', b'nosniff'), (b'Server-Timing', b'gfet4t7; dur=1912'), (b'Alt-Svc', b'h3=":443"; ma=2592000,h3-29=":443"; ma=2592000'), (b'Transfer-Encoding', b'chunked')])
2026-01-07 14:28:55,959 - httpx - INFO - HTTP Request: POST https://generativelanguage.googleapis.com/v1beta/models/gemini-2.0-flash:generateContent "HTTP/1.1 200 OK"
2026-01-07 14:28:55,959 - httpcore.http11 - DEBUG - receive_response_body.started request=<Request [b'POST']>
2026-01-07 14:28:55,960 - httpcore.http11 - DEBUG - receive_response_body.complete
2026-01-07 14:28:55,960 - httpcore.http11 - DEBUG - response_closed.started
2026-01-07 14:28:55,960 - httpcore.http11 - DEBUG - response_closed.complete
2026-01-07 14:28:55,960 - VideoStreamIngestor - INFO - LLM inference output: task_updates=[TaskUpdate(task_number=0, task_note='Hello!', task_done=False)] system_actions=[SystemAction(take_action='Open the door')]
2026-01-07 14:28:55,977 - google_adk.google.adk.models.google_llm - INFO - Sending out request, model: gemini-2.5-flash, backend: GoogleLLMVariant.GEMINI_API, stream: False
2026-01-07 14:28:55,977 - google_adk.google.adk.models.google_llm - DEBUG - 
LLM Request:
-----------------------------------------------------------
System Instruction:
You are an intelligent action router agent. Your job is to understand action descriptions 
    and route them to the appropriate tool.

    Available tools:
    - send_email: For sending emails. Requires 'to' (email address), optional 'subject', and 'content' (body text).
    - open_door: For opening doors. Requires 'door_name' (e.g., 'front door', 'garage door').
    - close_door: For closing doors. Requires 'door_name'.
    - turn_on_light: For turning on lights. Requires 'light_name'.
    - turn_off_light: For turning off lights. Requires 'light_name'.

    When you receive an action description:
    1. Parse the description to understand the intent
    2. Extract the necessary parameters (email address, door name, etc.)
    3. Call the appropriate tool with the extracted parameters
    4. Return a clear confirmation of what action was taken

    Examples:
    - "send email to example@gmail.com with content hello!" -> call send_email(to="example@gmail.com", content="hello!")
    - "open front door" -> call open_door(door_name="front door")
    - "turn on the living room light" -> call turn_on_light(light_name="living room")
    
    Be smart about extracting parameters from natural language descriptions.

You are an agent. Your internal name is "action_router". The description about you is "An intelligent agent that routes action descriptions to the appropriate action tools.".
-----------------------------------------------------------
Config:
{'http_options': {'headers': {'x-goog-api-client': 'google-adk/1.21.0 gl-python/3.13.5', 'user-agent': 'google-adk/1.21.0 gl-python/3.13.5'}}, 'tools': [{}]}
-----------------------------------------------------------
Contents:
{"parts":[{"text":"Open the door"}],"role":"user"}
-----------------------------------------------------------
Functions:
send_email: {'to': {'type': <Type.STRING: 'STRING'>}, 'subject': {'nullable': True, 'type': <Type.STRING: 'STRING'>}, 'content': {'default': '', 'type': <Type.STRING: 'STRING'>}} 
open_door: {'door_name': {'type': <Type.STRING: 'STRING'>}} 
close_door: {'door_name': {'type': <Type.STRING: 'STRING'>}} 
turn_on_light: {'light_name': {'type': <Type.STRING: 'STRING'>}} 
turn_off_light: {'light_name': {'type': <Type.STRING: 'STRING'>}} 
print_to_user: {'message': {'type': <Type.STRING: 'STRING'>}} 
-----------------------------------------------------------

2026-01-07 14:28:55,978 - httpcore.connection - DEBUG - connect_tcp.started host='generativelanguage.googleapis.com' port=443 local_address=None timeout=None socket_options=None
2026-01-07 14:28:55,994 - httpcore.connection - DEBUG - close.started
2026-01-07 14:28:55,994 - VideoStreamIngestor - DEBUG - Process loop: Frame got from process loop queue for io_id=9856d608
2026-01-07 14:28:56,001 - VideoStreamIngestor - INFO - LLM inference prompt: output an update to say hello for task number 0 in the notes and take the action of opening the door
2026-01-07 14:28:56,001 - google_genai.models - INFO - AFC is enabled with max remote calls: 10.
2026-01-07 14:28:56,003 - httpcore.http11 - DEBUG - send_request_headers.started request=<Request [b'POST']>
2026-01-07 14:28:56,004 - httpcore.http11 - DEBUG - send_request_headers.complete
2026-01-07 14:28:56,004 - httpcore.http11 - DEBUG - send_request_body.started request=<Request [b'POST']>
2026-01-07 14:28:56,004 - httpcore.http11 - DEBUG - send_request_body.complete
2026-01-07 14:28:56,004 - httpcore.http11 - DEBUG - receive_response_headers.started request=<Request [b'POST']>
2026-01-07 14:28:58,192 - httpcore.http11 - DEBUG - receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'Content-Type', b'application/json; charset=UTF-8'), (b'Vary', b'Origin'), (b'Vary', b'X-Origin'), (b'Vary', b'Referer'), (b'Content-Encoding', b'gzip'), (b'Date', b'Wed, 07 Jan 2026 22:28:58 GMT'), (b'Server', b'scaffolding on HTTPServer2'), (b'X-XSS-Protection', b'0'), (b'X-Frame-Options', b'SAMEORIGIN'), (b'X-Content-Type-Options', b'nosniff'), (b'Server-Timing', b'gfet4t7; dur=2179'), (b'Alt-Svc', b'h3=":443"; ma=2592000,h3-29=":443"; ma=2592000'), (b'Transfer-Encoding', b'chunked')])
2026-01-07 14:28:58,192 - httpx - INFO - HTTP Request: POST https://generativelanguage.googleapis.com/v1beta/models/gemini-2.0-flash:generateContent "HTTP/1.1 200 OK"
2026-01-07 14:28:58,192 - httpcore.http11 - DEBUG - receive_response_body.started request=<Request [b'POST']>
2026-01-07 14:28:58,192 - httpcore.http11 - DEBUG - receive_response_body.complete
2026-01-07 14:28:58,192 - httpcore.http11 - DEBUG - response_closed.started
2026-01-07 14:28:58,192 - httpcore.http11 - DEBUG - response_closed.complete
2026-01-07 14:28:58,193 - VideoStreamIngestor - INFO - LLM inference output: task_updates=[TaskUpdate(task_number=0, task_note='hello', task_done=False)] system_actions=[SystemAction(take_action='opening the door')]
2026-01-07 14:28:58,193 - httpcore.connection - DEBUG - close.complete
2026-01-07 14:28:58,198 - VideoStreamIngestor - DEBUG - Process loop: Frame got from process loop queue for io_id=9856d608
2026-01-07 14:28:58,206 - VideoStreamIngestor - INFO - LLM inference prompt: output an update to say hello for task number 0 in the notes and take the action of opening the door
2026-01-07 14:28:58,206 - google_genai.models - INFO - AFC is enabled with max remote calls: 10.
2026-01-07 14:28:58,209 - httpcore.http11 - DEBUG - send_request_headers.started request=<Request [b'POST']>
2026-01-07 14:28:58,209 - httpcore.http11 - DEBUG - send_request_headers.complete
2026-01-07 14:28:58,209 - httpcore.http11 - DEBUG - send_request_body.started request=<Request [b'POST']>
2026-01-07 14:28:58,210 - httpcore.http11 - DEBUG - send_request_body.complete
2026-01-07 14:28:58,210 - httpcore.http11 - DEBUG - receive_response_headers.started request=<Request [b'POST']>
2026-01-07 14:29:00,126 - httpcore.http11 - DEBUG - receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'Content-Type', b'application/json; charset=UTF-8'), (b'Vary', b'Origin'), (b'Vary', b'X-Origin'), (b'Vary', b'Referer'), (b'Content-Encoding', b'gzip'), (b'Date', b'Wed, 07 Jan 2026 22:29:00 GMT'), (b'Server', b'scaffolding on HTTPServer2'), (b'X-XSS-Protection', b'0'), (b'X-Frame-Options', b'SAMEORIGIN'), (b'X-Content-Type-Options', b'nosniff'), (b'Server-Timing', b'gfet4t7; dur=1910'), (b'Alt-Svc', b'h3=":443"; ma=2592000,h3-29=":443"; ma=2592000'), (b'Transfer-Encoding', b'chunked')])
2026-01-07 14:29:00,126 - httpx - INFO - HTTP Request: POST https://generativelanguage.googleapis.com/v1beta/models/gemini-2.0-flash:generateContent "HTTP/1.1 200 OK"
2026-01-07 14:29:00,126 - httpcore.http11 - DEBUG - receive_response_body.started request=<Request [b'POST']>
2026-01-07 14:29:00,126 - httpcore.http11 - DEBUG - receive_response_body.complete
2026-01-07 14:29:00,126 - httpcore.http11 - DEBUG - response_closed.started
2026-01-07 14:29:00,126 - httpcore.http11 - DEBUG - response_closed.complete
2026-01-07 14:29:00,127 - VideoStreamIngestor - INFO - LLM inference output: task_updates=[TaskUpdate(task_number=0, task_note='say hello', task_done=False)] system_actions=[SystemAction(take_action='opening the door')]
2026-01-07 14:29:00,154 - VideoStreamIngestor - DEBUG - Process loop: Frame got from process loop queue for io_id=9856d608
2026-01-07 14:29:00,159 - VideoStreamIngestor - INFO - LLM inference prompt: output an update to say hello for task number 0 in the notes and take the action of opening the door
2026-01-07 14:29:00,159 - google_genai.models - INFO - AFC is enabled with max remote calls: 10.
2026-01-07 14:29:00,161 - httpcore.http11 - DEBUG - send_request_headers.started request=<Request [b'POST']>
2026-01-07 14:29:00,161 - httpcore.http11 - DEBUG - send_request_headers.complete
2026-01-07 14:29:00,161 - httpcore.http11 - DEBUG - send_request_body.started request=<Request [b'POST']>
2026-01-07 14:29:00,162 - httpcore.http11 - DEBUG - send_request_body.complete
2026-01-07 14:29:00,162 - httpcore.http11 - DEBUG - receive_response_headers.started request=<Request [b'POST']>
2026-01-07 14:29:02,286 - httpcore.http11 - DEBUG - receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'Content-Type', b'application/json; charset=UTF-8'), (b'Vary', b'Origin'), (b'Vary', b'X-Origin'), (b'Vary', b'Referer'), (b'Content-Encoding', b'gzip'), (b'Date', b'Wed, 07 Jan 2026 22:29:02 GMT'), (b'Server', b'scaffolding on HTTPServer2'), (b'X-XSS-Protection', b'0'), (b'X-Frame-Options', b'SAMEORIGIN'), (b'X-Content-Type-Options', b'nosniff'), (b'Server-Timing', b'gfet4t7; dur=2115'), (b'Alt-Svc', b'h3=":443"; ma=2592000,h3-29=":443"; ma=2592000'), (b'Transfer-Encoding', b'chunked')])
2026-01-07 14:29:02,287 - httpx - INFO - HTTP Request: POST https://generativelanguage.googleapis.com/v1beta/models/gemini-2.0-flash:generateContent "HTTP/1.1 200 OK"
2026-01-07 14:29:02,287 - httpcore.http11 - DEBUG - receive_response_body.started request=<Request [b'POST']>
2026-01-07 14:29:02,289 - httpcore.http11 - DEBUG - receive_response_body.complete
2026-01-07 14:29:02,289 - httpcore.http11 - DEBUG - response_closed.started
2026-01-07 14:29:02,289 - httpcore.http11 - DEBUG - response_closed.complete
2026-01-07 14:29:02,290 - VideoStreamIngestor - INFO - LLM inference output: task_updates=[TaskUpdate(task_number=0, task_note='hello', task_done=False)] system_actions=[SystemAction(take_action='opening the door')]
2026-01-07 14:29:02,310 - httpcore.connection - DEBUG - connect_tcp.complete return_value=<httpcore._backends.anyio.AnyIOStream object at 0x1340d0750>
2026-01-07 14:29:02,310 - httpcore.connection - DEBUG - start_tls.started ssl_context=<ssl.SSLContext object at 0x13408f6e0> server_hostname='generativelanguage.googleapis.com' timeout=None
2026-01-07 14:29:02,311 - VideoStreamIngestor - DEBUG - Process loop: Frame got from process loop queue for io_id=9856d608
2026-01-07 14:29:02,325 - VideoStreamIngestor - INFO - LLM inference prompt: output an update to say hello for task number 0 in the notes and take the action of opening the door
2026-01-07 14:29:02,326 - google_genai.models - INFO - AFC is enabled with max remote calls: 10.
2026-01-07 14:29:02,328 - httpcore.http11 - DEBUG - send_request_headers.started request=<Request [b'POST']>
2026-01-07 14:29:02,329 - httpcore.http11 - DEBUG - send_request_headers.complete
2026-01-07 14:29:02,329 - httpcore.http11 - DEBUG - send_request_body.started request=<Request [b'POST']>
2026-01-07 14:29:02,330 - httpcore.http11 - DEBUG - send_request_body.complete
2026-01-07 14:29:02,330 - httpcore.http11 - DEBUG - receive_response_headers.started request=<Request [b'POST']>
2026-01-07 14:29:04,383 - httpcore.http11 - DEBUG - receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'Content-Type', b'application/json; charset=UTF-8'), (b'Vary', b'Origin'), (b'Vary', b'X-Origin'), (b'Vary', b'Referer'), (b'Content-Encoding', b'gzip'), (b'Date', b'Wed, 07 Jan 2026 22:29:04 GMT'), (b'Server', b'scaffolding on HTTPServer2'), (b'X-XSS-Protection', b'0'), (b'X-Frame-Options', b'SAMEORIGIN'), (b'X-Content-Type-Options', b'nosniff'), (b'Server-Timing', b'gfet4t7; dur=2047'), (b'Alt-Svc', b'h3=":443"; ma=2592000,h3-29=":443"; ma=2592000'), (b'Transfer-Encoding', b'chunked')])
2026-01-07 14:29:04,383 - httpx - INFO - HTTP Request: POST https://generativelanguage.googleapis.com/v1beta/models/gemini-2.0-flash:generateContent "HTTP/1.1 200 OK"
2026-01-07 14:29:04,383 - httpcore.http11 - DEBUG - receive_response_body.started request=<Request [b'POST']>
2026-01-07 14:29:04,387 - httpcore.http11 - DEBUG - receive_response_body.complete
2026-01-07 14:29:04,387 - httpcore.http11 - DEBUG - response_closed.started
2026-01-07 14:29:04,387 - httpcore.http11 - DEBUG - response_closed.complete
2026-01-07 14:29:04,388 - VideoStreamIngestor - INFO - LLM inference output: task_updates=[TaskUpdate(task_number=0, task_note='Say hello', task_done=True)] system_actions=[SystemAction(take_action='Open the door')]
2026-01-07 14:29:04,420 - VideoStreamIngestor - DEBUG - Process loop: Frame got from process loop queue for io_id=9856d608
2026-01-07 14:29:04,427 - VideoStreamIngestor - INFO - LLM inference prompt: output an update to say hello for task number 0 in the notes and take the action of opening the door
2026-01-07 14:29:04,428 - google_genai.models - INFO - AFC is enabled with max remote calls: 10.
2026-01-07 14:29:04,431 - httpcore.http11 - DEBUG - send_request_headers.started request=<Request [b'POST']>
2026-01-07 14:29:04,431 - httpcore.http11 - DEBUG - send_request_headers.complete
2026-01-07 14:29:04,431 - httpcore.http11 - DEBUG - send_request_body.started request=<Request [b'POST']>
2026-01-07 14:29:04,432 - httpcore.http11 - DEBUG - send_request_body.complete
2026-01-07 14:29:04,432 - httpcore.http11 - DEBUG - receive_response_headers.started request=<Request [b'POST']>
2026-01-07 14:29:06,386 - httpcore.http11 - DEBUG - receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'Content-Type', b'application/json; charset=UTF-8'), (b'Vary', b'Origin'), (b'Vary', b'X-Origin'), (b'Vary', b'Referer'), (b'Content-Encoding', b'gzip'), (b'Date', b'Wed, 07 Jan 2026 22:29:06 GMT'), (b'Server', b'scaffolding on HTTPServer2'), (b'X-XSS-Protection', b'0'), (b'X-Frame-Options', b'SAMEORIGIN'), (b'X-Content-Type-Options', b'nosniff'), (b'Server-Timing', b'gfet4t7; dur=1875'), (b'Alt-Svc', b'h3=":443"; ma=2592000,h3-29=":443"; ma=2592000'), (b'Transfer-Encoding', b'chunked')])
2026-01-07 14:29:06,387 - httpx - INFO - HTTP Request: POST https://generativelanguage.googleapis.com/v1beta/models/gemini-2.0-flash:generateContent "HTTP/1.1 200 OK"
2026-01-07 14:29:06,387 - httpcore.http11 - DEBUG - receive_response_body.started request=<Request [b'POST']>
2026-01-07 14:29:06,387 - httpcore.http11 - DEBUG - receive_response_body.complete
2026-01-07 14:29:06,387 - httpcore.http11 - DEBUG - response_closed.started
2026-01-07 14:29:06,387 - httpcore.http11 - DEBUG - response_closed.complete
2026-01-07 14:29:06,389 - VideoStreamIngestor - INFO - LLM inference output: task_updates=[TaskUpdate(task_number=0, task_note='Say hello', task_done=False)] system_actions=[SystemAction(take_action='Open the door')]
2026-01-07 14:29:06,391 - httpcore.connection - DEBUG - start_tls.complete return_value=<httpcore._backends.anyio.AnyIOStream object at 0x1340d0d50>
2026-01-07 14:29:06,401 - httpcore.http11 - DEBUG - send_request_headers.started request=<Request [b'POST']>
2026-01-07 14:29:06,402 - VideoStreamIngestor - DEBUG - Process loop: Frame got from process loop queue for io_id=9856d608
2026-01-07 14:29:06,414 - VideoStreamIngestor - INFO - LLM inference prompt: output an update to say hello for task number 0 in the notes and take the action of opening the door
2026-01-07 14:29:06,415 - google_genai.models - INFO - AFC is enabled with max remote calls: 10.
2026-01-07 14:29:06,419 - httpcore.http11 - DEBUG - send_request_headers.started request=<Request [b'POST']>
2026-01-07 14:29:06,419 - httpcore.http11 - DEBUG - send_request_headers.complete
2026-01-07 14:29:06,419 - httpcore.http11 - DEBUG - send_request_body.started request=<Request [b'POST']>
2026-01-07 14:29:06,420 - httpcore.http11 - DEBUG - send_request_body.complete
2026-01-07 14:29:06,420 - httpcore.http11 - DEBUG - receive_response_headers.started request=<Request [b'POST']>
2026-01-07 14:29:08,434 - httpcore.http11 - DEBUG - receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'Content-Type', b'application/json; charset=UTF-8'), (b'Vary', b'Origin'), (b'Vary', b'X-Origin'), (b'Vary', b'Referer'), (b'Content-Encoding', b'gzip'), (b'Date', b'Wed, 07 Jan 2026 22:29:08 GMT'), (b'Server', b'scaffolding on HTTPServer2'), (b'X-XSS-Protection', b'0'), (b'X-Frame-Options', b'SAMEORIGIN'), (b'X-Content-Type-Options', b'nosniff'), (b'Server-Timing', b'gfet4t7; dur=1933'), (b'Alt-Svc', b'h3=":443"; ma=2592000,h3-29=":443"; ma=2592000'), (b'Transfer-Encoding', b'chunked')])
2026-01-07 14:29:08,434 - httpx - INFO - HTTP Request: POST https://generativelanguage.googleapis.com/v1beta/models/gemini-2.0-flash:generateContent "HTTP/1.1 200 OK"
2026-01-07 14:29:08,434 - httpcore.http11 - DEBUG - receive_response_body.started request=<Request [b'POST']>
2026-01-07 14:29:08,435 - httpcore.http11 - DEBUG - receive_response_body.complete
2026-01-07 14:29:08,435 - httpcore.http11 - DEBUG - response_closed.started
2026-01-07 14:29:08,435 - httpcore.http11 - DEBUG - response_closed.complete
2026-01-07 14:29:08,436 - VideoStreamIngestor - INFO - LLM inference output: task_updates=[TaskUpdate(task_number=0, task_note='Say hello', task_done=True)] system_actions=[SystemAction(take_action='Open the door')]
2026-01-07 14:29:08,436 - httpcore.http11 - DEBUG - send_request_headers.complete
2026-01-07 14:29:08,436 - httpcore.http11 - DEBUG - send_request_body.started request=<Request [b'POST']>
2026-01-07 14:29:08,437 - httpcore.http11 - DEBUG - send_request_body.complete
2026-01-07 14:29:08,437 - httpcore.http11 - DEBUG - receive_response_headers.started request=<Request [b'POST']>
2026-01-07 14:29:08,464 - VideoStreamIngestor - DEBUG - Process loop: Frame got from process loop queue for io_id=9856d608
2026-01-07 14:29:08,477 - VideoStreamIngestor - INFO - LLM inference prompt: output an update to say hello for task number 0 in the notes and take the action of opening the door
2026-01-07 14:29:08,478 - google_genai.models - INFO - AFC is enabled with max remote calls: 10.
2026-01-07 14:29:08,482 - httpcore.http11 - DEBUG - send_request_headers.started request=<Request [b'POST']>
2026-01-07 14:29:08,482 - httpcore.http11 - DEBUG - send_request_headers.complete
2026-01-07 14:29:08,482 - httpcore.http11 - DEBUG - send_request_body.started request=<Request [b'POST']>
2026-01-07 14:29:08,483 - httpcore.http11 - DEBUG - send_request_body.complete
2026-01-07 14:29:08,483 - httpcore.http11 - DEBUG - receive_response_headers.started request=<Request [b'POST']>
2026-01-07 14:29:10,245 - httpcore.http11 - DEBUG - receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'Content-Type', b'application/json; charset=UTF-8'), (b'Vary', b'Origin'), (b'Vary', b'X-Origin'), (b'Vary', b'Referer'), (b'Content-Encoding', b'gzip'), (b'Date', b'Wed, 07 Jan 2026 22:29:10 GMT'), (b'Server', b'scaffolding on HTTPServer2'), (b'X-XSS-Protection', b'0'), (b'X-Frame-Options', b'SAMEORIGIN'), (b'X-Content-Type-Options', b'nosniff'), (b'Server-Timing', b'gfet4t7; dur=1755'), (b'Alt-Svc', b'h3=":443"; ma=2592000,h3-29=":443"; ma=2592000'), (b'Transfer-Encoding', b'chunked')])
2026-01-07 14:29:10,246 - httpx - INFO - HTTP Request: POST https://generativelanguage.googleapis.com/v1beta/models/gemini-2.0-flash:generateContent "HTTP/1.1 200 OK"
2026-01-07 14:29:10,246 - httpcore.http11 - DEBUG - receive_response_body.started request=<Request [b'POST']>
2026-01-07 14:29:10,248 - httpcore.http11 - DEBUG - receive_response_body.complete
2026-01-07 14:29:10,248 - httpcore.http11 - DEBUG - response_closed.started
2026-01-07 14:29:10,248 - httpcore.http11 - DEBUG - response_closed.complete
2026-01-07 14:29:10,249 - VideoStreamIngestor - INFO - LLM inference output: task_updates=[TaskUpdate(task_number=0, task_note='say hello', task_done=False)] system_actions=[SystemAction(take_action='open the door')]
2026-01-07 14:29:10,250 - httpcore.http11 - DEBUG - receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'Content-Type', b'application/json; charset=UTF-8'), (b'Vary', b'Origin'), (b'Vary', b'X-Origin'), (b'Vary', b'Referer'), (b'Content-Encoding', b'gzip'), (b'Date', b'Wed, 07 Jan 2026 22:29:09 GMT'), (b'Server', b'scaffolding on HTTPServer2'), (b'X-XSS-Protection', b'0'), (b'X-Frame-Options', b'SAMEORIGIN'), (b'X-Content-Type-Options', b'nosniff'), (b'Server-Timing', b'gfet4t7; dur=902'), (b'Alt-Svc', b'h3=":443"; ma=2592000,h3-29=":443"; ma=2592000'), (b'Transfer-Encoding', b'chunked')])
2026-01-07 14:29:10,251 - httpx - INFO - HTTP Request: POST https://generativelanguage.googleapis.com/v1beta/models/gemini-2.5-flash:generateContent "HTTP/1.1 200 OK"
2026-01-07 14:29:10,251 - httpcore.http11 - DEBUG - receive_response_body.started request=<Request [b'POST']>
2026-01-07 14:29:10,252 - httpcore.http11 - DEBUG - receive_response_body.complete
2026-01-07 14:29:10,252 - httpcore.http11 - DEBUG - response_closed.started
2026-01-07 14:29:10,274 - httpcore.http11 - DEBUG - response_closed.complete
2026-01-07 14:29:10,277 - google_adk.google.adk.models.google_llm - INFO - Response received from the model.
2026-01-07 14:29:10,278 - google_adk.google.adk.models.google_llm - DEBUG - 
LLM Response:
-----------------------------------------------------------
Text:
Which door do you want to open?
-----------------------------------------------------------
Function calls:

-----------------------------------------------------------
Raw response:
{"sdk_http_response":{"headers":{"content-type":"application/json; charset=UTF-8","vary":"Origin, X-Origin, Referer","content-encoding":"gzip","date":"Wed, 07 Jan 2026 22:29:09 GMT","server":"scaffolding on HTTPServer2","x-xss-protection":"0","x-frame-options":"SAMEORIGIN","x-content-type-options":"nosniff","server-timing":"gfet4t7; dur=902","alt-svc":"h3=\":443\"; ma=2592000,h3-29=\":443\"; ma=2592000","transfer-encoding":"chunked"}},"candidates":[{"content":{"parts":[{"text":"Which door do you want to open?","thought_signature":"Cr0CAXLI2nwNkVVggwAmuLKGXl0aeAw2BH5c48lCrXoMheM24IVrZEp8DgF54kE7CDBRnQEuYnTiao20tAaLAy6QQKsmf8CmwzTeBCAn5pFgq3bPt7DGag6FZGx7rlyNM4nRfJYuGZ370vjKpfg-F9Gi4zWwVMvkVEFVt8wVBI7ZC8_XzmaSO8sFQqWcldQLrgrK97JxyuIWptWaF0NEebXo1Q6fv7FwQKb8rXO3TK0bOPKp6Af5PCnHwvLjIjAILkBpXQhxs_SO-rM4xxYoWPPzC0Thf0F3ZLH52i5HQE95cvxAzbCCiNv8zssyNLcowbHPlK_FKgx0KNY_CrOxfgOY0RLTme9bMUFC7yRLfZ5Sr8are5OYI0TQWrmTCj8MMLGLxh9yrH5s87aWyOXbzPvD4jzEtgCkGTxW6dz8EnI="}],"role":"model"},"finish_reason":"STOP","index":0}],"model_version":"gemini-2.5-flash","response_id":"Nd5eabufD5KsjMcP1cuqgQU","usage_metadata":{"candidates_token_count":8,"prompt_token_count":918,"prompt_tokens_details":[{"modality":"TEXT","token_count":918}],"thoughts_token_count":72,"total_token_count":998}}
-----------------------------------------------------------

2026-01-07 14:29:10,279 - google_adk.google.adk.runners - INFO - Closing runner...
2026-01-07 14:29:10,279 - google_adk.google.adk.runners - INFO - Runner closed.
2026-01-07 14:29:10,280 - VideoStreamIngestor - DEBUG - Process loop: Frame got from process loop queue for io_id=9856d608
2026-01-07 14:29:10,294 - VideoStreamIngestor - INFO - LLM inference prompt: output an update to say hello for task number 0 in the notes and take the action of opening the door
2026-01-07 14:29:10,296 - google_genai.models - INFO - AFC is enabled with max remote calls: 10.
2026-01-07 14:29:10,300 - httpcore.http11 - DEBUG - send_request_headers.started request=<Request [b'POST']>
2026-01-07 14:29:10,300 - httpcore.http11 - DEBUG - send_request_headers.complete
2026-01-07 14:29:10,300 - httpcore.http11 - DEBUG - send_request_body.started request=<Request [b'POST']>
2026-01-07 14:29:10,301 - httpcore.http11 - DEBUG - send_request_body.complete
2026-01-07 14:29:10,301 - httpcore.http11 - DEBUG - receive_response_headers.started request=<Request [b'POST']>
2026-01-07 14:29:12,223 - httpcore.http11 - DEBUG - receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'Content-Type', b'application/json; charset=UTF-8'), (b'Vary', b'Origin'), (b'Vary', b'X-Origin'), (b'Vary', b'Referer'), (b'Content-Encoding', b'gzip'), (b'Date', b'Wed, 07 Jan 2026 22:29:12 GMT'), (b'Server', b'scaffolding on HTTPServer2'), (b'X-XSS-Protection', b'0'), (b'X-Frame-Options', b'SAMEORIGIN'), (b'X-Content-Type-Options', b'nosniff'), (b'Server-Timing', b'gfet4t7; dur=1836'), (b'Alt-Svc', b'h3=":443"; ma=2592000,h3-29=":443"; ma=2592000'), (b'Transfer-Encoding', b'chunked')])
2026-01-07 14:29:12,223 - httpx - INFO - HTTP Request: POST https://generativelanguage.googleapis.com/v1beta/models/gemini-2.0-flash:generateContent "HTTP/1.1 200 OK"
2026-01-07 14:29:12,224 - httpcore.http11 - DEBUG - receive_response_body.started request=<Request [b'POST']>
2026-01-07 14:29:12,224 - httpcore.http11 - DEBUG - receive_response_body.complete
2026-01-07 14:29:12,224 - httpcore.http11 - DEBUG - response_closed.started
2026-01-07 14:29:12,224 - httpcore.http11 - DEBUG - response_closed.complete
2026-01-07 14:29:12,226 - VideoStreamIngestor - INFO - LLM inference output: task_updates=[TaskUpdate(task_number=0, task_note='Say hello.', task_done=True)] system_actions=[SystemAction(take_action='Open the door')]
2026-01-07 14:29:12,226 - httpcore.connection - DEBUG - close.started
2026-01-07 14:29:12,226 - httpcore.connection - DEBUG - close.complete
2026-01-07 14:29:12,250 - google_adk.google.adk.models.google_llm - INFO - Sending out request, model: gemini-2.0-flash, backend: GoogleLLMVariant.GEMINI_API, stream: False
2026-01-07 14:29:12,250 - google_adk.google.adk.models.google_llm - DEBUG - 
LLM Request:
-----------------------------------------------------------
System Instruction:
You are a helpful and friendly system administrator. Be concise and clear in your responses. You have access to tools that can help you check available input devices on the system and manage tasks. When a user requests a task that requires an input device, you should automatically call list_input_devices_with_ids to find the appropriate device and its io_id. Do not ask the user for io_ids - always retrieve them yourself using the available tools. When selecting a device, prefer video cameras (camera category) when possible. Once you have the io_id, use add_task with the io_id to create tasks. Use list_tasks to view all tasks (optionally filtered by io_id). When a user asks a question about a task, first call list_tasks to find the relevant task_id, then call get_info_on ONCE with that task_id to get detailed information. Do not call get_info_on multiple times for the same task_id. Use remove_task to delete a task by its task_id. Use edit_task to update a task's description. This is especially useful when a user wants to amend an existing task, for example, to add an action to be triggered when a condition is met. When editing a task, preserve the original detection part and add the new action requirement. For example, if a task is 'Count claps' and the user wants to send an email when claps reach 1, edit it to 'Count claps and when it reaches 1 send email to [email]'. You can also use take_output_action to execute various actions like sending emails, opening/closing doors, or controlling lights by providing a natural language description of the action. IMPORTANT: When a user requests an action to be triggered based on a video feed event (e.g., 'send me an email when I clap', 'turn on lights when I wave'), you have two options: 1. If a relevant task already exists (e.g., 'Count claps'), use edit_task to amend it with the action. 2. If no relevant task exists, add a NEW task that combines both the detection and the action. 

You are an agent. Your internal name is "system_administrator". The description about you is "A helpful system administrator. It controls the system on behalf of the user.".
-----------------------------------------------------------
Config:
{'http_options': {'headers': {'x-goog-api-client': 'google-adk/1.21.0 gl-python/3.13.5', 'user-agent': 'google-adk/1.21.0 gl-python/3.13.5'}}, 'tools': [{}]}
-----------------------------------------------------------
Contents:
{"parts":[{"text":"Execute this action: Open the door"}],"role":"user"}
{"parts":[{"function_call":{"args":{"request":"Open the door"},"name":"action_router"}}],"role":"model"}
{"parts":[{"function_response":{"name":"action_router","response":{"result":"Which door do you want to open?"}}}],"role":"user"}
-----------------------------------------------------------
Functions:
list_input_devices_with_ids: {} 
add_task: {'io_id': {'type': <Type.STRING: 'STRING'>}, 'task_description': {'type': <Type.STRING: 'STRING'>}} 
list_tasks: {'io_id': {'nullable': True, 'type': <Type.STRING: 'STRING'>}} 
get_info_on: {'task_id': {'type': <Type.STRING: 'STRING'>}} 
remove_task: {'task_id': {'type': <Type.STRING: 'STRING'>}} 
edit_task: {'task_id': {'type': <Type.STRING: 'STRING'>}, 'new_description': {'type': <Type.STRING: 'STRING'>}} 
action_router: {'request': {'type': <Type.STRING: 'STRING'>}} 
-----------------------------------------------------------

2026-01-07 14:29:12,261 - httpcore.connection - DEBUG - close.started
2026-01-07 14:29:12,261 - httpcore.connection - DEBUG - connect_tcp.started host='generativelanguage.googleapis.com' port=443 local_address=None timeout=None socket_options=None
2026-01-07 14:29:12,261 - VideoStreamIngestor - DEBUG - Process loop: Frame got from process loop queue for io_id=9856d608
2026-01-07 14:29:12,270 - VideoStreamIngestor - INFO - LLM inference prompt: output an update to say hello for task number 0 in the notes and take the action of opening the door
2026-01-07 14:29:12,271 - google_genai.models - INFO - AFC is enabled with max remote calls: 10.
2026-01-07 14:29:12,273 - httpcore.http11 - DEBUG - send_request_headers.started request=<Request [b'POST']>
2026-01-07 14:29:12,273 - httpcore.http11 - DEBUG - send_request_headers.complete
2026-01-07 14:29:12,273 - httpcore.http11 - DEBUG - send_request_body.started request=<Request [b'POST']>
2026-01-07 14:29:12,274 - httpcore.http11 - DEBUG - send_request_body.complete
2026-01-07 14:29:12,274 - httpcore.http11 - DEBUG - receive_response_headers.started request=<Request [b'POST']>
2026-01-07 14:29:14,169 - httpcore.http11 - DEBUG - receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'Content-Type', b'application/json; charset=UTF-8'), (b'Vary', b'Origin'), (b'Vary', b'X-Origin'), (b'Vary', b'Referer'), (b'Content-Encoding', b'gzip'), (b'Date', b'Wed, 07 Jan 2026 22:29:14 GMT'), (b'Server', b'scaffolding on HTTPServer2'), (b'X-XSS-Protection', b'0'), (b'X-Frame-Options', b'SAMEORIGIN'), (b'X-Content-Type-Options', b'nosniff'), (b'Server-Timing', b'gfet4t7; dur=1813'), (b'Alt-Svc', b'h3=":443"; ma=2592000,h3-29=":443"; ma=2592000'), (b'Transfer-Encoding', b'chunked')])
2026-01-07 14:29:14,169 - httpx - INFO - HTTP Request: POST https://generativelanguage.googleapis.com/v1beta/models/gemini-2.0-flash:generateContent "HTTP/1.1 200 OK"
2026-01-07 14:29:14,169 - httpcore.http11 - DEBUG - receive_response_body.started request=<Request [b'POST']>
2026-01-07 14:29:14,169 - httpcore.http11 - DEBUG - receive_response_body.complete
2026-01-07 14:29:14,169 - httpcore.http11 - DEBUG - response_closed.started
2026-01-07 14:29:14,170 - httpcore.http11 - DEBUG - response_closed.complete
2026-01-07 14:29:14,170 - VideoStreamIngestor - INFO - LLM inference output: task_updates=[TaskUpdate(task_number=0, task_note='hello', task_done=False)] system_actions=[SystemAction(take_action='open the door')]
2026-01-07 14:29:14,171 - httpcore.connection - DEBUG - close.complete
2026-01-07 14:29:14,187 - VideoStreamIngestor - DEBUG - Process loop: Frame got from process loop queue for io_id=9856d608
2026-01-07 14:29:14,195 - VideoStreamIngestor - INFO - LLM inference prompt: output an update to say hello for task number 0 in the notes and take the action of opening the door
2026-01-07 14:29:14,196 - google_genai.models - INFO - AFC is enabled with max remote calls: 10.
2026-01-07 14:29:14,198 - httpcore.http11 - DEBUG - send_request_headers.started request=<Request [b'POST']>
2026-01-07 14:29:14,199 - httpcore.http11 - DEBUG - send_request_headers.complete
2026-01-07 14:29:14,199 - httpcore.http11 - DEBUG - send_request_body.started request=<Request [b'POST']>
2026-01-07 14:29:14,199 - httpcore.http11 - DEBUG - send_request_body.complete
2026-01-07 14:29:14,199 - httpcore.http11 - DEBUG - receive_response_headers.started request=<Request [b'POST']>
2026-01-07 14:29:15,909 - httpcore.http11 - DEBUG - receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'Content-Type', b'application/json; charset=UTF-8'), (b'Vary', b'Origin'), (b'Vary', b'X-Origin'), (b'Vary', b'Referer'), (b'Content-Encoding', b'gzip'), (b'Date', b'Wed, 07 Jan 2026 22:29:15 GMT'), (b'Server', b'scaffolding on HTTPServer2'), (b'X-XSS-Protection', b'0'), (b'X-Frame-Options', b'SAMEORIGIN'), (b'X-Content-Type-Options', b'nosniff'), (b'Server-Timing', b'gfet4t7; dur=1674'), (b'Alt-Svc', b'h3=":443"; ma=2592000,h3-29=":443"; ma=2592000'), (b'Transfer-Encoding', b'chunked')])
2026-01-07 14:29:15,909 - httpx - INFO - HTTP Request: POST https://generativelanguage.googleapis.com/v1beta/models/gemini-2.0-flash:generateContent "HTTP/1.1 200 OK"
2026-01-07 14:29:15,909 - httpcore.http11 - DEBUG - receive_response_body.started request=<Request [b'POST']>
2026-01-07 14:29:15,909 - httpcore.http11 - DEBUG - receive_response_body.complete
2026-01-07 14:29:15,909 - httpcore.http11 - DEBUG - response_closed.started
2026-01-07 14:29:15,909 - httpcore.http11 - DEBUG - response_closed.complete
2026-01-07 14:29:15,910 - VideoStreamIngestor - INFO - LLM inference output: task_updates=[TaskUpdate(task_number=0, task_note='hello', task_done=False)] system_actions=[SystemAction(take_action='open the door')]
2026-01-07 14:29:15,928 - VideoStreamIngestor - DEBUG - Process loop: Frame got from process loop queue for io_id=9856d608
2026-01-07 14:29:15,935 - VideoStreamIngestor - INFO - LLM inference prompt: output an update to say hello for task number 0 in the notes and take the action of opening the door
2026-01-07 14:29:15,936 - google_genai.models - INFO - AFC is enabled with max remote calls: 10.
2026-01-07 14:29:15,938 - httpcore.http11 - DEBUG - send_request_headers.started request=<Request [b'POST']>
2026-01-07 14:29:15,939 - httpcore.http11 - DEBUG - send_request_headers.complete
2026-01-07 14:29:15,939 - httpcore.http11 - DEBUG - send_request_body.started request=<Request [b'POST']>
2026-01-07 14:29:15,939 - httpcore.http11 - DEBUG - send_request_body.complete
2026-01-07 14:29:15,939 - httpcore.http11 - DEBUG - receive_response_headers.started request=<Request [b'POST']>
2026-01-07 14:29:17,707 - httpcore.http11 - DEBUG - receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'Content-Type', b'application/json; charset=UTF-8'), (b'Vary', b'Origin'), (b'Vary', b'X-Origin'), (b'Vary', b'Referer'), (b'Content-Encoding', b'gzip'), (b'Date', b'Wed, 07 Jan 2026 22:29:17 GMT'), (b'Server', b'scaffolding on HTTPServer2'), (b'X-XSS-Protection', b'0'), (b'X-Frame-Options', b'SAMEORIGIN'), (b'X-Content-Type-Options', b'nosniff'), (b'Server-Timing', b'gfet4t7; dur=1756'), (b'Alt-Svc', b'h3=":443"; ma=2592000,h3-29=":443"; ma=2592000'), (b'Transfer-Encoding', b'chunked')])
2026-01-07 14:29:17,708 - httpx - INFO - HTTP Request: POST https://generativelanguage.googleapis.com/v1beta/models/gemini-2.0-flash:generateContent "HTTP/1.1 200 OK"
2026-01-07 14:29:17,708 - httpcore.http11 - DEBUG - receive_response_body.started request=<Request [b'POST']>
2026-01-07 14:29:17,708 - httpcore.http11 - DEBUG - receive_response_body.complete
2026-01-07 14:29:17,708 - httpcore.http11 - DEBUG - response_closed.started
2026-01-07 14:29:17,708 - httpcore.http11 - DEBUG - response_closed.complete
2026-01-07 14:29:17,709 - VideoStreamIngestor - INFO - LLM inference output: task_updates=[TaskUpdate(task_number=0, task_note='Say hello.', task_done=False)] system_actions=[SystemAction(take_action='Open the door.')]
2026-01-07 14:29:17,738 - httpcore.connection - DEBUG - connect_tcp.complete return_value=<httpcore._backends.anyio.AnyIOStream object at 0x1219be030>
2026-01-07 14:29:17,738 - httpcore.connection - DEBUG - start_tls.started ssl_context=<ssl.SSLContext object at 0x13408e960> server_hostname='generativelanguage.googleapis.com' timeout=None
2026-01-07 14:29:17,739 - VideoStreamIngestor - DEBUG - Process loop: Frame got from process loop queue for io_id=9856d608
2026-01-07 14:29:17,749 - VideoStreamIngestor - INFO - LLM inference prompt: output an update to say hello for task number 0 in the notes and take the action of opening the door
2026-01-07 14:29:17,750 - google_genai.models - INFO - AFC is enabled with max remote calls: 10.
2026-01-07 14:29:17,753 - httpcore.http11 - DEBUG - send_request_headers.started request=<Request [b'POST']>
2026-01-07 14:29:17,753 - httpcore.http11 - DEBUG - send_request_headers.complete
2026-01-07 14:29:17,753 - httpcore.http11 - DEBUG - send_request_body.started request=<Request [b'POST']>
2026-01-07 14:29:17,754 - httpcore.http11 - DEBUG - send_request_body.complete
2026-01-07 14:29:17,754 - httpcore.http11 - DEBUG - receive_response_headers.started request=<Request [b'POST']>
2026-01-07 14:29:19,587 - httpcore.http11 - DEBUG - receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'Content-Type', b'application/json; charset=UTF-8'), (b'Vary', b'Origin'), (b'Vary', b'X-Origin'), (b'Vary', b'Referer'), (b'Content-Encoding', b'gzip'), (b'Date', b'Wed, 07 Jan 2026 22:29:19 GMT'), (b'Server', b'scaffolding on HTTPServer2'), (b'X-XSS-Protection', b'0'), (b'X-Frame-Options', b'SAMEORIGIN'), (b'X-Content-Type-Options', b'nosniff'), (b'Server-Timing', b'gfet4t7; dur=1823'), (b'Alt-Svc', b'h3=":443"; ma=2592000,h3-29=":443"; ma=2592000'), (b'Transfer-Encoding', b'chunked')])
2026-01-07 14:29:19,587 - httpx - INFO - HTTP Request: POST https://generativelanguage.googleapis.com/v1beta/models/gemini-2.0-flash:generateContent "HTTP/1.1 200 OK"
2026-01-07 14:29:19,587 - httpcore.http11 - DEBUG - receive_response_body.started request=<Request [b'POST']>
2026-01-07 14:29:19,588 - httpcore.http11 - DEBUG - receive_response_body.complete
2026-01-07 14:29:19,589 - httpcore.http11 - DEBUG - response_closed.started
2026-01-07 14:29:19,589 - httpcore.http11 - DEBUG - response_closed.complete
2026-01-07 14:29:19,590 - VideoStreamIngestor - INFO - LLM inference output: task_updates=[TaskUpdate(task_number=0, task_note='Hello', task_done=False)] system_actions=[SystemAction(take_action='Open the door')]
2026-01-07 14:29:19,611 - VideoStreamIngestor - DEBUG - Process loop: Frame got from process loop queue for io_id=9856d608
2026-01-07 14:29:19,625 - VideoStreamIngestor - INFO - LLM inference prompt: output an update to say hello for task number 0 in the notes and take the action of opening the door
2026-01-07 14:29:19,626 - google_genai.models - INFO - AFC is enabled with max remote calls: 10.
2026-01-07 14:29:19,630 - httpcore.http11 - DEBUG - send_request_headers.started request=<Request [b'POST']>
2026-01-07 14:29:19,630 - httpcore.http11 - DEBUG - send_request_headers.complete
2026-01-07 14:29:19,630 - httpcore.http11 - DEBUG - send_request_body.started request=<Request [b'POST']>
2026-01-07 14:29:19,631 - httpcore.http11 - DEBUG - send_request_body.complete
2026-01-07 14:29:19,631 - httpcore.http11 - DEBUG - receive_response_headers.started request=<Request [b'POST']>
2026-01-07 14:29:21,337 - httpcore.http11 - DEBUG - receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'Content-Type', b'application/json; charset=UTF-8'), (b'Vary', b'Origin'), (b'Vary', b'X-Origin'), (b'Vary', b'Referer'), (b'Content-Encoding', b'gzip'), (b'Date', b'Wed, 07 Jan 2026 22:29:21 GMT'), (b'Server', b'scaffolding on HTTPServer2'), (b'X-XSS-Protection', b'0'), (b'X-Frame-Options', b'SAMEORIGIN'), (b'X-Content-Type-Options', b'nosniff'), (b'Server-Timing', b'gfet4t7; dur=1533'), (b'Alt-Svc', b'h3=":443"; ma=2592000,h3-29=":443"; ma=2592000'), (b'Transfer-Encoding', b'chunked')])
2026-01-07 14:29:21,338 - httpx - INFO - HTTP Request: POST https://generativelanguage.googleapis.com/v1beta/models/gemini-2.0-flash:generateContent "HTTP/1.1 200 OK"
2026-01-07 14:29:21,338 - httpcore.http11 - DEBUG - receive_response_body.started request=<Request [b'POST']>
2026-01-07 14:29:21,339 - httpcore.http11 - DEBUG - receive_response_body.complete
2026-01-07 14:29:21,339 - httpcore.http11 - DEBUG - response_closed.started
2026-01-07 14:29:21,339 - httpcore.http11 - DEBUG - response_closed.complete
2026-01-07 14:29:21,340 - VideoStreamIngestor - INFO - LLM inference output: task_updates=[TaskUpdate(task_number=0, task_note='hello', task_done=False)] system_actions=[SystemAction(take_action='opening the door')]
2026-01-07 14:29:21,350 - httpcore.connection - DEBUG - start_tls.complete return_value=<httpcore._backends.anyio.AnyIOStream object at 0x1219bdd60>
2026-01-07 14:29:21,351 - VideoStreamIngestor - DEBUG - Process loop: Frame got from process loop queue for io_id=9856d608
2026-01-07 14:29:21,365 - VideoStreamIngestor - INFO - LLM inference prompt: output an update to say hello for task number 0 in the notes and take the action of opening the door
2026-01-07 14:29:21,366 - google_genai.models - INFO - AFC is enabled with max remote calls: 10.
2026-01-07 14:29:21,370 - httpcore.http11 - DEBUG - send_request_headers.started request=<Request [b'POST']>
2026-01-07 14:29:21,370 - httpcore.http11 - DEBUG - send_request_headers.complete
2026-01-07 14:29:21,370 - httpcore.http11 - DEBUG - send_request_body.started request=<Request [b'POST']>
2026-01-07 14:29:21,371 - httpcore.http11 - DEBUG - send_request_body.complete
2026-01-07 14:29:21,371 - httpcore.http11 - DEBUG - receive_response_headers.started request=<Request [b'POST']>
2026-01-07 14:29:23,151 - httpcore.http11 - DEBUG - receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'Content-Type', b'application/json; charset=UTF-8'), (b'Vary', b'Origin'), (b'Vary', b'X-Origin'), (b'Vary', b'Referer'), (b'Content-Encoding', b'gzip'), (b'Date', b'Wed, 07 Jan 2026 22:29:23 GMT'), (b'Server', b'scaffolding on HTTPServer2'), (b'X-XSS-Protection', b'0'), (b'X-Frame-Options', b'SAMEORIGIN'), (b'X-Content-Type-Options', b'nosniff'), (b'Server-Timing', b'gfet4t7; dur=1773'), (b'Alt-Svc', b'h3=":443"; ma=2592000,h3-29=":443"; ma=2592000'), (b'Transfer-Encoding', b'chunked')])
2026-01-07 14:29:23,152 - httpx - INFO - HTTP Request: POST https://generativelanguage.googleapis.com/v1beta/models/gemini-2.0-flash:generateContent "HTTP/1.1 200 OK"
2026-01-07 14:29:23,158 - httpcore.http11 - DEBUG - receive_response_body.started request=<Request [b'POST']>
2026-01-07 14:29:23,159 - httpcore.http11 - DEBUG - receive_response_body.complete
2026-01-07 14:29:23,159 - httpcore.http11 - DEBUG - response_closed.started
2026-01-07 14:29:23,159 - httpcore.http11 - DEBUG - response_closed.complete
2026-01-07 14:29:23,161 - VideoStreamIngestor - INFO - LLM inference output: task_updates=[TaskUpdate(task_number=0, task_note='say hello', task_done=False)] system_actions=[SystemAction(take_action='opening the door')]
2026-01-07 14:29:23,162 - httpcore.http11 - DEBUG - send_request_headers.started request=<Request [b'POST']>
2026-01-07 14:29:23,162 - httpcore.http11 - DEBUG - send_request_headers.complete
2026-01-07 14:29:23,163 - httpcore.http11 - DEBUG - send_request_body.started request=<Request [b'POST']>
2026-01-07 14:29:23,177 - httpcore.http11 - DEBUG - send_request_body.complete
2026-01-07 14:29:23,177 - httpcore.http11 - DEBUG - receive_response_headers.started request=<Request [b'POST']>
2026-01-07 14:29:23,178 - VideoStreamIngestor - DEBUG - Process loop: Frame got from process loop queue for io_id=9856d608
2026-01-07 14:29:23,189 - VideoStreamIngestor - INFO - LLM inference prompt: output an update to say hello for task number 0 in the notes and take the action of opening the door
2026-01-07 14:29:23,190 - google_genai.models - INFO - AFC is enabled with max remote calls: 10.
2026-01-07 14:29:23,194 - httpcore.http11 - DEBUG - send_request_headers.started request=<Request [b'POST']>
2026-01-07 14:29:23,194 - httpcore.http11 - DEBUG - send_request_headers.complete
2026-01-07 14:29:23,194 - httpcore.http11 - DEBUG - send_request_body.started request=<Request [b'POST']>
2026-01-07 14:29:23,195 - httpcore.http11 - DEBUG - send_request_body.complete
2026-01-07 14:29:23,195 - httpcore.http11 - DEBUG - receive_response_headers.started request=<Request [b'POST']>
2026-01-07 14:29:24,957 - httpcore.http11 - DEBUG - receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'Content-Type', b'application/json; charset=UTF-8'), (b'Vary', b'Origin'), (b'Vary', b'X-Origin'), (b'Vary', b'Referer'), (b'Content-Encoding', b'gzip'), (b'Date', b'Wed, 07 Jan 2026 22:29:24 GMT'), (b'Server', b'scaffolding on HTTPServer2'), (b'X-XSS-Protection', b'0'), (b'X-Frame-Options', b'SAMEORIGIN'), (b'X-Content-Type-Options', b'nosniff'), (b'Server-Timing', b'gfet4t7; dur=1755'), (b'Alt-Svc', b'h3=":443"; ma=2592000,h3-29=":443"; ma=2592000'), (b'Transfer-Encoding', b'chunked')])
2026-01-07 14:29:24,958 - httpx - INFO - HTTP Request: POST https://generativelanguage.googleapis.com/v1beta/models/gemini-2.0-flash:generateContent "HTTP/1.1 200 OK"
2026-01-07 14:29:24,959 - httpcore.http11 - DEBUG - receive_response_body.started request=<Request [b'POST']>
2026-01-07 14:29:24,959 - httpcore.http11 - DEBUG - receive_response_body.complete
2026-01-07 14:29:24,960 - httpcore.http11 - DEBUG - response_closed.started
2026-01-07 14:29:24,960 - httpcore.http11 - DEBUG - response_closed.complete
2026-01-07 14:29:24,961 - VideoStreamIngestor - INFO - LLM inference output: task_updates=[TaskUpdate(task_number=0, task_note='Hello!', task_done=False)] system_actions=[SystemAction(take_action='Open the door')]
2026-01-07 14:29:24,962 - httpcore.http11 - DEBUG - receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'Content-Type', b'application/json; charset=UTF-8'), (b'Vary', b'Origin'), (b'Vary', b'X-Origin'), (b'Vary', b'Referer'), (b'Content-Encoding', b'gzip'), (b'Date', b'Wed, 07 Jan 2026 22:29:23 GMT'), (b'Server', b'scaffolding on HTTPServer2'), (b'X-XSS-Protection', b'0'), (b'X-Frame-Options', b'SAMEORIGIN'), (b'X-Content-Type-Options', b'nosniff'), (b'Server-Timing', b'gfet4t7; dur=501'), (b'Alt-Svc', b'h3=":443"; ma=2592000,h3-29=":443"; ma=2592000'), (b'Transfer-Encoding', b'chunked')])
2026-01-07 14:29:24,962 - httpx - INFO - HTTP Request: POST https://generativelanguage.googleapis.com/v1beta/models/gemini-2.0-flash:generateContent "HTTP/1.1 200 OK"
2026-01-07 14:29:24,962 - httpcore.http11 - DEBUG - receive_response_body.started request=<Request [b'POST']>
2026-01-07 14:29:24,963 - httpcore.http11 - DEBUG - receive_response_body.complete
2026-01-07 14:29:24,963 - httpcore.http11 - DEBUG - response_closed.started
2026-01-07 14:29:24,979 - httpcore.http11 - DEBUG - response_closed.complete
2026-01-07 14:29:24,981 - google_adk.google.adk.models.google_llm - INFO - Response received from the model.
2026-01-07 14:29:24,981 - google_adk.google.adk.models.google_llm - DEBUG - 
LLM Response:
-----------------------------------------------------------
Text:
Which door do you want to open?

-----------------------------------------------------------
Function calls:

-----------------------------------------------------------
Raw response:
{"sdk_http_response":{"headers":{"content-type":"application/json; charset=UTF-8","vary":"Origin, X-Origin, Referer","content-encoding":"gzip","date":"Wed, 07 Jan 2026 22:29:23 GMT","server":"scaffolding on HTTPServer2","x-xss-protection":"0","x-frame-options":"SAMEORIGIN","x-content-type-options":"nosniff","server-timing":"gfet4t7; dur=501","alt-svc":"h3=\":443\"; ma=2592000,h3-29=\":443\"; ma=2592000","transfer-encoding":"chunked"}},"candidates":[{"content":{"parts":[{"text":"Which door do you want to open?\n"}],"role":"model"},"finish_reason":"STOP","avg_logprobs":-0.08003703753153484}],"model_version":"gemini-2.0-flash","response_id":"Q95eafTQDfOOjMcPrPjvgAI","usage_metadata":{"candidates_token_count":9,"candidates_tokens_details":[{"modality":"TEXT","token_count":9}],"prompt_token_count":985,"prompt_tokens_details":[{"modality":"TEXT","token_count":985}],"total_token_count":994}}
-----------------------------------------------------------

2026-01-07 14:29:24,981 - VideoStreamIngestor - INFO - Action result: Which door do you want to open?

2026-01-07 14:29:24,982 - VideoStreamIngestor - DEBUG - Action loop: Action open the door got from action loop queue for io_id=9856d608
2026-01-07 14:29:25,002 - google_adk.google.adk.models.google_llm - INFO - Sending out request, model: gemini-2.0-flash, backend: GoogleLLMVariant.GEMINI_API, stream: False
2026-01-07 14:29:25,003 - google_adk.google.adk.models.google_llm - DEBUG - 
LLM Request:
-----------------------------------------------------------
System Instruction:
You are a helpful and friendly system administrator. Be concise and clear in your responses. You have access to tools that can help you check available input devices on the system and manage tasks. When a user requests a task that requires an input device, you should automatically call list_input_devices_with_ids to find the appropriate device and its io_id. Do not ask the user for io_ids - always retrieve them yourself using the available tools. When selecting a device, prefer video cameras (camera category) when possible. Once you have the io_id, use add_task with the io_id to create tasks. Use list_tasks to view all tasks (optionally filtered by io_id). When a user asks a question about a task, first call list_tasks to find the relevant task_id, then call get_info_on ONCE with that task_id to get detailed information. Do not call get_info_on multiple times for the same task_id. Use remove_task to delete a task by its task_id. Use edit_task to update a task's description. This is especially useful when a user wants to amend an existing task, for example, to add an action to be triggered when a condition is met. When editing a task, preserve the original detection part and add the new action requirement. For example, if a task is 'Count claps' and the user wants to send an email when claps reach 1, edit it to 'Count claps and when it reaches 1 send email to [email]'. You can also use take_output_action to execute various actions like sending emails, opening/closing doors, or controlling lights by providing a natural language description of the action. IMPORTANT: When a user requests an action to be triggered based on a video feed event (e.g., 'send me an email when I clap', 'turn on lights when I wave'), you have two options: 1. If a relevant task already exists (e.g., 'Count claps'), use edit_task to amend it with the action. 2. If no relevant task exists, add a NEW task that combines both the detection and the action. 

You are an agent. Your internal name is "system_administrator". The description about you is "A helpful system administrator. It controls the system on behalf of the user.".
-----------------------------------------------------------
Config:
{'http_options': {'headers': {'x-goog-api-client': 'google-adk/1.21.0 gl-python/3.13.5', 'user-agent': 'google-adk/1.21.0 gl-python/3.13.5'}}, 'tools': [{}]}
-----------------------------------------------------------
Contents:
{"parts":[{"text":"Execute this action: Open the door"}],"role":"user"}
{"parts":[{"function_call":{"args":{"request":"Open the door"},"name":"action_router"}}],"role":"model"}
{"parts":[{"function_response":{"name":"action_router","response":{"result":"Which door do you want to open?"}}}],"role":"user"}
{"parts":[{"text":"Which door do you want to open?\n"}],"role":"model"}
{"parts":[{"text":"Execute this action: open the door"}],"role":"user"}
-----------------------------------------------------------
Functions:
list_input_devices_with_ids: {} 
add_task: {'io_id': {'type': <Type.STRING: 'STRING'>}, 'task_description': {'type': <Type.STRING: 'STRING'>}} 
list_tasks: {'io_id': {'nullable': True, 'type': <Type.STRING: 'STRING'>}} 
get_info_on: {'task_id': {'type': <Type.STRING: 'STRING'>}} 
remove_task: {'task_id': {'type': <Type.STRING: 'STRING'>}} 
edit_task: {'task_id': {'type': <Type.STRING: 'STRING'>}, 'new_description': {'type': <Type.STRING: 'STRING'>}} 
action_router: {'request': {'type': <Type.STRING: 'STRING'>}} 
-----------------------------------------------------------

2026-01-07 14:29:25,004 - VideoStreamIngestor - DEBUG - Process loop: Frame got from process loop queue for io_id=9856d608
2026-01-07 14:29:25,012 - VideoStreamIngestor - INFO - LLM inference prompt: output an update to say hello for task number 0 in the notes and take the action of opening the door
2026-01-07 14:29:25,013 - google_genai.models - INFO - AFC is enabled with max remote calls: 10.
2026-01-07 14:29:25,015 - httpcore.http11 - DEBUG - send_request_headers.started request=<Request [b'POST']>
2026-01-07 14:29:25,015 - httpcore.http11 - DEBUG - send_request_headers.complete
2026-01-07 14:29:25,015 - httpcore.http11 - DEBUG - send_request_body.started request=<Request [b'POST']>
2026-01-07 14:29:25,016 - httpcore.http11 - DEBUG - send_request_body.complete
2026-01-07 14:29:25,016 - httpcore.http11 - DEBUG - receive_response_headers.started request=<Request [b'POST']>
2026-01-07 14:29:26,836 - httpcore.http11 - DEBUG - receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'Content-Type', b'application/json; charset=UTF-8'), (b'Vary', b'Origin'), (b'Vary', b'X-Origin'), (b'Vary', b'Referer'), (b'Content-Encoding', b'gzip'), (b'Date', b'Wed, 07 Jan 2026 22:29:26 GMT'), (b'Server', b'scaffolding on HTTPServer2'), (b'X-XSS-Protection', b'0'), (b'X-Frame-Options', b'SAMEORIGIN'), (b'X-Content-Type-Options', b'nosniff'), (b'Server-Timing', b'gfet4t7; dur=1807'), (b'Alt-Svc', b'h3=":443"; ma=2592000,h3-29=":443"; ma=2592000'), (b'Transfer-Encoding', b'chunked')])
2026-01-07 14:29:26,836 - httpx - INFO - HTTP Request: POST https://generativelanguage.googleapis.com/v1beta/models/gemini-2.0-flash:generateContent "HTTP/1.1 200 OK"
2026-01-07 14:29:26,836 - httpcore.http11 - DEBUG - receive_response_body.started request=<Request [b'POST']>
2026-01-07 14:29:26,837 - httpcore.http11 - DEBUG - receive_response_body.complete
2026-01-07 14:29:26,837 - httpcore.http11 - DEBUG - response_closed.started
2026-01-07 14:29:26,837 - httpcore.http11 - DEBUG - response_closed.complete
2026-01-07 14:29:26,838 - VideoStreamIngestor - INFO - LLM inference output: task_updates=[TaskUpdate(task_number=0, task_note='say hello', task_done=False)] system_actions=[SystemAction(take_action='opening the door')]
2026-01-07 14:29:26,838 - httpcore.connection - DEBUG - connect_tcp.started host='generativelanguage.googleapis.com' port=443 local_address=None timeout=None socket_options=None
2026-01-07 14:29:26,858 - httpcore.connection - DEBUG - close.started
2026-01-07 14:29:26,859 - VideoStreamIngestor - DEBUG - Process loop: Frame got from process loop queue for io_id=9856d608
2026-01-07 14:29:26,864 - VideoStreamIngestor - INFO - LLM inference prompt: output an update to say hello for task number 0 in the notes and take the action of opening the door
2026-01-07 14:29:26,864 - google_genai.models - INFO - AFC is enabled with max remote calls: 10.
2026-01-07 14:29:26,866 - httpcore.http11 - DEBUG - send_request_headers.started request=<Request [b'POST']>
2026-01-07 14:29:26,867 - httpcore.http11 - DEBUG - send_request_headers.complete
2026-01-07 14:29:26,867 - httpcore.http11 - DEBUG - send_request_body.started request=<Request [b'POST']>
2026-01-07 14:29:26,867 - httpcore.http11 - DEBUG - send_request_body.complete
2026-01-07 14:29:26,867 - httpcore.http11 - DEBUG - receive_response_headers.started request=<Request [b'POST']>
2026-01-07 14:29:28,796 - httpcore.http11 - DEBUG - receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'Content-Type', b'application/json; charset=UTF-8'), (b'Vary', b'Origin'), (b'Vary', b'X-Origin'), (b'Vary', b'Referer'), (b'Content-Encoding', b'gzip'), (b'Date', b'Wed, 07 Jan 2026 22:29:28 GMT'), (b'Server', b'scaffolding on HTTPServer2'), (b'X-XSS-Protection', b'0'), (b'X-Frame-Options', b'SAMEORIGIN'), (b'X-Content-Type-Options', b'nosniff'), (b'Server-Timing', b'gfet4t7; dur=1921'), (b'Alt-Svc', b'h3=":443"; ma=2592000,h3-29=":443"; ma=2592000'), (b'Transfer-Encoding', b'chunked')])
2026-01-07 14:29:28,796 - httpx - INFO - HTTP Request: POST https://generativelanguage.googleapis.com/v1beta/models/gemini-2.0-flash:generateContent "HTTP/1.1 200 OK"
2026-01-07 14:29:28,797 - httpcore.http11 - DEBUG - receive_response_body.started request=<Request [b'POST']>
2026-01-07 14:29:28,797 - httpcore.http11 - DEBUG - receive_response_body.complete
2026-01-07 14:29:28,797 - httpcore.http11 - DEBUG - response_closed.started
2026-01-07 14:29:28,798 - httpcore.http11 - DEBUG - response_closed.complete
2026-01-07 14:29:28,799 - VideoStreamIngestor - INFO - LLM inference output: task_updates=[TaskUpdate(task_number=0, task_note='say hello', task_done=False)] system_actions=[SystemAction(take_action='opening the door')]
2026-01-07 14:29:28,799 - httpcore.connection - DEBUG - close.complete
2026-01-07 14:29:28,816 - VideoStreamIngestor - DEBUG - Process loop: Frame got from process loop queue for io_id=9856d608
2026-01-07 14:29:28,830 - VideoStreamIngestor - INFO - LLM inference prompt: output an update to say hello for task number 0 in the notes and take the action of opening the door
2026-01-07 14:29:28,831 - google_genai.models - INFO - AFC is enabled with max remote calls: 10.
2026-01-07 14:29:28,835 - httpcore.http11 - DEBUG - send_request_headers.started request=<Request [b'POST']>
2026-01-07 14:29:28,835 - httpcore.http11 - DEBUG - send_request_headers.complete
2026-01-07 14:29:28,835 - httpcore.http11 - DEBUG - send_request_body.started request=<Request [b'POST']>
2026-01-07 14:29:28,836 - httpcore.http11 - DEBUG - send_request_body.complete
2026-01-07 14:29:28,836 - httpcore.http11 - DEBUG - receive_response_headers.started request=<Request [b'POST']>
2026-01-07 14:29:30,479 - httpcore.http11 - DEBUG - receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'Content-Type', b'application/json; charset=UTF-8'), (b'Vary', b'Origin'), (b'Vary', b'X-Origin'), (b'Vary', b'Referer'), (b'Content-Encoding', b'gzip'), (b'Date', b'Wed, 07 Jan 2026 22:29:30 GMT'), (b'Server', b'scaffolding on HTTPServer2'), (b'X-XSS-Protection', b'0'), (b'X-Frame-Options', b'SAMEORIGIN'), (b'X-Content-Type-Options', b'nosniff'), (b'Server-Timing', b'gfet4t7; dur=1631'), (b'Alt-Svc', b'h3=":443"; ma=2592000,h3-29=":443"; ma=2592000'), (b'Transfer-Encoding', b'chunked')])
2026-01-07 14:29:30,479 - httpx - INFO - HTTP Request: POST https://generativelanguage.googleapis.com/v1beta/models/gemini-2.0-flash:generateContent "HTTP/1.1 200 OK"
2026-01-07 14:29:30,479 - httpcore.http11 - DEBUG - receive_response_body.started request=<Request [b'POST']>
2026-01-07 14:29:30,480 - httpcore.http11 - DEBUG - receive_response_body.complete
2026-01-07 14:29:30,480 - httpcore.http11 - DEBUG - response_closed.started
2026-01-07 14:29:30,480 - httpcore.http11 - DEBUG - response_closed.complete
2026-01-07 14:29:30,480 - VideoStreamIngestor - INFO - LLM inference output: task_updates=[TaskUpdate(task_number=0, task_note='hello', task_done=False)] system_actions=[SystemAction(take_action='opening the door')]
2026-01-07 14:29:30,496 - VideoStreamIngestor - DEBUG - Process loop: Frame got from process loop queue for io_id=9856d608
2026-01-07 14:29:30,501 - VideoStreamIngestor - INFO - LLM inference prompt: output an update to say hello for task number 0 in the notes and take the action of opening the door
2026-01-07 14:29:30,501 - google_genai.models - INFO - AFC is enabled with max remote calls: 10.
2026-01-07 14:29:30,503 - httpcore.http11 - DEBUG - send_request_headers.started request=<Request [b'POST']>
2026-01-07 14:29:30,503 - httpcore.http11 - DEBUG - send_request_headers.complete
2026-01-07 14:29:30,503 - httpcore.http11 - DEBUG - send_request_body.started request=<Request [b'POST']>
2026-01-07 14:29:30,504 - httpcore.http11 - DEBUG - send_request_body.complete
2026-01-07 14:29:30,504 - httpcore.http11 - DEBUG - receive_response_headers.started request=<Request [b'POST']>
2026-01-07 14:29:32,397 - httpcore.http11 - DEBUG - receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'Content-Type', b'application/json; charset=UTF-8'), (b'Vary', b'Origin'), (b'Vary', b'X-Origin'), (b'Vary', b'Referer'), (b'Content-Encoding', b'gzip'), (b'Date', b'Wed, 07 Jan 2026 22:29:32 GMT'), (b'Server', b'scaffolding on HTTPServer2'), (b'X-XSS-Protection', b'0'), (b'X-Frame-Options', b'SAMEORIGIN'), (b'X-Content-Type-Options', b'nosniff'), (b'Server-Timing', b'gfet4t7; dur=1798'), (b'Alt-Svc', b'h3=":443"; ma=2592000,h3-29=":443"; ma=2592000'), (b'Transfer-Encoding', b'chunked')])
2026-01-07 14:29:32,397 - httpx - INFO - HTTP Request: POST https://generativelanguage.googleapis.com/v1beta/models/gemini-2.0-flash:generateContent "HTTP/1.1 200 OK"
2026-01-07 14:29:32,397 - httpcore.http11 - DEBUG - receive_response_body.started request=<Request [b'POST']>
2026-01-07 14:29:32,398 - httpcore.http11 - DEBUG - receive_response_body.complete
2026-01-07 14:29:32,398 - httpcore.http11 - DEBUG - response_closed.started
2026-01-07 14:29:32,398 - httpcore.http11 - DEBUG - response_closed.complete
2026-01-07 14:29:32,400 - VideoStreamIngestor - INFO - LLM inference output: task_updates=[TaskUpdate(task_number=0, task_note='hello', task_done=False)] system_actions=[SystemAction(take_action='open the door')]
2026-01-07 14:29:32,432 - VideoStreamIngestor - DEBUG - Process loop: Frame got from process loop queue for io_id=9856d608
2026-01-07 14:29:32,448 - VideoStreamIngestor - INFO - LLM inference prompt: output an update to say hello for task number 0 in the notes and take the action of opening the door
2026-01-07 14:29:32,450 - google_genai.models - INFO - AFC is enabled with max remote calls: 10.
2026-01-07 14:29:32,453 - httpcore.http11 - DEBUG - send_request_headers.started request=<Request [b'POST']>
2026-01-07 14:29:32,454 - httpcore.http11 - DEBUG - send_request_headers.complete
2026-01-07 14:29:32,454 - httpcore.http11 - DEBUG - send_request_body.started request=<Request [b'POST']>
2026-01-07 14:29:32,454 - httpcore.http11 - DEBUG - send_request_body.complete
2026-01-07 14:29:32,454 - httpcore.http11 - DEBUG - receive_response_headers.started request=<Request [b'POST']>
2026-01-07 14:29:34,229 - httpcore.http11 - DEBUG - receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'Content-Type', b'application/json; charset=UTF-8'), (b'Vary', b'Origin'), (b'Vary', b'X-Origin'), (b'Vary', b'Referer'), (b'Content-Encoding', b'gzip'), (b'Date', b'Wed, 07 Jan 2026 22:29:34 GMT'), (b'Server', b'scaffolding on HTTPServer2'), (b'X-XSS-Protection', b'0'), (b'X-Frame-Options', b'SAMEORIGIN'), (b'X-Content-Type-Options', b'nosniff'), (b'Server-Timing', b'gfet4t7; dur=1767'), (b'Alt-Svc', b'h3=":443"; ma=2592000,h3-29=":443"; ma=2592000'), (b'Transfer-Encoding', b'chunked')])
2026-01-07 14:29:34,229 - httpx - INFO - HTTP Request: POST https://generativelanguage.googleapis.com/v1beta/models/gemini-2.0-flash:generateContent "HTTP/1.1 200 OK"
2026-01-07 14:29:34,229 - httpcore.http11 - DEBUG - receive_response_body.started request=<Request [b'POST']>
2026-01-07 14:29:34,230 - httpcore.http11 - DEBUG - receive_response_body.complete
2026-01-07 14:29:34,230 - httpcore.http11 - DEBUG - response_closed.started
2026-01-07 14:29:34,230 - httpcore.http11 - DEBUG - response_closed.complete
2026-01-07 14:29:34,230 - VideoStreamIngestor - INFO - LLM inference output: task_updates=[TaskUpdate(task_number=0, task_note='say hello', task_done=False)] system_actions=[SystemAction(take_action='open the door')]
2026-01-07 14:29:34,231 - httpcore.connection - DEBUG - connect_tcp.complete return_value=<httpcore._backends.anyio.AnyIOStream object at 0x1219ef690>
2026-01-07 14:29:34,231 - httpcore.connection - DEBUG - start_tls.started ssl_context=<ssl.SSLContext object at 0x1219fc170> server_hostname='generativelanguage.googleapis.com' timeout=None
2026-01-07 14:29:34,237 - VideoStreamIngestor - DEBUG - Process loop: Frame got from process loop queue for io_id=9856d608
2026-01-07 14:29:34,246 - VideoStreamIngestor - INFO - LLM inference prompt: output an update to say hello for task number 0 in the notes and take the action of opening the door
2026-01-07 14:29:34,246 - google_genai.models - INFO - AFC is enabled with max remote calls: 10.
2026-01-07 14:29:34,249 - httpcore.http11 - DEBUG - send_request_headers.started request=<Request [b'POST']>
2026-01-07 14:29:34,249 - httpcore.http11 - DEBUG - send_request_headers.complete
2026-01-07 14:29:34,249 - httpcore.http11 - DEBUG - send_request_body.started request=<Request [b'POST']>
2026-01-07 14:29:34,250 - httpcore.http11 - DEBUG - send_request_body.complete
2026-01-07 14:29:34,250 - httpcore.http11 - DEBUG - receive_response_headers.started request=<Request [b'POST']>
2026-01-07 14:29:36,185 - httpcore.http11 - DEBUG - receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'Content-Type', b'application/json; charset=UTF-8'), (b'Vary', b'Origin'), (b'Vary', b'X-Origin'), (b'Vary', b'Referer'), (b'Content-Encoding', b'gzip'), (b'Date', b'Wed, 07 Jan 2026 22:29:36 GMT'), (b'Server', b'scaffolding on HTTPServer2'), (b'X-XSS-Protection', b'0'), (b'X-Frame-Options', b'SAMEORIGIN'), (b'X-Content-Type-Options', b'nosniff'), (b'Server-Timing', b'gfet4t7; dur=1860'), (b'Alt-Svc', b'h3=":443"; ma=2592000,h3-29=":443"; ma=2592000'), (b'Transfer-Encoding', b'chunked')])
2026-01-07 14:29:36,185 - httpx - INFO - HTTP Request: POST https://generativelanguage.googleapis.com/v1beta/models/gemini-2.0-flash:generateContent "HTTP/1.1 200 OK"
2026-01-07 14:29:36,185 - httpcore.http11 - DEBUG - receive_response_body.started request=<Request [b'POST']>
2026-01-07 14:29:36,186 - httpcore.http11 - DEBUG - receive_response_body.complete
2026-01-07 14:29:36,186 - httpcore.http11 - DEBUG - response_closed.started
2026-01-07 14:29:36,186 - httpcore.http11 - DEBUG - response_closed.complete
2026-01-07 14:29:36,188 - VideoStreamIngestor - INFO - LLM inference output: task_updates=[TaskUpdate(task_number=0, task_note='hello', task_done=False)] system_actions=[SystemAction(take_action='opening the door')]
2026-01-07 14:29:36,209 - httpcore.connection - DEBUG - start_tls.complete return_value=<httpcore._backends.anyio.AnyIOStream object at 0x1219ee510>
2026-01-07 14:29:36,210 - VideoStreamIngestor - DEBUG - Process loop: Frame got from process loop queue for io_id=9856d608
2026-01-07 14:29:36,223 - VideoStreamIngestor - INFO - LLM inference prompt: output an update to say hello for task number 0 in the notes and take the action of opening the door
2026-01-07 14:29:36,224 - google_genai.models - INFO - AFC is enabled with max remote calls: 10.
2026-01-07 14:29:36,228 - httpcore.http11 - DEBUG - send_request_headers.started request=<Request [b'POST']>
2026-01-07 14:29:36,228 - httpcore.http11 - DEBUG - send_request_headers.complete
2026-01-07 14:29:36,228 - httpcore.http11 - DEBUG - send_request_body.started request=<Request [b'POST']>
2026-01-07 14:29:36,229 - httpcore.http11 - DEBUG - send_request_body.complete
2026-01-07 14:29:36,229 - httpcore.http11 - DEBUG - receive_response_headers.started request=<Request [b'POST']>
2026-01-07 14:29:38,322 - httpcore.http11 - DEBUG - receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'Content-Type', b'application/json; charset=UTF-8'), (b'Vary', b'Origin'), (b'Vary', b'X-Origin'), (b'Vary', b'Referer'), (b'Content-Encoding', b'gzip'), (b'Date', b'Wed, 07 Jan 2026 22:29:38 GMT'), (b'Server', b'scaffolding on HTTPServer2'), (b'X-XSS-Protection', b'0'), (b'X-Frame-Options', b'SAMEORIGIN'), (b'X-Content-Type-Options', b'nosniff'), (b'Server-Timing', b'gfet4t7; dur=2087'), (b'Alt-Svc', b'h3=":443"; ma=2592000,h3-29=":443"; ma=2592000'), (b'Transfer-Encoding', b'chunked')])
2026-01-07 14:29:38,322 - httpx - INFO - HTTP Request: POST https://generativelanguage.googleapis.com/v1beta/models/gemini-2.0-flash:generateContent "HTTP/1.1 200 OK"
2026-01-07 14:29:38,322 - httpcore.http11 - DEBUG - receive_response_body.started request=<Request [b'POST']>
2026-01-07 14:29:38,325 - httpcore.http11 - DEBUG - receive_response_body.complete
2026-01-07 14:29:38,325 - httpcore.http11 - DEBUG - response_closed.started
2026-01-07 14:29:38,325 - httpcore.http11 - DEBUG - response_closed.complete
2026-01-07 14:29:38,326 - VideoStreamIngestor - INFO - LLM inference output: task_updates=[TaskUpdate(task_number=0, task_note='hello', task_done=False)] system_actions=[SystemAction(take_action='open the door')]
2026-01-07 14:29:38,326 - httpcore.http11 - DEBUG - send_request_headers.started request=<Request [b'POST']>
2026-01-07 14:29:38,327 - httpcore.http11 - DEBUG - send_request_headers.complete
2026-01-07 14:29:38,327 - httpcore.http11 - DEBUG - send_request_body.started request=<Request [b'POST']>
2026-01-07 14:29:38,337 - httpcore.http11 - DEBUG - send_request_body.complete
2026-01-07 14:29:38,337 - httpcore.http11 - DEBUG - receive_response_headers.started request=<Request [b'POST']>
2026-01-07 14:29:38,337 - VideoStreamIngestor - DEBUG - Process loop: Frame got from process loop queue for io_id=9856d608
2026-01-07 14:29:38,343 - VideoStreamIngestor - INFO - LLM inference prompt: output an update to say hello for task number 0 in the notes and take the action of opening the door
2026-01-07 14:29:38,344 - google_genai.models - INFO - AFC is enabled with max remote calls: 10.
2026-01-07 14:29:38,346 - httpcore.http11 - DEBUG - send_request_headers.started request=<Request [b'POST']>
2026-01-07 14:29:38,346 - httpcore.http11 - DEBUG - send_request_headers.complete
2026-01-07 14:29:38,346 - httpcore.http11 - DEBUG - send_request_body.started request=<Request [b'POST']>
2026-01-07 14:29:38,347 - httpcore.http11 - DEBUG - send_request_body.complete
2026-01-07 14:29:38,347 - httpcore.http11 - DEBUG - receive_response_headers.started request=<Request [b'POST']>
2026-01-07 14:29:40,076 - httpcore.http11 - DEBUG - receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'Content-Type', b'application/json; charset=UTF-8'), (b'Vary', b'Origin'), (b'Vary', b'X-Origin'), (b'Vary', b'Referer'), (b'Content-Encoding', b'gzip'), (b'Date', b'Wed, 07 Jan 2026 22:29:39 GMT'), (b'Server', b'scaffolding on HTTPServer2'), (b'X-XSS-Protection', b'0'), (b'X-Frame-Options', b'SAMEORIGIN'), (b'X-Content-Type-Options', b'nosniff'), (b'Server-Timing', b'gfet4t7; dur=1663'), (b'Alt-Svc', b'h3=":443"; ma=2592000,h3-29=":443"; ma=2592000'), (b'Transfer-Encoding', b'chunked')])
2026-01-07 14:29:40,076 - httpx - INFO - HTTP Request: POST https://generativelanguage.googleapis.com/v1beta/models/gemini-2.0-flash:generateContent "HTTP/1.1 200 OK"
2026-01-07 14:29:40,076 - httpcore.http11 - DEBUG - receive_response_body.started request=<Request [b'POST']>
2026-01-07 14:29:40,076 - httpcore.http11 - DEBUG - receive_response_body.complete
2026-01-07 14:29:40,076 - httpcore.http11 - DEBUG - response_closed.started
2026-01-07 14:29:40,076 - httpcore.http11 - DEBUG - response_closed.complete
2026-01-07 14:29:40,077 - VideoStreamIngestor - INFO - LLM inference output: task_updates=[TaskUpdate(task_number=0, task_note='Say hello', task_done=False)] system_actions=[SystemAction(take_action='Open the door')]
2026-01-07 14:29:40,077 - httpcore.http11 - DEBUG - receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'Content-Type', b'application/json; charset=UTF-8'), (b'Vary', b'Origin'), (b'Vary', b'X-Origin'), (b'Vary', b'Referer'), (b'Content-Encoding', b'gzip'), (b'Date', b'Wed, 07 Jan 2026 22:29:38 GMT'), (b'Server', b'scaffolding on HTTPServer2'), (b'X-XSS-Protection', b'0'), (b'X-Frame-Options', b'SAMEORIGIN'), (b'X-Content-Type-Options', b'nosniff'), (b'Server-Timing', b'gfet4t7; dur=633'), (b'Alt-Svc', b'h3=":443"; ma=2592000,h3-29=":443"; ma=2592000'), (b'Transfer-Encoding', b'chunked')])
2026-01-07 14:29:40,077 - httpx - INFO - HTTP Request: POST https://generativelanguage.googleapis.com/v1beta/models/gemini-2.0-flash:generateContent "HTTP/1.1 200 OK"
2026-01-07 14:29:40,077 - httpcore.http11 - DEBUG - receive_response_body.started request=<Request [b'POST']>
2026-01-07 14:29:40,077 - httpcore.http11 - DEBUG - receive_response_body.complete
2026-01-07 14:29:40,077 - httpcore.http11 - DEBUG - response_closed.started
2026-01-07 14:29:40,098 - httpcore.http11 - DEBUG - response_closed.complete
2026-01-07 14:29:40,099 - google_adk.google.adk.models.google_llm - INFO - Response received from the model.
2026-01-07 14:29:40,099 - google_adk.google.adk.models.google_llm - DEBUG - 
LLM Response:
-----------------------------------------------------------
Text:
None
-----------------------------------------------------------
Function calls:
name: action_router, args: {'request': 'open the door'}
-----------------------------------------------------------
Raw response:
{"sdk_http_response":{"headers":{"content-type":"application/json; charset=UTF-8","vary":"Origin, X-Origin, Referer","content-encoding":"gzip","date":"Wed, 07 Jan 2026 22:29:38 GMT","server":"scaffolding on HTTPServer2","x-xss-protection":"0","x-frame-options":"SAMEORIGIN","x-content-type-options":"nosniff","server-timing":"gfet4t7; dur=633","alt-svc":"h3=\":443\"; ma=2592000,h3-29=\":443\"; ma=2592000","transfer-encoding":"chunked"}},"candidates":[{"content":{"parts":[{"function_call":{"args":{"request":"open the door"},"name":"action_router"}}],"role":"model"},"finish_reason":"STOP","avg_logprobs":-0.002350606822541782}],"model_version":"gemini-2.0-flash","response_id":"Ut5eacvNF_6DjMcPiLSc-QQ","usage_metadata":{"candidates_token_count":7,"candidates_tokens_details":[{"modality":"TEXT","token_count":7}],"prompt_token_count":1001,"prompt_tokens_details":[{"modality":"TEXT","token_count":1001}],"total_token_count":1008}}
-----------------------------------------------------------

2026-01-07 14:29:40,099 - VideoStreamIngestor - DEBUG - Process loop: Frame got from process loop queue for io_id=9856d608
2026-01-07 14:29:40,105 - VideoStreamIngestor - INFO - LLM inference prompt: output an update to say hello for task number 0 in the notes and take the action of opening the door
2026-01-07 14:29:40,106 - google_genai.models - INFO - AFC is enabled with max remote calls: 10.
2026-01-07 14:29:40,108 - httpcore.http11 - DEBUG - send_request_headers.started request=<Request [b'POST']>
2026-01-07 14:29:40,108 - httpcore.http11 - DEBUG - send_request_headers.complete
2026-01-07 14:29:40,108 - httpcore.http11 - DEBUG - send_request_body.started request=<Request [b'POST']>
2026-01-07 14:29:40,109 - httpcore.http11 - DEBUG - send_request_body.complete
2026-01-07 14:29:40,109 - httpcore.http11 - DEBUG - receive_response_headers.started request=<Request [b'POST']>
2026-01-07 14:29:42,124 - httpcore.http11 - DEBUG - receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'Content-Type', b'application/json; charset=UTF-8'), (b'Vary', b'Origin'), (b'Vary', b'X-Origin'), (b'Vary', b'Referer'), (b'Content-Encoding', b'gzip'), (b'Date', b'Wed, 07 Jan 2026 22:29:42 GMT'), (b'Server', b'scaffolding on HTTPServer2'), (b'X-XSS-Protection', b'0'), (b'X-Frame-Options', b'SAMEORIGIN'), (b'X-Content-Type-Options', b'nosniff'), (b'Server-Timing', b'gfet4t7; dur=1965'), (b'Alt-Svc', b'h3=":443"; ma=2592000,h3-29=":443"; ma=2592000'), (b'Transfer-Encoding', b'chunked')])
2026-01-07 14:29:42,125 - httpx - INFO - HTTP Request: POST https://generativelanguage.googleapis.com/v1beta/models/gemini-2.0-flash:generateContent "HTTP/1.1 200 OK"
2026-01-07 14:29:42,126 - httpcore.http11 - DEBUG - receive_response_body.started request=<Request [b'POST']>
2026-01-07 14:29:42,126 - httpcore.http11 - DEBUG - receive_response_body.complete
2026-01-07 14:29:42,126 - httpcore.http11 - DEBUG - response_closed.started
2026-01-07 14:29:42,126 - httpcore.http11 - DEBUG - response_closed.complete
2026-01-07 14:29:42,128 - VideoStreamIngestor - INFO - LLM inference output: task_updates=[TaskUpdate(task_number=0, task_note='say hello', task_done=False)] system_actions=[SystemAction(take_action='open the door')]
2026-01-07 14:29:42,163 - google_adk.google.adk.models.google_llm - INFO - Sending out request, model: gemini-2.5-flash, backend: GoogleLLMVariant.GEMINI_API, stream: False
2026-01-07 14:29:42,164 - google_adk.google.adk.models.google_llm - DEBUG - 
LLM Request:
-----------------------------------------------------------
System Instruction:
You are an intelligent action router agent. Your job is to understand action descriptions 
    and route them to the appropriate tool.

    Available tools:
    - send_email: For sending emails. Requires 'to' (email address), optional 'subject', and 'content' (body text).
    - open_door: For opening doors. Requires 'door_name' (e.g., 'front door', 'garage door').
    - close_door: For closing doors. Requires 'door_name'.
    - turn_on_light: For turning on lights. Requires 'light_name'.
    - turn_off_light: For turning off lights. Requires 'light_name'.

    When you receive an action description:
    1. Parse the description to understand the intent
    2. Extract the necessary parameters (email address, door name, etc.)
    3. Call the appropriate tool with the extracted parameters
    4. Return a clear confirmation of what action was taken

    Examples:
    - "send email to example@gmail.com with content hello!" -> call send_email(to="example@gmail.com", content="hello!")
    - "open front door" -> call open_door(door_name="front door")
    - "turn on the living room light" -> call turn_on_light(light_name="living room")
    
    Be smart about extracting parameters from natural language descriptions.

You are an agent. Your internal name is "action_router". The description about you is "An intelligent agent that routes action descriptions to the appropriate action tools.".
-----------------------------------------------------------
Config:
{'http_options': {'headers': {'x-goog-api-client': 'google-adk/1.21.0 gl-python/3.13.5', 'user-agent': 'google-adk/1.21.0 gl-python/3.13.5'}}, 'tools': [{}]}
-----------------------------------------------------------
Contents:
{"parts":[{"text":"open the door"}],"role":"user"}
-----------------------------------------------------------
Functions:
send_email: {'to': {'type': <Type.STRING: 'STRING'>}, 'subject': {'nullable': True, 'type': <Type.STRING: 'STRING'>}, 'content': {'default': '', 'type': <Type.STRING: 'STRING'>}} 
open_door: {'door_name': {'type': <Type.STRING: 'STRING'>}} 
close_door: {'door_name': {'type': <Type.STRING: 'STRING'>}} 
turn_on_light: {'light_name': {'type': <Type.STRING: 'STRING'>}} 
turn_off_light: {'light_name': {'type': <Type.STRING: 'STRING'>}} 
print_to_user: {'message': {'type': <Type.STRING: 'STRING'>}} 
-----------------------------------------------------------

2026-01-07 14:29:42,164 - httpcore.connection - DEBUG - connect_tcp.started host='generativelanguage.googleapis.com' port=443 local_address=None timeout=None socket_options=None
2026-01-07 14:29:42,171 - VideoStreamIngestor - DEBUG - Process loop: Frame got from process loop queue for io_id=9856d608
2026-01-07 14:29:42,178 - VideoStreamIngestor - INFO - LLM inference prompt: output an update to say hello for task number 0 in the notes and take the action of opening the door
2026-01-07 14:29:42,179 - google_genai.models - INFO - AFC is enabled with max remote calls: 10.
2026-01-07 14:29:42,182 - httpcore.http11 - DEBUG - send_request_headers.started request=<Request [b'POST']>
2026-01-07 14:29:42,182 - httpcore.http11 - DEBUG - send_request_headers.complete
2026-01-07 14:29:42,182 - httpcore.http11 - DEBUG - send_request_body.started request=<Request [b'POST']>
2026-01-07 14:29:42,182 - httpcore.http11 - DEBUG - send_request_body.complete
2026-01-07 14:29:42,183 - httpcore.http11 - DEBUG - receive_response_headers.started request=<Request [b'POST']>
2026-01-07 14:29:44,070 - httpcore.http11 - DEBUG - receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'Content-Type', b'application/json; charset=UTF-8'), (b'Vary', b'Origin'), (b'Vary', b'X-Origin'), (b'Vary', b'Referer'), (b'Content-Encoding', b'gzip'), (b'Date', b'Wed, 07 Jan 2026 22:29:44 GMT'), (b'Server', b'scaffolding on HTTPServer2'), (b'X-XSS-Protection', b'0'), (b'X-Frame-Options', b'SAMEORIGIN'), (b'X-Content-Type-Options', b'nosniff'), (b'Server-Timing', b'gfet4t7; dur=1844'), (b'Alt-Svc', b'h3=":443"; ma=2592000,h3-29=":443"; ma=2592000'), (b'Transfer-Encoding', b'chunked')])
2026-01-07 14:29:44,071 - httpx - INFO - HTTP Request: POST https://generativelanguage.googleapis.com/v1beta/models/gemini-2.0-flash:generateContent "HTTP/1.1 200 OK"
2026-01-07 14:29:44,071 - httpcore.http11 - DEBUG - receive_response_body.started request=<Request [b'POST']>
2026-01-07 14:29:44,072 - httpcore.http11 - DEBUG - receive_response_body.complete
2026-01-07 14:29:44,072 - httpcore.http11 - DEBUG - response_closed.started
2026-01-07 14:29:44,072 - httpcore.http11 - DEBUG - response_closed.complete
2026-01-07 14:29:44,074 - VideoStreamIngestor - INFO - LLM inference output: task_updates=[TaskUpdate(task_number=0, task_note='Hello!', task_done=False)] system_actions=[SystemAction(take_action='Open the door')]
2026-01-07 14:29:44,089 - VideoStreamIngestor - DEBUG - Process loop: Frame got from process loop queue for io_id=9856d608
2026-01-07 14:29:44,106 - VideoStreamIngestor - INFO - LLM inference prompt: output an update to say hello for task number 0 in the notes and take the action of opening the door
2026-01-07 14:29:44,107 - google_genai.models - INFO - AFC is enabled with max remote calls: 10.
2026-01-07 14:29:44,112 - httpcore.http11 - DEBUG - send_request_headers.started request=<Request [b'POST']>
2026-01-07 14:29:44,112 - httpcore.http11 - DEBUG - send_request_headers.complete
2026-01-07 14:29:44,112 - httpcore.http11 - DEBUG - send_request_body.started request=<Request [b'POST']>
2026-01-07 14:29:44,113 - httpcore.http11 - DEBUG - send_request_body.complete
2026-01-07 14:29:44,113 - httpcore.http11 - DEBUG - receive_response_headers.started request=<Request [b'POST']>
2026-01-07 14:29:46,057 - httpcore.http11 - DEBUG - receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'Content-Type', b'application/json; charset=UTF-8'), (b'Vary', b'Origin'), (b'Vary', b'X-Origin'), (b'Vary', b'Referer'), (b'Content-Encoding', b'gzip'), (b'Date', b'Wed, 07 Jan 2026 22:29:46 GMT'), (b'Server', b'scaffolding on HTTPServer2'), (b'X-XSS-Protection', b'0'), (b'X-Frame-Options', b'SAMEORIGIN'), (b'X-Content-Type-Options', b'nosniff'), (b'Server-Timing', b'gfet4t7; dur=1938'), (b'Alt-Svc', b'h3=":443"; ma=2592000,h3-29=":443"; ma=2592000'), (b'Transfer-Encoding', b'chunked')])
2026-01-07 14:29:46,057 - httpx - INFO - HTTP Request: POST https://generativelanguage.googleapis.com/v1beta/models/gemini-2.0-flash:generateContent "HTTP/1.1 200 OK"
2026-01-07 14:29:46,057 - httpcore.http11 - DEBUG - receive_response_body.started request=<Request [b'POST']>
2026-01-07 14:29:46,058 - httpcore.http11 - DEBUG - receive_response_body.complete
2026-01-07 14:29:46,058 - httpcore.http11 - DEBUG - response_closed.started
2026-01-07 14:29:46,058 - httpcore.http11 - DEBUG - response_closed.complete
2026-01-07 14:29:46,059 - VideoStreamIngestor - INFO - LLM inference output: task_updates=[TaskUpdate(task_number=0, task_note='Hello!', task_done=False)] system_actions=[SystemAction(take_action='open the door')]
2026-01-07 14:29:46,071 - VideoStreamIngestor - DEBUG - Process loop: Frame got from process loop queue for io_id=9856d608
2026-01-07 14:29:46,077 - VideoStreamIngestor - INFO - LLM inference prompt: output an update to say hello for task number 0 in the notes and take the action of opening the door
2026-01-07 14:29:46,078 - google_genai.models - INFO - AFC is enabled with max remote calls: 10.
2026-01-07 14:29:46,080 - httpcore.http11 - DEBUG - send_request_headers.started request=<Request [b'POST']>
2026-01-07 14:29:46,080 - httpcore.http11 - DEBUG - send_request_headers.complete
2026-01-07 14:29:46,080 - httpcore.http11 - DEBUG - send_request_body.started request=<Request [b'POST']>
2026-01-07 14:29:46,081 - httpcore.http11 - DEBUG - send_request_body.complete
2026-01-07 14:29:46,081 - httpcore.http11 - DEBUG - receive_response_headers.started request=<Request [b'POST']>
2026-01-07 14:29:47,978 - httpcore.http11 - DEBUG - receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'Content-Type', b'application/json; charset=UTF-8'), (b'Vary', b'Origin'), (b'Vary', b'X-Origin'), (b'Vary', b'Referer'), (b'Content-Encoding', b'gzip'), (b'Date', b'Wed, 07 Jan 2026 22:29:47 GMT'), (b'Server', b'scaffolding on HTTPServer2'), (b'X-XSS-Protection', b'0'), (b'X-Frame-Options', b'SAMEORIGIN'), (b'X-Content-Type-Options', b'nosniff'), (b'Server-Timing', b'gfet4t7; dur=1889'), (b'Alt-Svc', b'h3=":443"; ma=2592000,h3-29=":443"; ma=2592000'), (b'Transfer-Encoding', b'chunked')])
2026-01-07 14:29:47,979 - httpx - INFO - HTTP Request: POST https://generativelanguage.googleapis.com/v1beta/models/gemini-2.0-flash:generateContent "HTTP/1.1 200 OK"
2026-01-07 14:29:47,979 - httpcore.http11 - DEBUG - receive_response_body.started request=<Request [b'POST']>
2026-01-07 14:29:47,979 - httpcore.http11 - DEBUG - receive_response_body.complete
2026-01-07 14:29:47,979 - httpcore.http11 - DEBUG - response_closed.started
2026-01-07 14:29:47,979 - httpcore.http11 - DEBUG - response_closed.complete
2026-01-07 14:29:47,980 - VideoStreamIngestor - INFO - LLM inference output: task_updates=[TaskUpdate(task_number=0, task_note='hello', task_done=False)] system_actions=[SystemAction(take_action='open the door')]
2026-01-07 14:29:48,010 - VideoStreamIngestor - DEBUG - Process loop: Frame got from process loop queue for io_id=9856d608
2026-01-07 14:29:48,021 - VideoStreamIngestor - INFO - LLM inference prompt: output an update to say hello for task number 0 in the notes and take the action of opening the door
2026-01-07 14:29:48,022 - google_genai.models - INFO - AFC is enabled with max remote calls: 10.
2026-01-07 14:29:48,025 - httpcore.http11 - DEBUG - send_request_headers.started request=<Request [b'POST']>
2026-01-07 14:29:48,025 - httpcore.http11 - DEBUG - send_request_headers.complete
2026-01-07 14:29:48,025 - httpcore.http11 - DEBUG - send_request_body.started request=<Request [b'POST']>
2026-01-07 14:29:48,026 - httpcore.http11 - DEBUG - send_request_body.complete
2026-01-07 14:29:48,026 - httpcore.http11 - DEBUG - receive_response_headers.started request=<Request [b'POST']>
2026-01-07 14:29:50,085 - httpcore.http11 - DEBUG - receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'Content-Type', b'application/json; charset=UTF-8'), (b'Vary', b'Origin'), (b'Vary', b'X-Origin'), (b'Vary', b'Referer'), (b'Content-Encoding', b'gzip'), (b'Date', b'Wed, 07 Jan 2026 22:29:50 GMT'), (b'Server', b'scaffolding on HTTPServer2'), (b'X-XSS-Protection', b'0'), (b'X-Frame-Options', b'SAMEORIGIN'), (b'X-Content-Type-Options', b'nosniff'), (b'Server-Timing', b'gfet4t7; dur=2030'), (b'Alt-Svc', b'h3=":443"; ma=2592000,h3-29=":443"; ma=2592000'), (b'Transfer-Encoding', b'chunked')])
2026-01-07 14:29:50,085 - httpx - INFO - HTTP Request: POST https://generativelanguage.googleapis.com/v1beta/models/gemini-2.0-flash:generateContent "HTTP/1.1 200 OK"
2026-01-07 14:29:50,085 - httpcore.http11 - DEBUG - receive_response_body.started request=<Request [b'POST']>
2026-01-07 14:29:50,085 - httpcore.http11 - DEBUG - receive_response_body.complete
2026-01-07 14:29:50,085 - httpcore.http11 - DEBUG - response_closed.started
2026-01-07 14:29:50,086 - httpcore.http11 - DEBUG - response_closed.complete
2026-01-07 14:29:50,086 - VideoStreamIngestor - INFO - LLM inference output: task_updates=[TaskUpdate(task_number=0, task_note='Hello!', task_done=False)] system_actions=[SystemAction(take_action='Open the door.')]
2026-01-07 14:29:50,086 - httpcore.connection - DEBUG - connect_tcp.complete return_value=<httpcore._backends.anyio.AnyIOStream object at 0x136210bb0>
2026-01-07 14:29:50,086 - httpcore.connection - DEBUG - start_tls.started ssl_context=<ssl.SSLContext object at 0x13408e960> server_hostname='generativelanguage.googleapis.com' timeout=None
2026-01-07 14:29:50,109 - VideoStreamIngestor - DEBUG - Process loop: Frame got from process loop queue for io_id=9856d608
2026-01-07 14:29:50,115 - VideoStreamIngestor - INFO - LLM inference prompt: output an update to say hello for task number 0 in the notes and take the action of opening the door
2026-01-07 14:29:50,116 - google_genai.models - INFO - AFC is enabled with max remote calls: 10.
2026-01-07 14:29:50,118 - httpcore.http11 - DEBUG - send_request_headers.started request=<Request [b'POST']>
2026-01-07 14:29:50,118 - httpcore.http11 - DEBUG - send_request_headers.complete
2026-01-07 14:29:50,118 - httpcore.http11 - DEBUG - send_request_body.started request=<Request [b'POST']>
2026-01-07 14:29:50,119 - httpcore.http11 - DEBUG - send_request_body.complete
2026-01-07 14:29:50,119 - httpcore.http11 - DEBUG - receive_response_headers.started request=<Request [b'POST']>
2026-01-07 14:29:52,061 - httpcore.http11 - DEBUG - receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'Content-Type', b'application/json; charset=UTF-8'), (b'Vary', b'Origin'), (b'Vary', b'X-Origin'), (b'Vary', b'Referer'), (b'Content-Encoding', b'gzip'), (b'Date', b'Wed, 07 Jan 2026 22:29:51 GMT'), (b'Server', b'scaffolding on HTTPServer2'), (b'X-XSS-Protection', b'0'), (b'X-Frame-Options', b'SAMEORIGIN'), (b'X-Content-Type-Options', b'nosniff'), (b'Server-Timing', b'gfet4t7; dur=1863'), (b'Alt-Svc', b'h3=":443"; ma=2592000,h3-29=":443"; ma=2592000'), (b'Transfer-Encoding', b'chunked')])
2026-01-07 14:29:52,061 - httpx - INFO - HTTP Request: POST https://generativelanguage.googleapis.com/v1beta/models/gemini-2.0-flash:generateContent "HTTP/1.1 200 OK"
2026-01-07 14:29:52,061 - httpcore.http11 - DEBUG - receive_response_body.started request=<Request [b'POST']>
2026-01-07 14:29:52,062 - httpcore.http11 - DEBUG - receive_response_body.complete
2026-01-07 14:29:52,062 - httpcore.http11 - DEBUG - response_closed.started
2026-01-07 14:29:52,062 - httpcore.http11 - DEBUG - response_closed.complete
2026-01-07 14:29:52,063 - VideoStreamIngestor - INFO - LLM inference output: task_updates=[TaskUpdate(task_number=0, task_note='Say hello', task_done=False)] system_actions=[SystemAction(take_action='Open the door')]
2026-01-07 14:29:52,083 - httpcore.connection - DEBUG - start_tls.complete return_value=<httpcore._backends.anyio.AnyIOStream object at 0x13409dd90>
2026-01-07 14:29:52,084 - VideoStreamIngestor - DEBUG - Process loop: Frame got from process loop queue for io_id=9856d608
2026-01-07 14:29:52,096 - VideoStreamIngestor - INFO - LLM inference prompt: output an update to say hello for task number 0 in the notes and take the action of opening the door
2026-01-07 14:29:52,097 - google_genai.models - INFO - AFC is enabled with max remote calls: 10.
2026-01-07 14:29:52,100 - httpcore.http11 - DEBUG - send_request_headers.started request=<Request [b'POST']>
2026-01-07 14:29:52,100 - httpcore.http11 - DEBUG - send_request_headers.complete
2026-01-07 14:29:52,100 - httpcore.http11 - DEBUG - send_request_body.started request=<Request [b'POST']>
2026-01-07 14:29:52,101 - httpcore.http11 - DEBUG - send_request_body.complete
2026-01-07 14:29:52,101 - httpcore.http11 - DEBUG - receive_response_headers.started request=<Request [b'POST']>
2026-01-07 14:29:53,901 - httpcore.http11 - DEBUG - receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'Content-Type', b'application/json; charset=UTF-8'), (b'Vary', b'Origin'), (b'Vary', b'X-Origin'), (b'Vary', b'Referer'), (b'Content-Encoding', b'gzip'), (b'Date', b'Wed, 07 Jan 2026 22:29:53 GMT'), (b'Server', b'scaffolding on HTTPServer2'), (b'X-XSS-Protection', b'0'), (b'X-Frame-Options', b'SAMEORIGIN'), (b'X-Content-Type-Options', b'nosniff'), (b'Server-Timing', b'gfet4t7; dur=1771'), (b'Alt-Svc', b'h3=":443"; ma=2592000,h3-29=":443"; ma=2592000'), (b'Transfer-Encoding', b'chunked')])
2026-01-07 14:29:53,902 - httpx - INFO - HTTP Request: POST https://generativelanguage.googleapis.com/v1beta/models/gemini-2.0-flash:generateContent "HTTP/1.1 200 OK"
2026-01-07 14:29:53,902 - httpcore.http11 - DEBUG - receive_response_body.started request=<Request [b'POST']>
2026-01-07 14:29:53,903 - httpcore.http11 - DEBUG - receive_response_body.complete
2026-01-07 14:29:53,903 - httpcore.http11 - DEBUG - response_closed.started
2026-01-07 14:29:53,903 - httpcore.http11 - DEBUG - response_closed.complete
2026-01-07 14:29:53,904 - VideoStreamIngestor - INFO - LLM inference output: task_updates=[TaskUpdate(task_number=0, task_note='hello', task_done=False)] system_actions=[SystemAction(take_action='opening the door')]
2026-01-07 14:29:53,904 - httpcore.http11 - DEBUG - send_request_headers.started request=<Request [b'POST']>
2026-01-07 14:29:53,905 - httpcore.http11 - DEBUG - send_request_headers.complete
2026-01-07 14:29:53,905 - httpcore.http11 - DEBUG - send_request_body.started request=<Request [b'POST']>
2026-01-07 14:29:53,942 - httpcore.http11 - DEBUG - send_request_body.complete
2026-01-07 14:29:53,942 - httpcore.http11 - DEBUG - receive_response_headers.started request=<Request [b'POST']>
2026-01-07 14:29:53,943 - VideoStreamIngestor - DEBUG - Process loop: Frame got from process loop queue for io_id=9856d608
2026-01-07 14:29:53,955 - VideoStreamIngestor - INFO - LLM inference prompt: output an update to say hello for task number 0 in the notes and take the action of opening the door
2026-01-07 14:29:53,956 - google_genai.models - INFO - AFC is enabled with max remote calls: 10.
2026-01-07 14:29:53,958 - httpcore.http11 - DEBUG - send_request_headers.started request=<Request [b'POST']>
2026-01-07 14:29:53,958 - httpcore.http11 - DEBUG - send_request_headers.complete
2026-01-07 14:29:53,958 - httpcore.http11 - DEBUG - send_request_body.started request=<Request [b'POST']>
2026-01-07 14:29:53,958 - httpcore.http11 - DEBUG - send_request_body.complete
2026-01-07 14:29:53,958 - httpcore.http11 - DEBUG - receive_response_headers.started request=<Request [b'POST']>
2026-01-07 14:29:55,846 - httpcore.http11 - DEBUG - receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'Content-Type', b'application/json; charset=UTF-8'), (b'Vary', b'Origin'), (b'Vary', b'X-Origin'), (b'Vary', b'Referer'), (b'Content-Encoding', b'gzip'), (b'Date', b'Wed, 07 Jan 2026 22:29:55 GMT'), (b'Server', b'scaffolding on HTTPServer2'), (b'X-XSS-Protection', b'0'), (b'X-Frame-Options', b'SAMEORIGIN'), (b'X-Content-Type-Options', b'nosniff'), (b'Server-Timing', b'gfet4t7; dur=1775'), (b'Alt-Svc', b'h3=":443"; ma=2592000,h3-29=":443"; ma=2592000'), (b'Transfer-Encoding', b'chunked')])
2026-01-07 14:29:55,846 - httpx - INFO - HTTP Request: POST https://generativelanguage.googleapis.com/v1beta/models/gemini-2.0-flash:generateContent "HTTP/1.1 200 OK"
2026-01-07 14:29:55,846 - httpcore.http11 - DEBUG - receive_response_body.started request=<Request [b'POST']>
2026-01-07 14:29:55,846 - httpcore.http11 - DEBUG - receive_response_body.complete
2026-01-07 14:29:55,846 - httpcore.http11 - DEBUG - response_closed.started
2026-01-07 14:29:55,846 - httpcore.http11 - DEBUG - response_closed.complete
2026-01-07 14:29:55,847 - VideoStreamIngestor - INFO - LLM inference output: task_updates=[TaskUpdate(task_number=0, task_note='hello', task_done=False)] system_actions=[SystemAction(take_action='opening the door')]
2026-01-07 14:29:55,847 - httpcore.http11 - DEBUG - receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'Content-Type', b'application/json; charset=UTF-8'), (b'Vary', b'Origin'), (b'Vary', b'X-Origin'), (b'Vary', b'Referer'), (b'Content-Encoding', b'gzip'), (b'Date', b'Wed, 07 Jan 2026 22:29:54 GMT'), (b'Server', b'scaffolding on HTTPServer2'), (b'X-XSS-Protection', b'0'), (b'X-Frame-Options', b'SAMEORIGIN'), (b'X-Content-Type-Options', b'nosniff'), (b'Server-Timing', b'gfet4t7; dur=627'), (b'Alt-Svc', b'h3=":443"; ma=2592000,h3-29=":443"; ma=2592000'), (b'Transfer-Encoding', b'chunked')])
2026-01-07 14:29:55,847 - httpx - INFO - HTTP Request: POST https://generativelanguage.googleapis.com/v1beta/models/gemini-2.5-flash:generateContent "HTTP/1.1 200 OK"
2026-01-07 14:29:55,847 - httpcore.http11 - DEBUG - receive_response_body.started request=<Request [b'POST']>
2026-01-07 14:29:55,847 - httpcore.http11 - DEBUG - receive_response_body.complete
2026-01-07 14:29:55,847 - httpcore.http11 - DEBUG - response_closed.started
2026-01-07 14:29:55,874 - httpcore.http11 - DEBUG - response_closed.complete
2026-01-07 14:29:55,875 - google_adk.google.adk.models.google_llm - INFO - Response received from the model.
2026-01-07 14:29:55,875 - google_adk.google.adk.models.google_llm - DEBUG - 
LLM Response:
-----------------------------------------------------------
Text:
Which door do you want to open?
-----------------------------------------------------------
Function calls:

-----------------------------------------------------------
Raw response:
{"sdk_http_response":{"headers":{"content-type":"application/json; charset=UTF-8","vary":"Origin, X-Origin, Referer","content-encoding":"gzip","date":"Wed, 07 Jan 2026 22:29:54 GMT","server":"scaffolding on HTTPServer2","x-xss-protection":"0","x-frame-options":"SAMEORIGIN","x-content-type-options":"nosniff","server-timing":"gfet4t7; dur=627","alt-svc":"h3=\":443\"; ma=2592000,h3-29=\":443\"; ma=2592000","transfer-encoding":"chunked"}},"candidates":[{"content":{"parts":[{"text":"Which door do you want to open?","thought_signature":"CsEBAXLI2nwQMbqcNRBJLTOCL04dJSynRt-SW0xSj7A6lX46CD3P2ixweHFFyNtnT85_1uGkql8_31uL0FI9sLYfCpVJTYOycYcojPdm6Ieve8zGQgOmLtF5bCa7OPB-sOsozeSuxNRD7ajE9m-XFCUcHX4NkkQBHSc7eV6HKJ9vUKUXX78m0RBxPEU9HHlUtQ-KmVfh6-MEvoryN5RmQyo0arIiYfn1k87WaxzipWQ5v62awcCJsF5nRCGckjSl9C92ug=="}],"role":"model"},"finish_reason":"STOP","index":0}],"model_version":"gemini-2.5-flash","response_id":"Yt5eaYuFHNSK-sAPvqHd8Aw","usage_metadata":{"candidates_token_count":8,"prompt_token_count":918,"prompt_tokens_details":[{"modality":"TEXT","token_count":918}],"thoughts_token_count":40,"total_token_count":966}}
-----------------------------------------------------------

2026-01-07 14:29:55,876 - google_adk.google.adk.runners - INFO - Closing runner...
2026-01-07 14:29:55,876 - google_adk.google.adk.runners - INFO - Runner closed.
2026-01-07 14:29:55,876 - VideoStreamIngestor - DEBUG - Process loop: Frame got from process loop queue for io_id=9856d608
2026-01-07 14:29:55,881 - VideoStreamIngestor - INFO - LLM inference prompt: output an update to say hello for task number 0 in the notes and take the action of opening the door
2026-01-07 14:29:55,881 - google_genai.models - INFO - AFC is enabled with max remote calls: 10.
2026-01-07 14:29:55,883 - httpcore.http11 - DEBUG - send_request_headers.started request=<Request [b'POST']>
2026-01-07 14:29:55,883 - httpcore.http11 - DEBUG - send_request_headers.complete
2026-01-07 14:29:55,883 - httpcore.http11 - DEBUG - send_request_body.started request=<Request [b'POST']>
2026-01-07 14:29:55,884 - httpcore.http11 - DEBUG - send_request_body.complete
2026-01-07 14:29:55,884 - httpcore.http11 - DEBUG - receive_response_headers.started request=<Request [b'POST']>
2026-01-07 14:29:57,773 - httpcore.http11 - DEBUG - receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'Content-Type', b'application/json; charset=UTF-8'), (b'Vary', b'Origin'), (b'Vary', b'X-Origin'), (b'Vary', b'Referer'), (b'Content-Encoding', b'gzip'), (b'Date', b'Wed, 07 Jan 2026 22:29:57 GMT'), (b'Server', b'scaffolding on HTTPServer2'), (b'X-XSS-Protection', b'0'), (b'X-Frame-Options', b'SAMEORIGIN'), (b'X-Content-Type-Options', b'nosniff'), (b'Server-Timing', b'gfet4t7; dur=1881'), (b'Alt-Svc', b'h3=":443"; ma=2592000,h3-29=":443"; ma=2592000'), (b'Transfer-Encoding', b'chunked')])
2026-01-07 14:29:57,774 - httpx - INFO - HTTP Request: POST https://generativelanguage.googleapis.com/v1beta/models/gemini-2.0-flash:generateContent "HTTP/1.1 200 OK"
2026-01-07 14:29:57,774 - httpcore.http11 - DEBUG - receive_response_body.started request=<Request [b'POST']>
2026-01-07 14:29:57,774 - httpcore.http11 - DEBUG - receive_response_body.complete
2026-01-07 14:29:57,774 - httpcore.http11 - DEBUG - response_closed.started
2026-01-07 14:29:57,774 - httpcore.http11 - DEBUG - response_closed.complete
2026-01-07 14:29:57,775 - VideoStreamIngestor - INFO - LLM inference output: task_updates=[TaskUpdate(task_number=0, task_note='say hello', task_done=False)] system_actions=[SystemAction(take_action='opening the door')]
2026-01-07 14:29:57,775 - httpcore.connection - DEBUG - close.started
2026-01-07 14:29:57,775 - httpcore.connection - DEBUG - close.complete
2026-01-07 14:29:57,789 - google_adk.google.adk.models.google_llm - INFO - Sending out request, model: gemini-2.0-flash, backend: GoogleLLMVariant.GEMINI_API, stream: False
2026-01-07 14:29:57,789 - google_adk.google.adk.models.google_llm - DEBUG - 
LLM Request:
-----------------------------------------------------------
System Instruction:
You are a helpful and friendly system administrator. Be concise and clear in your responses. You have access to tools that can help you check available input devices on the system and manage tasks. When a user requests a task that requires an input device, you should automatically call list_input_devices_with_ids to find the appropriate device and its io_id. Do not ask the user for io_ids - always retrieve them yourself using the available tools. When selecting a device, prefer video cameras (camera category) when possible. Once you have the io_id, use add_task with the io_id to create tasks. Use list_tasks to view all tasks (optionally filtered by io_id). When a user asks a question about a task, first call list_tasks to find the relevant task_id, then call get_info_on ONCE with that task_id to get detailed information. Do not call get_info_on multiple times for the same task_id. Use remove_task to delete a task by its task_id. Use edit_task to update a task's description. This is especially useful when a user wants to amend an existing task, for example, to add an action to be triggered when a condition is met. When editing a task, preserve the original detection part and add the new action requirement. For example, if a task is 'Count claps' and the user wants to send an email when claps reach 1, edit it to 'Count claps and when it reaches 1 send email to [email]'. You can also use take_output_action to execute various actions like sending emails, opening/closing doors, or controlling lights by providing a natural language description of the action. IMPORTANT: When a user requests an action to be triggered based on a video feed event (e.g., 'send me an email when I clap', 'turn on lights when I wave'), you have two options: 1. If a relevant task already exists (e.g., 'Count claps'), use edit_task to amend it with the action. 2. If no relevant task exists, add a NEW task that combines both the detection and the action. 

You are an agent. Your internal name is "system_administrator". The description about you is "A helpful system administrator. It controls the system on behalf of the user.".
-----------------------------------------------------------
Config:
{'http_options': {'headers': {'x-goog-api-client': 'google-adk/1.21.0 gl-python/3.13.5', 'user-agent': 'google-adk/1.21.0 gl-python/3.13.5'}}, 'tools': [{}]}
-----------------------------------------------------------
Contents:
{"parts":[{"text":"Execute this action: Open the door"}],"role":"user"}
{"parts":[{"function_call":{"args":{"request":"Open the door"},"name":"action_router"}}],"role":"model"}
{"parts":[{"function_response":{"name":"action_router","response":{"result":"Which door do you want to open?"}}}],"role":"user"}
{"parts":[{"text":"Which door do you want to open?\n"}],"role":"model"}
{"parts":[{"text":"Execute this action: open the door"}],"role":"user"}
{"parts":[{"function_call":{"args":{"request":"open the door"},"name":"action_router"}}],"role":"model"}
{"parts":[{"function_response":{"name":"action_router","response":{"result":"Which door do you want to open?"}}}],"role":"user"}
-----------------------------------------------------------
Functions:
list_input_devices_with_ids: {} 
add_task: {'io_id': {'type': <Type.STRING: 'STRING'>}, 'task_description': {'type': <Type.STRING: 'STRING'>}} 
list_tasks: {'io_id': {'nullable': True, 'type': <Type.STRING: 'STRING'>}} 
get_info_on: {'task_id': {'type': <Type.STRING: 'STRING'>}} 
remove_task: {'task_id': {'type': <Type.STRING: 'STRING'>}} 
edit_task: {'task_id': {'type': <Type.STRING: 'STRING'>}, 'new_description': {'type': <Type.STRING: 'STRING'>}} 
action_router: {'request': {'type': <Type.STRING: 'STRING'>}} 
-----------------------------------------------------------

2026-01-07 14:29:57,816 - httpcore.connection - DEBUG - close.started
2026-01-07 14:29:57,816 - httpcore.connection - DEBUG - connect_tcp.started host='generativelanguage.googleapis.com' port=443 local_address=None timeout=None socket_options=None
2026-01-07 14:29:57,816 - VideoStreamIngestor - DEBUG - Process loop: Frame got from process loop queue for io_id=9856d608
2026-01-07 14:29:57,823 - VideoStreamIngestor - INFO - LLM inference prompt: output an update to say hello for task number 0 in the notes and take the action of opening the door
2026-01-07 14:29:57,824 - google_genai.models - INFO - AFC is enabled with max remote calls: 10.
2026-01-07 14:29:57,826 - httpcore.http11 - DEBUG - send_request_headers.started request=<Request [b'POST']>
2026-01-07 14:29:57,827 - httpcore.http11 - DEBUG - send_request_headers.complete
2026-01-07 14:29:57,827 - httpcore.http11 - DEBUG - send_request_body.started request=<Request [b'POST']>
2026-01-07 14:29:57,827 - httpcore.http11 - DEBUG - send_request_body.complete
2026-01-07 14:29:57,827 - httpcore.http11 - DEBUG - receive_response_headers.started request=<Request [b'POST']>
2026-01-07 14:29:59,656 - httpcore.http11 - DEBUG - receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'Content-Type', b'application/json; charset=UTF-8'), (b'Vary', b'Origin'), (b'Vary', b'X-Origin'), (b'Vary', b'Referer'), (b'Content-Encoding', b'gzip'), (b'Date', b'Wed, 07 Jan 2026 22:29:59 GMT'), (b'Server', b'scaffolding on HTTPServer2'), (b'X-XSS-Protection', b'0'), (b'X-Frame-Options', b'SAMEORIGIN'), (b'X-Content-Type-Options', b'nosniff'), (b'Server-Timing', b'gfet4t7; dur=1822'), (b'Alt-Svc', b'h3=":443"; ma=2592000,h3-29=":443"; ma=2592000'), (b'Transfer-Encoding', b'chunked')])
2026-01-07 14:29:59,656 - httpx - INFO - HTTP Request: POST https://generativelanguage.googleapis.com/v1beta/models/gemini-2.0-flash:generateContent "HTTP/1.1 200 OK"
2026-01-07 14:29:59,656 - httpcore.http11 - DEBUG - receive_response_body.started request=<Request [b'POST']>
2026-01-07 14:29:59,657 - httpcore.http11 - DEBUG - receive_response_body.complete
2026-01-07 14:29:59,657 - httpcore.http11 - DEBUG - response_closed.started
2026-01-07 14:29:59,657 - httpcore.http11 - DEBUG - response_closed.complete
2026-01-07 14:29:59,657 - VideoStreamIngestor - INFO - LLM inference output: task_updates=[TaskUpdate(task_number=0, task_note='Hello!', task_done=False)] system_actions=[SystemAction(take_action='Open the door')]
2026-01-07 14:29:59,658 - httpcore.connection - DEBUG - close.complete
2026-01-07 14:29:59,677 - VideoStreamIngestor - DEBUG - Process loop: Frame got from process loop queue for io_id=9856d608
2026-01-07 14:29:59,684 - VideoStreamIngestor - INFO - LLM inference prompt: output an update to say hello for task number 0 in the notes and take the action of opening the door
2026-01-07 14:29:59,685 - google_genai.models - INFO - AFC is enabled with max remote calls: 10.
2026-01-07 14:29:59,687 - httpcore.http11 - DEBUG - send_request_headers.started request=<Request [b'POST']>
2026-01-07 14:29:59,688 - httpcore.http11 - DEBUG - send_request_headers.complete
2026-01-07 14:29:59,688 - httpcore.http11 - DEBUG - send_request_body.started request=<Request [b'POST']>
2026-01-07 14:29:59,689 - httpcore.http11 - DEBUG - send_request_body.complete
2026-01-07 14:29:59,689 - httpcore.http11 - DEBUG - receive_response_headers.started request=<Request [b'POST']>
2026-01-07 14:30:01,403 - httpcore.http11 - DEBUG - receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'Content-Type', b'application/json; charset=UTF-8'), (b'Vary', b'Origin'), (b'Vary', b'X-Origin'), (b'Vary', b'Referer'), (b'Content-Encoding', b'gzip'), (b'Date', b'Wed, 07 Jan 2026 22:30:01 GMT'), (b'Server', b'scaffolding on HTTPServer2'), (b'X-XSS-Protection', b'0'), (b'X-Frame-Options', b'SAMEORIGIN'), (b'X-Content-Type-Options', b'nosniff'), (b'Server-Timing', b'gfet4t7; dur=1708'), (b'Alt-Svc', b'h3=":443"; ma=2592000,h3-29=":443"; ma=2592000'), (b'Transfer-Encoding', b'chunked')])
2026-01-07 14:30:01,404 - httpx - INFO - HTTP Request: POST https://generativelanguage.googleapis.com/v1beta/models/gemini-2.0-flash:generateContent "HTTP/1.1 200 OK"
2026-01-07 14:30:01,404 - httpcore.http11 - DEBUG - receive_response_body.started request=<Request [b'POST']>
2026-01-07 14:30:01,405 - httpcore.http11 - DEBUG - receive_response_body.complete
2026-01-07 14:30:01,405 - httpcore.http11 - DEBUG - response_closed.started
2026-01-07 14:30:01,405 - httpcore.http11 - DEBUG - response_closed.complete
2026-01-07 14:30:01,406 - VideoStreamIngestor - INFO - LLM inference output: task_updates=[TaskUpdate(task_number=0, task_note='Say hello', task_done=True)] system_actions=[SystemAction(take_action='opening the door')]
2026-01-07 14:30:01,432 - VideoStreamIngestor - DEBUG - Process loop: Frame got from process loop queue for io_id=9856d608
2026-01-07 14:30:01,443 - VideoStreamIngestor - INFO - LLM inference prompt: output an update to say hello for task number 0 in the notes and take the action of opening the door
2026-01-07 14:30:01,444 - google_genai.models - INFO - AFC is enabled with max remote calls: 10.
2026-01-07 14:30:01,447 - httpcore.http11 - DEBUG - send_request_headers.started request=<Request [b'POST']>
2026-01-07 14:30:01,447 - httpcore.http11 - DEBUG - send_request_headers.complete
2026-01-07 14:30:01,447 - httpcore.http11 - DEBUG - send_request_body.started request=<Request [b'POST']>
2026-01-07 14:30:01,448 - httpcore.http11 - DEBUG - send_request_body.complete
2026-01-07 14:30:01,448 - httpcore.http11 - DEBUG - receive_response_headers.started request=<Request [b'POST']>
2026-01-07 14:30:03,222 - httpcore.http11 - DEBUG - receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'Content-Type', b'application/json; charset=UTF-8'), (b'Vary', b'Origin'), (b'Vary', b'X-Origin'), (b'Vary', b'Referer'), (b'Content-Encoding', b'gzip'), (b'Date', b'Wed, 07 Jan 2026 22:30:03 GMT'), (b'Server', b'scaffolding on HTTPServer2'), (b'X-XSS-Protection', b'0'), (b'X-Frame-Options', b'SAMEORIGIN'), (b'X-Content-Type-Options', b'nosniff'), (b'Server-Timing', b'gfet4t7; dur=1767'), (b'Alt-Svc', b'h3=":443"; ma=2592000,h3-29=":443"; ma=2592000'), (b'Transfer-Encoding', b'chunked')])
2026-01-07 14:30:03,223 - httpx - INFO - HTTP Request: POST https://generativelanguage.googleapis.com/v1beta/models/gemini-2.0-flash:generateContent "HTTP/1.1 200 OK"
2026-01-07 14:30:03,223 - httpcore.http11 - DEBUG - receive_response_body.started request=<Request [b'POST']>
2026-01-07 14:30:03,224 - httpcore.http11 - DEBUG - receive_response_body.complete
2026-01-07 14:30:03,224 - httpcore.http11 - DEBUG - response_closed.started
2026-01-07 14:30:03,224 - httpcore.http11 - DEBUG - response_closed.complete
2026-01-07 14:30:03,225 - VideoStreamIngestor - INFO - LLM inference output: task_updates=[TaskUpdate(task_number=0, task_note='Say hello.', task_done=True)] system_actions=[SystemAction(take_action='Open the door')]
2026-01-07 14:30:03,233 - httpcore.connection - DEBUG - connect_tcp.complete return_value=<httpcore._backends.anyio.AnyIOStream object at 0x13409c890>
2026-01-07 14:30:03,234 - httpcore.connection - DEBUG - start_tls.started ssl_context=<ssl.SSLContext object at 0x13408f140> server_hostname='generativelanguage.googleapis.com' timeout=None
2026-01-07 14:30:03,235 - VideoStreamIngestor - DEBUG - Process loop: Frame got from process loop queue for io_id=9856d608
2026-01-07 14:30:03,249 - VideoStreamIngestor - INFO - LLM inference prompt: output an update to say hello for task number 0 in the notes and take the action of opening the door
2026-01-07 14:30:03,250 - google_genai.models - INFO - AFC is enabled with max remote calls: 10.
2026-01-07 14:30:03,254 - httpcore.http11 - DEBUG - send_request_headers.started request=<Request [b'POST']>
2026-01-07 14:30:03,254 - httpcore.http11 - DEBUG - send_request_headers.complete
2026-01-07 14:30:03,254 - httpcore.http11 - DEBUG - send_request_body.started request=<Request [b'POST']>
2026-01-07 14:30:03,255 - httpcore.http11 - DEBUG - send_request_body.complete
2026-01-07 14:30:03,255 - httpcore.http11 - DEBUG - receive_response_headers.started request=<Request [b'POST']>
2026-01-07 14:30:05,007 - httpcore.http11 - DEBUG - receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'Content-Type', b'application/json; charset=UTF-8'), (b'Vary', b'Origin'), (b'Vary', b'X-Origin'), (b'Vary', b'Referer'), (b'Content-Encoding', b'gzip'), (b'Date', b'Wed, 07 Jan 2026 22:30:04 GMT'), (b'Server', b'scaffolding on HTTPServer2'), (b'X-XSS-Protection', b'0'), (b'X-Frame-Options', b'SAMEORIGIN'), (b'X-Content-Type-Options', b'nosniff'), (b'Server-Timing', b'gfet4t7; dur=1743'), (b'Alt-Svc', b'h3=":443"; ma=2592000,h3-29=":443"; ma=2592000'), (b'Transfer-Encoding', b'chunked')])
2026-01-07 14:30:05,007 - httpx - INFO - HTTP Request: POST https://generativelanguage.googleapis.com/v1beta/models/gemini-2.0-flash:generateContent "HTTP/1.1 200 OK"
2026-01-07 14:30:05,007 - httpcore.http11 - DEBUG - receive_response_body.started request=<Request [b'POST']>
2026-01-07 14:30:05,008 - httpcore.http11 - DEBUG - receive_response_body.complete
2026-01-07 14:30:05,008 - httpcore.http11 - DEBUG - response_closed.started
2026-01-07 14:30:05,008 - httpcore.http11 - DEBUG - response_closed.complete
2026-01-07 14:30:05,008 - VideoStreamIngestor - INFO - LLM inference output: task_updates=[TaskUpdate(task_number=0, task_note='Say hello.', task_done=True)] system_actions=[SystemAction(take_action='Open the door')]
2026-01-07 14:30:05,018 - VideoStreamIngestor - DEBUG - Process loop: Frame got from process loop queue for io_id=9856d608
2026-01-07 14:30:05,024 - VideoStreamIngestor - INFO - LLM inference prompt: output an update to say hello for task number 0 in the notes and take the action of opening the door
2026-01-07 14:30:05,024 - google_genai.models - INFO - AFC is enabled with max remote calls: 10.
2026-01-07 14:30:05,027 - httpcore.http11 - DEBUG - send_request_headers.started request=<Request [b'POST']>
2026-01-07 14:30:05,027 - httpcore.http11 - DEBUG - send_request_headers.complete
2026-01-07 14:30:05,027 - httpcore.http11 - DEBUG - send_request_body.started request=<Request [b'POST']>
2026-01-07 14:30:05,027 - httpcore.http11 - DEBUG - send_request_body.complete
2026-01-07 14:30:05,027 - httpcore.http11 - DEBUG - receive_response_headers.started request=<Request [b'POST']>
2026-01-07 14:30:06,903 - httpcore.http11 - DEBUG - receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'Content-Type', b'application/json; charset=UTF-8'), (b'Vary', b'Origin'), (b'Vary', b'X-Origin'), (b'Vary', b'Referer'), (b'Content-Encoding', b'gzip'), (b'Date', b'Wed, 07 Jan 2026 22:30:06 GMT'), (b'Server', b'scaffolding on HTTPServer2'), (b'X-XSS-Protection', b'0'), (b'X-Frame-Options', b'SAMEORIGIN'), (b'X-Content-Type-Options', b'nosniff'), (b'Server-Timing', b'gfet4t7; dur=1869'), (b'Alt-Svc', b'h3=":443"; ma=2592000,h3-29=":443"; ma=2592000'), (b'Transfer-Encoding', b'chunked')])
2026-01-07 14:30:06,903 - httpx - INFO - HTTP Request: POST https://generativelanguage.googleapis.com/v1beta/models/gemini-2.0-flash:generateContent "HTTP/1.1 200 OK"
2026-01-07 14:30:06,903 - httpcore.http11 - DEBUG - receive_response_body.started request=<Request [b'POST']>
2026-01-07 14:30:06,959 - httpcore.http11 - DEBUG - receive_response_body.complete
2026-01-07 14:30:06,959 - httpcore.http11 - DEBUG - response_closed.started
2026-01-07 14:30:06,959 - httpcore.http11 - DEBUG - response_closed.complete
2026-01-07 14:30:06,960 - VideoStreamIngestor - INFO - LLM inference output: task_updates=[TaskUpdate(task_number=0, task_note='Say hello', task_done=True)] system_actions=[SystemAction(take_action='Open the door')]
2026-01-07 14:30:06,975 - httpcore.connection - DEBUG - start_tls.complete return_value=<httpcore._backends.anyio.AnyIOStream object at 0x121887540>
2026-01-07 14:30:06,975 - VideoStreamIngestor - DEBUG - Process loop: Frame got from process loop queue for io_id=9856d608
2026-01-07 14:30:06,980 - VideoStreamIngestor - INFO - LLM inference prompt: output an update to say hello for task number 0 in the notes and take the action of opening the door
2026-01-07 14:30:06,981 - google_genai.models - INFO - AFC is enabled with max remote calls: 10.
2026-01-07 14:30:06,983 - httpcore.http11 - DEBUG - send_request_headers.started request=<Request [b'POST']>
2026-01-07 14:30:06,983 - httpcore.http11 - DEBUG - send_request_headers.complete
2026-01-07 14:30:06,983 - httpcore.http11 - DEBUG - send_request_body.started request=<Request [b'POST']>
2026-01-07 14:30:06,983 - httpcore.http11 - DEBUG - send_request_body.complete
2026-01-07 14:30:06,984 - httpcore.http11 - DEBUG - receive_response_headers.started request=<Request [b'POST']>
2026-01-07 14:30:08,646 - httpcore.http11 - DEBUG - receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'Content-Type', b'application/json; charset=UTF-8'), (b'Vary', b'Origin'), (b'Vary', b'X-Origin'), (b'Vary', b'Referer'), (b'Content-Encoding', b'gzip'), (b'Date', b'Wed, 07 Jan 2026 22:30:08 GMT'), (b'Server', b'scaffolding on HTTPServer2'), (b'X-XSS-Protection', b'0'), (b'X-Frame-Options', b'SAMEORIGIN'), (b'X-Content-Type-Options', b'nosniff'), (b'Server-Timing', b'gfet4t7; dur=1617'), (b'Alt-Svc', b'h3=":443"; ma=2592000,h3-29=":443"; ma=2592000'), (b'Transfer-Encoding', b'chunked')])
2026-01-07 14:30:08,647 - httpx - INFO - HTTP Request: POST https://generativelanguage.googleapis.com/v1beta/models/gemini-2.0-flash:generateContent "HTTP/1.1 200 OK"
2026-01-07 14:30:08,648 - httpcore.http11 - DEBUG - receive_response_body.started request=<Request [b'POST']>
2026-01-07 14:30:08,648 - httpcore.http11 - DEBUG - receive_response_body.complete
2026-01-07 14:30:08,649 - httpcore.http11 - DEBUG - response_closed.started
2026-01-07 14:30:08,649 - httpcore.http11 - DEBUG - response_closed.complete
2026-01-07 14:30:08,650 - VideoStreamIngestor - INFO - LLM inference output: task_updates=[TaskUpdate(task_number=0, task_note='Say hello', task_done=True)] system_actions=[SystemAction(take_action='Open the door')]
2026-01-07 14:30:08,651 - httpcore.http11 - DEBUG - send_request_headers.started request=<Request [b'POST']>
2026-01-07 14:30:08,652 - httpcore.http11 - DEBUG - send_request_headers.complete
2026-01-07 14:30:08,652 - httpcore.http11 - DEBUG - send_request_body.started request=<Request [b'POST']>
2026-01-07 14:30:08,671 - httpcore.http11 - DEBUG - send_request_body.complete
2026-01-07 14:30:08,671 - httpcore.http11 - DEBUG - receive_response_headers.started request=<Request [b'POST']>
2026-01-07 14:30:08,672 - VideoStreamIngestor - DEBUG - Process loop: Frame got from process loop queue for io_id=9856d608
2026-01-07 14:30:08,688 - VideoStreamIngestor - INFO - LLM inference prompt: output an update to say hello for task number 0 in the notes and take the action of opening the door
2026-01-07 14:30:08,689 - google_genai.models - INFO - AFC is enabled with max remote calls: 10.
2026-01-07 14:30:08,694 - httpcore.http11 - DEBUG - send_request_headers.started request=<Request [b'POST']>
2026-01-07 14:30:08,694 - httpcore.http11 - DEBUG - send_request_headers.complete
2026-01-07 14:30:08,694 - httpcore.http11 - DEBUG - send_request_body.started request=<Request [b'POST']>
2026-01-07 14:30:08,695 - httpcore.http11 - DEBUG - send_request_body.complete
2026-01-07 14:30:08,695 - httpcore.http11 - DEBUG - receive_response_headers.started request=<Request [b'POST']>
2026-01-07 14:30:10,584 - httpcore.http11 - DEBUG - receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'Content-Type', b'application/json; charset=UTF-8'), (b'Vary', b'Origin'), (b'Vary', b'X-Origin'), (b'Vary', b'Referer'), (b'Content-Encoding', b'gzip'), (b'Date', b'Wed, 07 Jan 2026 22:30:10 GMT'), (b'Server', b'scaffolding on HTTPServer2'), (b'X-XSS-Protection', b'0'), (b'X-Frame-Options', b'SAMEORIGIN'), (b'X-Content-Type-Options', b'nosniff'), (b'Server-Timing', b'gfet4t7; dur=1804'), (b'Alt-Svc', b'h3=":443"; ma=2592000,h3-29=":443"; ma=2592000'), (b'Transfer-Encoding', b'chunked')])
2026-01-07 14:30:10,585 - httpx - INFO - HTTP Request: POST https://generativelanguage.googleapis.com/v1beta/models/gemini-2.0-flash:generateContent "HTTP/1.1 200 OK"
2026-01-07 14:30:10,585 - httpcore.http11 - DEBUG - receive_response_body.started request=<Request [b'POST']>
2026-01-07 14:30:10,585 - httpcore.http11 - DEBUG - receive_response_body.complete
2026-01-07 14:30:10,585 - httpcore.http11 - DEBUG - response_closed.started
2026-01-07 14:30:10,585 - httpcore.http11 - DEBUG - response_closed.complete
2026-01-07 14:30:10,586 - VideoStreamIngestor - INFO - LLM inference output: task_updates=[TaskUpdate(task_number=0, task_note='Say hello', task_done=True)] system_actions=[SystemAction(take_action='Open the door')]
2026-01-07 14:30:10,587 - httpcore.http11 - DEBUG - receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'Content-Type', b'application/json; charset=UTF-8'), (b'Vary', b'Origin'), (b'Vary', b'X-Origin'), (b'Vary', b'Referer'), (b'Content-Encoding', b'gzip'), (b'Date', b'Wed, 07 Jan 2026 22:30:09 GMT'), (b'Server', b'scaffolding on HTTPServer2'), (b'X-XSS-Protection', b'0'), (b'X-Frame-Options', b'SAMEORIGIN'), (b'X-Content-Type-Options', b'nosniff'), (b'Server-Timing', b'gfet4t7; dur=574'), (b'Alt-Svc', b'h3=":443"; ma=2592000,h3-29=":443"; ma=2592000'), (b'Transfer-Encoding', b'chunked')])
2026-01-07 14:30:10,587 - httpx - INFO - HTTP Request: POST https://generativelanguage.googleapis.com/v1beta/models/gemini-2.0-flash:generateContent "HTTP/1.1 200 OK"
2026-01-07 14:30:10,587 - httpcore.http11 - DEBUG - receive_response_body.started request=<Request [b'POST']>
2026-01-07 14:30:10,587 - httpcore.http11 - DEBUG - receive_response_body.complete
2026-01-07 14:30:10,587 - httpcore.http11 - DEBUG - response_closed.started
2026-01-07 14:30:10,622 - httpcore.http11 - DEBUG - response_closed.complete
2026-01-07 14:30:10,623 - google_adk.google.adk.models.google_llm - INFO - Response received from the model.
2026-01-07 14:30:10,623 - google_adk.google.adk.models.google_llm - DEBUG - 
LLM Response:
-----------------------------------------------------------
Text:
Which door do you want to open?

-----------------------------------------------------------
Function calls:

-----------------------------------------------------------
Raw response:
{"sdk_http_response":{"headers":{"content-type":"application/json; charset=UTF-8","vary":"Origin, X-Origin, Referer","content-encoding":"gzip","date":"Wed, 07 Jan 2026 22:30:09 GMT","server":"scaffolding on HTTPServer2","x-xss-protection":"0","x-frame-options":"SAMEORIGIN","x-content-type-options":"nosniff","server-timing":"gfet4t7; dur=574","alt-svc":"h3=\":443\"; ma=2592000,h3-29=\":443\"; ma=2592000","transfer-encoding":"chunked"}},"candidates":[{"content":{"parts":[{"text":"Which door do you want to open?\n"}],"role":"model"},"finish_reason":"STOP","avg_logprobs":-0.00006832846621465351}],"model_version":"gemini-2.0-flash","response_id":"cN5eaZv8K-CSjMcP6_bhuQQ","usage_metadata":{"candidates_token_count":9,"candidates_tokens_details":[{"modality":"TEXT","token_count":9}],"prompt_token_count":1020,"prompt_tokens_details":[{"modality":"TEXT","token_count":1020}],"total_token_count":1029}}
-----------------------------------------------------------

2026-01-07 14:30:10,623 - VideoStreamIngestor - INFO - Action result: Which door do you want to open?

2026-01-07 14:30:10,623 - VideoStreamIngestor - DEBUG - Action loop: Action Open the door got from action loop queue for io_id=9856d608
2026-01-07 14:30:10,639 - google_adk.google.adk.models.google_llm - INFO - Sending out request, model: gemini-2.0-flash, backend: GoogleLLMVariant.GEMINI_API, stream: False
2026-01-07 14:30:10,639 - google_adk.google.adk.models.google_llm - DEBUG - 
LLM Request:
-----------------------------------------------------------
System Instruction:
You are a helpful and friendly system administrator. Be concise and clear in your responses. You have access to tools that can help you check available input devices on the system and manage tasks. When a user requests a task that requires an input device, you should automatically call list_input_devices_with_ids to find the appropriate device and its io_id. Do not ask the user for io_ids - always retrieve them yourself using the available tools. When selecting a device, prefer video cameras (camera category) when possible. Once you have the io_id, use add_task with the io_id to create tasks. Use list_tasks to view all tasks (optionally filtered by io_id). When a user asks a question about a task, first call list_tasks to find the relevant task_id, then call get_info_on ONCE with that task_id to get detailed information. Do not call get_info_on multiple times for the same task_id. Use remove_task to delete a task by its task_id. Use edit_task to update a task's description. This is especially useful when a user wants to amend an existing task, for example, to add an action to be triggered when a condition is met. When editing a task, preserve the original detection part and add the new action requirement. For example, if a task is 'Count claps' and the user wants to send an email when claps reach 1, edit it to 'Count claps and when it reaches 1 send email to [email]'. You can also use take_output_action to execute various actions like sending emails, opening/closing doors, or controlling lights by providing a natural language description of the action. IMPORTANT: When a user requests an action to be triggered based on a video feed event (e.g., 'send me an email when I clap', 'turn on lights when I wave'), you have two options: 1. If a relevant task already exists (e.g., 'Count claps'), use edit_task to amend it with the action. 2. If no relevant task exists, add a NEW task that combines both the detection and the action. 

You are an agent. Your internal name is "system_administrator". The description about you is "A helpful system administrator. It controls the system on behalf of the user.".
-----------------------------------------------------------
Config:
{'http_options': {'headers': {'x-goog-api-client': 'google-adk/1.21.0 gl-python/3.13.5', 'user-agent': 'google-adk/1.21.0 gl-python/3.13.5'}}, 'tools': [{}]}
-----------------------------------------------------------
Contents:
{"parts":[{"text":"Execute this action: Open the door"}],"role":"user"}
{"parts":[{"function_call":{"args":{"request":"Open the door"},"name":"action_router"}}],"role":"model"}
{"parts":[{"function_response":{"name":"action_router","response":{"result":"Which door do you want to open?"}}}],"role":"user"}
{"parts":[{"text":"Which door do you want to open?\n"}],"role":"model"}
{"parts":[{"text":"Execute this action: open the door"}],"role":"user"}
{"parts":[{"function_call":{"args":{"request":"open the door"},"name":"action_router"}}],"role":"model"}
{"parts":[{"function_response":{"name":"action_router","response":{"result":"Which door do you want to open?"}}}],"role":"user"}
{"parts":[{"text":"Which door do you want to open?\n"}],"role":"model"}
{"parts":[{"text":"Execute this action: Open the door"}],"role":"user"}
-----------------------------------------------------------
Functions:
list_input_devices_with_ids: {} 
add_task: {'io_id': {'type': <Type.STRING: 'STRING'>}, 'task_description': {'type': <Type.STRING: 'STRING'>}} 
list_tasks: {'io_id': {'nullable': True, 'type': <Type.STRING: 'STRING'>}} 
get_info_on: {'task_id': {'type': <Type.STRING: 'STRING'>}} 
remove_task: {'task_id': {'type': <Type.STRING: 'STRING'>}} 
edit_task: {'task_id': {'type': <Type.STRING: 'STRING'>}, 'new_description': {'type': <Type.STRING: 'STRING'>}} 
action_router: {'request': {'type': <Type.STRING: 'STRING'>}} 
-----------------------------------------------------------

2026-01-07 14:30:10,641 - VideoStreamIngestor - DEBUG - Process loop: Frame got from process loop queue for io_id=9856d608
2026-01-07 14:30:10,648 - VideoStreamIngestor - INFO - LLM inference prompt: output an update to say hello for task number 0 in the notes and take the action of opening the door
2026-01-07 14:30:10,649 - google_genai.models - INFO - AFC is enabled with max remote calls: 10.
2026-01-07 14:30:10,651 - httpcore.http11 - DEBUG - send_request_headers.started request=<Request [b'POST']>
2026-01-07 14:30:10,651 - httpcore.http11 - DEBUG - send_request_headers.complete
2026-01-07 14:30:10,651 - httpcore.http11 - DEBUG - send_request_body.started request=<Request [b'POST']>
2026-01-07 14:30:10,652 - httpcore.http11 - DEBUG - send_request_body.complete
2026-01-07 14:30:10,652 - httpcore.http11 - DEBUG - receive_response_headers.started request=<Request [b'POST']>
2026-01-07 14:30:12,433 - httpcore.http11 - DEBUG - receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'Content-Type', b'application/json; charset=UTF-8'), (b'Vary', b'Origin'), (b'Vary', b'X-Origin'), (b'Vary', b'Referer'), (b'Content-Encoding', b'gzip'), (b'Date', b'Wed, 07 Jan 2026 22:30:12 GMT'), (b'Server', b'scaffolding on HTTPServer2'), (b'X-XSS-Protection', b'0'), (b'X-Frame-Options', b'SAMEORIGIN'), (b'X-Content-Type-Options', b'nosniff'), (b'Server-Timing', b'gfet4t7; dur=1774'), (b'Alt-Svc', b'h3=":443"; ma=2592000,h3-29=":443"; ma=2592000'), (b'Transfer-Encoding', b'chunked')])
2026-01-07 14:30:12,434 - httpx - INFO - HTTP Request: POST https://generativelanguage.googleapis.com/v1beta/models/gemini-2.0-flash:generateContent "HTTP/1.1 200 OK"
2026-01-07 14:30:12,434 - httpcore.http11 - DEBUG - receive_response_body.started request=<Request [b'POST']>
2026-01-07 14:30:12,435 - httpcore.http11 - DEBUG - receive_response_body.complete
2026-01-07 14:30:12,435 - httpcore.http11 - DEBUG - response_closed.started
2026-01-07 14:30:12,435 - httpcore.http11 - DEBUG - response_closed.complete
2026-01-07 14:30:12,436 - VideoStreamIngestor - INFO - LLM inference output: task_updates=[TaskUpdate(task_number=0, task_note='Hello', task_done=False)] system_actions=[SystemAction(take_action='Open the door')]
2026-01-07 14:30:12,437 - httpcore.connection - DEBUG - connect_tcp.started host='generativelanguage.googleapis.com' port=443 local_address=None timeout=None socket_options=None
2026-01-07 14:30:12,465 - httpcore.connection - DEBUG - close.started
2026-01-07 14:30:12,466 - VideoStreamIngestor - DEBUG - Process loop: Frame got from process loop queue for io_id=9856d608
2026-01-07 14:30:12,479 - VideoStreamIngestor - INFO - LLM inference prompt: output an update to say hello for task number 0 in the notes and take the action of opening the door
2026-01-07 14:30:12,480 - google_genai.models - INFO - AFC is enabled with max remote calls: 10.
2026-01-07 14:30:12,484 - httpcore.http11 - DEBUG - send_request_headers.started request=<Request [b'POST']>
2026-01-07 14:30:12,484 - httpcore.http11 - DEBUG - send_request_headers.complete
2026-01-07 14:30:12,484 - httpcore.http11 - DEBUG - send_request_body.started request=<Request [b'POST']>
2026-01-07 14:30:12,485 - httpcore.http11 - DEBUG - send_request_body.complete
2026-01-07 14:30:12,485 - httpcore.http11 - DEBUG - receive_response_headers.started request=<Request [b'POST']>
2026-01-07 14:30:14,562 - httpcore.http11 - DEBUG - receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'Content-Type', b'application/json; charset=UTF-8'), (b'Vary', b'Origin'), (b'Vary', b'X-Origin'), (b'Vary', b'Referer'), (b'Content-Encoding', b'gzip'), (b'Date', b'Wed, 07 Jan 2026 22:30:14 GMT'), (b'Server', b'scaffolding on HTTPServer2'), (b'X-XSS-Protection', b'0'), (b'X-Frame-Options', b'SAMEORIGIN'), (b'X-Content-Type-Options', b'nosniff'), (b'Server-Timing', b'gfet4t7; dur=2069'), (b'Alt-Svc', b'h3=":443"; ma=2592000,h3-29=":443"; ma=2592000'), (b'Transfer-Encoding', b'chunked')])
2026-01-07 14:30:14,563 - httpx - INFO - HTTP Request: POST https://generativelanguage.googleapis.com/v1beta/models/gemini-2.0-flash:generateContent "HTTP/1.1 200 OK"
2026-01-07 14:30:14,564 - httpcore.http11 - DEBUG - receive_response_body.started request=<Request [b'POST']>
2026-01-07 14:30:14,565 - httpcore.http11 - DEBUG - receive_response_body.complete
2026-01-07 14:30:14,565 - httpcore.http11 - DEBUG - response_closed.started
2026-01-07 14:30:14,565 - httpcore.http11 - DEBUG - response_closed.complete
2026-01-07 14:30:14,567 - VideoStreamIngestor - INFO - LLM inference output: task_updates=[TaskUpdate(task_number=0, task_note='Say hello', task_done=True)] system_actions=[SystemAction(take_action='Open the door')]
2026-01-07 14:30:14,568 - httpcore.connection - DEBUG - close.complete
2026-01-07 14:30:14,578 - VideoStreamIngestor - DEBUG - Process loop: Frame got from process loop queue for io_id=9856d608
2026-01-07 14:30:14,591 - VideoStreamIngestor - INFO - LLM inference prompt: output an update to say hello for task number 0 in the notes and take the action of opening the door
2026-01-07 14:30:14,593 - google_genai.models - INFO - AFC is enabled with max remote calls: 10.
2026-01-07 14:30:14,596 - httpcore.http11 - DEBUG - send_request_headers.started request=<Request [b'POST']>
2026-01-07 14:30:14,596 - httpcore.http11 - DEBUG - send_request_headers.complete
2026-01-07 14:30:14,596 - httpcore.http11 - DEBUG - send_request_body.started request=<Request [b'POST']>
2026-01-07 14:30:14,597 - httpcore.http11 - DEBUG - send_request_body.complete
2026-01-07 14:30:14,597 - httpcore.http11 - DEBUG - receive_response_headers.started request=<Request [b'POST']>
2026-01-07 14:30:16,430 - httpcore.http11 - DEBUG - receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'Content-Type', b'application/json; charset=UTF-8'), (b'Vary', b'Origin'), (b'Vary', b'X-Origin'), (b'Vary', b'Referer'), (b'Content-Encoding', b'gzip'), (b'Date', b'Wed, 07 Jan 2026 22:30:16 GMT'), (b'Server', b'scaffolding on HTTPServer2'), (b'X-XSS-Protection', b'0'), (b'X-Frame-Options', b'SAMEORIGIN'), (b'X-Content-Type-Options', b'nosniff'), (b'Server-Timing', b'gfet4t7; dur=1719'), (b'Alt-Svc', b'h3=":443"; ma=2592000,h3-29=":443"; ma=2592000'), (b'Transfer-Encoding', b'chunked')])
2026-01-07 14:30:16,430 - httpx - INFO - HTTP Request: POST https://generativelanguage.googleapis.com/v1beta/models/gemini-2.0-flash:generateContent "HTTP/1.1 200 OK"
2026-01-07 14:30:16,431 - httpcore.http11 - DEBUG - receive_response_body.started request=<Request [b'POST']>
2026-01-07 14:30:16,432 - httpcore.http11 - DEBUG - receive_response_body.complete
2026-01-07 14:30:16,432 - httpcore.http11 - DEBUG - response_closed.started
2026-01-07 14:30:16,432 - httpcore.http11 - DEBUG - response_closed.complete
2026-01-07 14:30:16,434 - VideoStreamIngestor - INFO - LLM inference output: task_updates=[TaskUpdate(task_number=0, task_note='Say hello.', task_done=True)] system_actions=[SystemAction(take_action='Open the door')]
2026-01-07 14:30:16,439 - VideoStreamIngestor - DEBUG - Process loop: Frame got from process loop queue for io_id=9856d608
2026-01-07 14:30:16,454 - VideoStreamIngestor - INFO - LLM inference prompt: output an update to say hello for task number 0 in the notes and take the action of opening the door
2026-01-07 14:30:16,455 - google_genai.models - INFO - AFC is enabled with max remote calls: 10.
2026-01-07 14:30:16,460 - httpcore.http11 - DEBUG - send_request_headers.started request=<Request [b'POST']>
2026-01-07 14:30:16,460 - httpcore.http11 - DEBUG - send_request_headers.complete
2026-01-07 14:30:16,460 - httpcore.http11 - DEBUG - send_request_body.started request=<Request [b'POST']>
2026-01-07 14:30:16,461 - httpcore.http11 - DEBUG - send_request_body.complete
2026-01-07 14:30:16,461 - httpcore.http11 - DEBUG - receive_response_headers.started request=<Request [b'POST']>
2026-01-07 14:30:18,170 - httpcore.http11 - DEBUG - receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'Content-Type', b'application/json; charset=UTF-8'), (b'Vary', b'Origin'), (b'Vary', b'X-Origin'), (b'Vary', b'Referer'), (b'Content-Encoding', b'gzip'), (b'Date', b'Wed, 07 Jan 2026 22:30:18 GMT'), (b'Server', b'scaffolding on HTTPServer2'), (b'X-XSS-Protection', b'0'), (b'X-Frame-Options', b'SAMEORIGIN'), (b'X-Content-Type-Options', b'nosniff'), (b'Server-Timing', b'gfet4t7; dur=1674'), (b'Alt-Svc', b'h3=":443"; ma=2592000,h3-29=":443"; ma=2592000'), (b'Transfer-Encoding', b'chunked')])
2026-01-07 14:30:18,170 - httpx - INFO - HTTP Request: POST https://generativelanguage.googleapis.com/v1beta/models/gemini-2.0-flash:generateContent "HTTP/1.1 200 OK"
2026-01-07 14:30:18,170 - httpcore.http11 - DEBUG - receive_response_body.started request=<Request [b'POST']>
2026-01-07 14:30:18,171 - httpcore.http11 - DEBUG - receive_response_body.complete
2026-01-07 14:30:18,171 - httpcore.http11 - DEBUG - response_closed.started
2026-01-07 14:30:18,171 - httpcore.http11 - DEBUG - response_closed.complete
2026-01-07 14:30:18,173 - VideoStreamIngestor - INFO - LLM inference output: task_updates=[TaskUpdate(task_number=0, task_note='Say hello.', task_done=True)] system_actions=[SystemAction(take_action='Open the door.')]
2026-01-07 14:30:18,180 - VideoStreamIngestor - DEBUG - Process loop: Frame got from process loop queue for io_id=9856d608
2026-01-07 14:30:18,193 - VideoStreamIngestor - INFO - LLM inference prompt: output an update to say hello for task number 0 in the notes and take the action of opening the door
2026-01-07 14:30:18,195 - google_genai.models - INFO - AFC is enabled with max remote calls: 10.
2026-01-07 14:30:18,198 - httpcore.http11 - DEBUG - send_request_headers.started request=<Request [b'POST']>
2026-01-07 14:30:18,199 - httpcore.http11 - DEBUG - send_request_headers.complete
2026-01-07 14:30:18,199 - httpcore.http11 - DEBUG - send_request_body.started request=<Request [b'POST']>
2026-01-07 14:30:18,199 - httpcore.http11 - DEBUG - send_request_body.complete
2026-01-07 14:30:18,199 - httpcore.http11 - DEBUG - receive_response_headers.started request=<Request [b'POST']>
2026-01-07 14:30:20,010 - httpcore.http11 - DEBUG - receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'Content-Type', b'application/json; charset=UTF-8'), (b'Vary', b'Origin'), (b'Vary', b'X-Origin'), (b'Vary', b'Referer'), (b'Content-Encoding', b'gzip'), (b'Date', b'Wed, 07 Jan 2026 22:30:19 GMT'), (b'Server', b'scaffolding on HTTPServer2'), (b'X-XSS-Protection', b'0'), (b'X-Frame-Options', b'SAMEORIGIN'), (b'X-Content-Type-Options', b'nosniff'), (b'Server-Timing', b'gfet4t7; dur=1804'), (b'Alt-Svc', b'h3=":443"; ma=2592000,h3-29=":443"; ma=2592000'), (b'Transfer-Encoding', b'chunked')])
2026-01-07 14:30:20,011 - httpx - INFO - HTTP Request: POST https://generativelanguage.googleapis.com/v1beta/models/gemini-2.0-flash:generateContent "HTTP/1.1 200 OK"
2026-01-07 14:30:20,011 - httpcore.http11 - DEBUG - receive_response_body.started request=<Request [b'POST']>
2026-01-07 14:30:20,012 - httpcore.http11 - DEBUG - receive_response_body.complete
2026-01-07 14:30:20,012 - httpcore.http11 - DEBUG - response_closed.started
2026-01-07 14:30:20,012 - httpcore.http11 - DEBUG - response_closed.complete
2026-01-07 14:30:20,013 - VideoStreamIngestor - INFO - LLM inference output: task_updates=[TaskUpdate(task_number=0, task_note='Say hello.', task_done=True)] system_actions=[SystemAction(take_action='Open the door.')]
2026-01-07 14:30:20,014 - httpcore.connection - DEBUG - connect_tcp.complete return_value=<httpcore._backends.anyio.AnyIOStream object at 0x13403e410>
2026-01-07 14:30:20,014 - httpcore.connection - DEBUG - start_tls.started ssl_context=<ssl.SSLContext object at 0x1219fc440> server_hostname='generativelanguage.googleapis.com' timeout=None
2026-01-07 14:30:20,048 - VideoStreamIngestor - DEBUG - Process loop: Frame got from process loop queue for io_id=9856d608
2026-01-07 14:30:20,063 - VideoStreamIngestor - INFO - LLM inference prompt: output an update to say hello for task number 0 in the notes and take the action of opening the door
2026-01-07 14:30:20,064 - google_genai.models - INFO - AFC is enabled with max remote calls: 10.
2026-01-07 14:30:20,066 - httpcore.http11 - DEBUG - send_request_headers.started request=<Request [b'POST']>
2026-01-07 14:30:20,066 - httpcore.http11 - DEBUG - send_request_headers.complete
2026-01-07 14:30:20,066 - httpcore.http11 - DEBUG - send_request_body.started request=<Request [b'POST']>
2026-01-07 14:30:20,067 - httpcore.http11 - DEBUG - send_request_body.complete
2026-01-07 14:30:20,067 - httpcore.http11 - DEBUG - receive_response_headers.started request=<Request [b'POST']>
2026-01-07 14:30:21,892 - httpcore.http11 - DEBUG - receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'Content-Type', b'application/json; charset=UTF-8'), (b'Vary', b'Origin'), (b'Vary', b'X-Origin'), (b'Vary', b'Referer'), (b'Content-Encoding', b'gzip'), (b'Date', b'Wed, 07 Jan 2026 22:30:21 GMT'), (b'Server', b'scaffolding on HTTPServer2'), (b'X-XSS-Protection', b'0'), (b'X-Frame-Options', b'SAMEORIGIN'), (b'X-Content-Type-Options', b'nosniff'), (b'Server-Timing', b'gfet4t7; dur=1816'), (b'Alt-Svc', b'h3=":443"; ma=2592000,h3-29=":443"; ma=2592000'), (b'Transfer-Encoding', b'chunked')])
2026-01-07 14:30:21,893 - httpx - INFO - HTTP Request: POST https://generativelanguage.googleapis.com/v1beta/models/gemini-2.0-flash:generateContent "HTTP/1.1 200 OK"
2026-01-07 14:30:21,893 - httpcore.http11 - DEBUG - receive_response_body.started request=<Request [b'POST']>
2026-01-07 14:30:21,894 - httpcore.http11 - DEBUG - receive_response_body.complete
2026-01-07 14:30:21,894 - httpcore.http11 - DEBUG - response_closed.started
2026-01-07 14:30:21,894 - httpcore.http11 - DEBUG - response_closed.complete
2026-01-07 14:30:21,895 - VideoStreamIngestor - INFO - LLM inference output: task_updates=[TaskUpdate(task_number=0, task_note='Hello', task_done=False)] system_actions=[SystemAction(take_action='Open the door')]
2026-01-07 14:30:21,897 - httpcore.connection - DEBUG - start_tls.complete return_value=<httpcore._backends.anyio.AnyIOStream object at 0x13622aad0>
2026-01-07 14:30:21,922 - httpcore.http11 - DEBUG - send_request_headers.started request=<Request [b'POST']>
2026-01-07 14:30:21,922 - VideoStreamIngestor - DEBUG - Process loop: Frame got from process loop queue for io_id=9856d608
2026-01-07 14:30:21,927 - VideoStreamIngestor - INFO - LLM inference prompt: output an update to say hello for task number 0 in the notes and take the action of opening the door
2026-01-07 14:30:21,929 - google_genai.models - INFO - AFC is enabled with max remote calls: 10.
2026-01-07 14:30:21,932 - httpcore.http11 - DEBUG - send_request_headers.started request=<Request [b'POST']>
2026-01-07 14:30:21,932 - httpcore.http11 - DEBUG - send_request_headers.complete
2026-01-07 14:30:21,932 - httpcore.http11 - DEBUG - send_request_body.started request=<Request [b'POST']>
2026-01-07 14:30:21,933 - httpcore.http11 - DEBUG - send_request_body.complete
2026-01-07 14:30:21,933 - httpcore.http11 - DEBUG - receive_response_headers.started request=<Request [b'POST']>
2026-01-07 14:30:23,802 - httpcore.http11 - DEBUG - receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'Content-Type', b'application/json; charset=UTF-8'), (b'Vary', b'Origin'), (b'Vary', b'X-Origin'), (b'Vary', b'Referer'), (b'Content-Encoding', b'gzip'), (b'Date', b'Wed, 07 Jan 2026 22:30:23 GMT'), (b'Server', b'scaffolding on HTTPServer2'), (b'X-XSS-Protection', b'0'), (b'X-Frame-Options', b'SAMEORIGIN'), (b'X-Content-Type-Options', b'nosniff'), (b'Server-Timing', b'gfet4t7; dur=1787'), (b'Alt-Svc', b'h3=":443"; ma=2592000,h3-29=":443"; ma=2592000'), (b'Transfer-Encoding', b'chunked')])
2026-01-07 14:30:23,802 - httpx - INFO - HTTP Request: POST https://generativelanguage.googleapis.com/v1beta/models/gemini-2.0-flash:generateContent "HTTP/1.1 200 OK"
2026-01-07 14:30:23,802 - httpcore.http11 - DEBUG - receive_response_body.started request=<Request [b'POST']>
2026-01-07 14:30:23,803 - httpcore.http11 - DEBUG - receive_response_body.complete
2026-01-07 14:30:23,803 - httpcore.http11 - DEBUG - response_closed.started
2026-01-07 14:30:23,803 - httpcore.http11 - DEBUG - response_closed.complete
2026-01-07 14:30:23,804 - VideoStreamIngestor - INFO - LLM inference output: task_updates=[TaskUpdate(task_number=0, task_note='Say hello', task_done=True)] system_actions=[SystemAction(take_action='Open the door')]
2026-01-07 14:30:23,805 - httpcore.http11 - DEBUG - send_request_headers.complete
2026-01-07 14:30:23,805 - httpcore.http11 - DEBUG - send_request_body.started request=<Request [b'POST']>
2026-01-07 14:30:23,806 - httpcore.http11 - DEBUG - send_request_body.complete
2026-01-07 14:30:23,806 - httpcore.http11 - DEBUG - receive_response_headers.started request=<Request [b'POST']>
2026-01-07 14:30:23,844 - VideoStreamIngestor - DEBUG - Process loop: Frame got from process loop queue for io_id=9856d608
2026-01-07 14:30:23,860 - VideoStreamIngestor - INFO - LLM inference prompt: output an update to say hello for task number 0 in the notes and take the action of opening the door
2026-01-07 14:30:23,861 - google_genai.models - INFO - AFC is enabled with max remote calls: 10.
2026-01-07 14:30:23,866 - httpcore.http11 - DEBUG - send_request_headers.started request=<Request [b'POST']>
2026-01-07 14:30:23,867 - httpcore.http11 - DEBUG - send_request_headers.complete
2026-01-07 14:30:23,867 - httpcore.http11 - DEBUG - send_request_body.started request=<Request [b'POST']>
2026-01-07 14:30:23,868 - httpcore.http11 - DEBUG - send_request_body.complete
2026-01-07 14:30:23,868 - httpcore.http11 - DEBUG - receive_response_headers.started request=<Request [b'POST']>
2026-01-07 14:30:25,953 - httpcore.http11 - DEBUG - receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'Content-Type', b'application/json; charset=UTF-8'), (b'Vary', b'Origin'), (b'Vary', b'X-Origin'), (b'Vary', b'Referer'), (b'Content-Encoding', b'gzip'), (b'Date', b'Wed, 07 Jan 2026 22:30:25 GMT'), (b'Server', b'scaffolding on HTTPServer2'), (b'X-XSS-Protection', b'0'), (b'X-Frame-Options', b'SAMEORIGIN'), (b'X-Content-Type-Options', b'nosniff'), (b'Server-Timing', b'gfet4t7; dur=1969'), (b'Alt-Svc', b'h3=":443"; ma=2592000,h3-29=":443"; ma=2592000'), (b'Transfer-Encoding', b'chunked')])
2026-01-07 14:30:25,954 - httpx - INFO - HTTP Request: POST https://generativelanguage.googleapis.com/v1beta/models/gemini-2.0-flash:generateContent "HTTP/1.1 200 OK"
2026-01-07 14:30:25,954 - httpcore.http11 - DEBUG - receive_response_body.started request=<Request [b'POST']>
2026-01-07 14:30:25,956 - httpcore.http11 - DEBUG - receive_response_body.complete
2026-01-07 14:30:25,956 - httpcore.http11 - DEBUG - response_closed.started
2026-01-07 14:30:25,956 - httpcore.http11 - DEBUG - response_closed.complete
2026-01-07 14:30:25,958 - VideoStreamIngestor - INFO - LLM inference output: task_updates=[TaskUpdate(task_number=0, task_note='Say hello', task_done=False)] system_actions=[SystemAction(take_action='Open the door')]
2026-01-07 14:30:25,959 - httpcore.http11 - DEBUG - receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'Content-Type', b'application/json; charset=UTF-8'), (b'Vary', b'Origin'), (b'Vary', b'X-Origin'), (b'Vary', b'Referer'), (b'Content-Encoding', b'gzip'), (b'Date', b'Wed, 07 Jan 2026 22:30:24 GMT'), (b'Server', b'scaffolding on HTTPServer2'), (b'X-XSS-Protection', b'0'), (b'X-Frame-Options', b'SAMEORIGIN'), (b'X-Content-Type-Options', b'nosniff'), (b'Server-Timing', b'gfet4t7; dur=720'), (b'Alt-Svc', b'h3=":443"; ma=2592000,h3-29=":443"; ma=2592000'), (b'Transfer-Encoding', b'chunked')])
2026-01-07 14:30:25,959 - httpx - INFO - HTTP Request: POST https://generativelanguage.googleapis.com/v1beta/models/gemini-2.0-flash:generateContent "HTTP/1.1 200 OK"
2026-01-07 14:30:25,959 - httpcore.http11 - DEBUG - receive_response_body.started request=<Request [b'POST']>
2026-01-07 14:30:25,961 - httpcore.http11 - DEBUG - receive_response_body.complete
2026-01-07 14:30:25,961 - httpcore.http11 - DEBUG - response_closed.started
2026-01-07 14:30:25,984 - httpcore.http11 - DEBUG - response_closed.complete
2026-01-07 14:30:25,986 - google_adk.google.adk.models.google_llm - INFO - Response received from the model.
2026-01-07 14:30:25,987 - google_adk.google.adk.models.google_llm - DEBUG - 
LLM Response:
-----------------------------------------------------------
Text:
None
-----------------------------------------------------------
Function calls:
name: action_router, args: {'request': 'Open the door'}
-----------------------------------------------------------
Raw response:
{"sdk_http_response":{"headers":{"content-type":"application/json; charset=UTF-8","vary":"Origin, X-Origin, Referer","content-encoding":"gzip","date":"Wed, 07 Jan 2026 22:30:24 GMT","server":"scaffolding on HTTPServer2","x-xss-protection":"0","x-frame-options":"SAMEORIGIN","x-content-type-options":"nosniff","server-timing":"gfet4t7; dur=720","alt-svc":"h3=\":443\"; ma=2592000,h3-29=\":443\"; ma=2592000","transfer-encoding":"chunked"}},"candidates":[{"content":{"parts":[{"function_call":{"args":{"request":"Open the door"},"name":"action_router"}}],"role":"model"},"finish_reason":"STOP","avg_logprobs":-0.019455039075442722}],"model_version":"gemini-2.0-flash","response_id":"f95eaZW5NOy0jMcPs_CK6QY","usage_metadata":{"candidates_token_count":7,"candidates_tokens_details":[{"modality":"TEXT","token_count":7}],"prompt_token_count":1036,"prompt_tokens_details":[{"modality":"TEXT","token_count":1036}],"total_token_count":1043}}
-----------------------------------------------------------

2026-01-07 14:30:25,989 - VideoStreamIngestor - DEBUG - Process loop: Frame got from process loop queue for io_id=9856d608
2026-01-07 14:30:26,002 - VideoStreamIngestor - INFO - LLM inference prompt: output an update to say hello for task number 0 in the notes and take the action of opening the door
2026-01-07 14:30:26,003 - google_genai.models - INFO - AFC is enabled with max remote calls: 10.
2026-01-07 14:30:26,006 - httpcore.http11 - DEBUG - send_request_headers.started request=<Request [b'POST']>
2026-01-07 14:30:26,006 - httpcore.http11 - DEBUG - send_request_headers.complete
2026-01-07 14:30:26,006 - httpcore.http11 - DEBUG - send_request_body.started request=<Request [b'POST']>
2026-01-07 14:30:26,007 - httpcore.http11 - DEBUG - send_request_body.complete
2026-01-07 14:30:26,007 - httpcore.http11 - DEBUG - receive_response_headers.started request=<Request [b'POST']>
2026-01-07 14:30:27,591 - httpcore.http11 - DEBUG - receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'Content-Type', b'application/json; charset=UTF-8'), (b'Vary', b'Origin'), (b'Vary', b'X-Origin'), (b'Vary', b'Referer'), (b'Content-Encoding', b'gzip'), (b'Date', b'Wed, 07 Jan 2026 22:30:27 GMT'), (b'Server', b'scaffolding on HTTPServer2'), (b'X-XSS-Protection', b'0'), (b'X-Frame-Options', b'SAMEORIGIN'), (b'X-Content-Type-Options', b'nosniff'), (b'Server-Timing', b'gfet4t7; dur=1562'), (b'Alt-Svc', b'h3=":443"; ma=2592000,h3-29=":443"; ma=2592000'), (b'Transfer-Encoding', b'chunked')])
2026-01-07 14:30:27,592 - httpx - INFO - HTTP Request: POST https://generativelanguage.googleapis.com/v1beta/models/gemini-2.0-flash:generateContent "HTTP/1.1 200 OK"
2026-01-07 14:30:27,592 - httpcore.http11 - DEBUG - receive_response_body.started request=<Request [b'POST']>
2026-01-07 14:30:27,593 - httpcore.http11 - DEBUG - receive_response_body.complete
2026-01-07 14:30:27,593 - httpcore.http11 - DEBUG - response_closed.started
2026-01-07 14:30:27,593 - httpcore.http11 - DEBUG - response_closed.complete
2026-01-07 14:30:27,595 - VideoStreamIngestor - INFO - LLM inference output: task_updates=[TaskUpdate(task_number=0, task_note='hello', task_done=False)] system_actions=[SystemAction(take_action='opening the door')]
2026-01-07 14:30:27,619 - google_adk.google.adk.models.google_llm - INFO - Sending out request, model: gemini-2.5-flash, backend: GoogleLLMVariant.GEMINI_API, stream: False
2026-01-07 14:30:27,619 - google_adk.google.adk.models.google_llm - DEBUG - 
LLM Request:
-----------------------------------------------------------
System Instruction:
You are an intelligent action router agent. Your job is to understand action descriptions 
    and route them to the appropriate tool.

    Available tools:
    - send_email: For sending emails. Requires 'to' (email address), optional 'subject', and 'content' (body text).
    - open_door: For opening doors. Requires 'door_name' (e.g., 'front door', 'garage door').
    - close_door: For closing doors. Requires 'door_name'.
    - turn_on_light: For turning on lights. Requires 'light_name'.
    - turn_off_light: For turning off lights. Requires 'light_name'.

    When you receive an action description:
    1. Parse the description to understand the intent
    2. Extract the necessary parameters (email address, door name, etc.)
    3. Call the appropriate tool with the extracted parameters
    4. Return a clear confirmation of what action was taken

    Examples:
    - "send email to example@gmail.com with content hello!" -> call send_email(to="example@gmail.com", content="hello!")
    - "open front door" -> call open_door(door_name="front door")
    - "turn on the living room light" -> call turn_on_light(light_name="living room")
    
    Be smart about extracting parameters from natural language descriptions.

You are an agent. Your internal name is "action_router". The description about you is "An intelligent agent that routes action descriptions to the appropriate action tools.".
-----------------------------------------------------------
Config:
{'http_options': {'headers': {'x-goog-api-client': 'google-adk/1.21.0 gl-python/3.13.5', 'user-agent': 'google-adk/1.21.0 gl-python/3.13.5'}}, 'tools': [{}]}
-----------------------------------------------------------
Contents:
{"parts":[{"text":"Open the door"}],"role":"user"}
-----------------------------------------------------------
Functions:
send_email: {'to': {'type': <Type.STRING: 'STRING'>}, 'subject': {'nullable': True, 'type': <Type.STRING: 'STRING'>}, 'content': {'default': '', 'type': <Type.STRING: 'STRING'>}} 
open_door: {'door_name': {'type': <Type.STRING: 'STRING'>}} 
close_door: {'door_name': {'type': <Type.STRING: 'STRING'>}} 
turn_on_light: {'light_name': {'type': <Type.STRING: 'STRING'>}} 
turn_off_light: {'light_name': {'type': <Type.STRING: 'STRING'>}} 
print_to_user: {'message': {'type': <Type.STRING: 'STRING'>}} 
-----------------------------------------------------------

2026-01-07 14:30:27,620 - httpcore.connection - DEBUG - connect_tcp.started host='generativelanguage.googleapis.com' port=443 local_address=None timeout=None socket_options=None
2026-01-07 14:30:27,633 - VideoStreamIngestor - DEBUG - Process loop: Frame got from process loop queue for io_id=9856d608
2026-01-07 14:30:27,641 - VideoStreamIngestor - INFO - LLM inference prompt: output an update to say hello for task number 0 in the notes and take the action of opening the door
2026-01-07 14:30:27,642 - google_genai.models - INFO - AFC is enabled with max remote calls: 10.
2026-01-07 14:30:27,644 - httpcore.http11 - DEBUG - send_request_headers.started request=<Request [b'POST']>
2026-01-07 14:30:27,644 - httpcore.http11 - DEBUG - send_request_headers.complete
2026-01-07 14:30:27,644 - httpcore.http11 - DEBUG - send_request_body.started request=<Request [b'POST']>
2026-01-07 14:30:27,645 - httpcore.http11 - DEBUG - send_request_body.complete
2026-01-07 14:30:27,645 - httpcore.http11 - DEBUG - receive_response_headers.started request=<Request [b'POST']>
2026-01-07 14:30:29,548 - httpcore.http11 - DEBUG - receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'Content-Type', b'application/json; charset=UTF-8'), (b'Vary', b'Origin'), (b'Vary', b'X-Origin'), (b'Vary', b'Referer'), (b'Content-Encoding', b'gzip'), (b'Date', b'Wed, 07 Jan 2026 22:30:29 GMT'), (b'Server', b'scaffolding on HTTPServer2'), (b'X-XSS-Protection', b'0'), (b'X-Frame-Options', b'SAMEORIGIN'), (b'X-Content-Type-Options', b'nosniff'), (b'Server-Timing', b'gfet4t7; dur=1895'), (b'Alt-Svc', b'h3=":443"; ma=2592000,h3-29=":443"; ma=2592000'), (b'Transfer-Encoding', b'chunked')])
2026-01-07 14:30:29,549 - httpx - INFO - HTTP Request: POST https://generativelanguage.googleapis.com/v1beta/models/gemini-2.0-flash:generateContent "HTTP/1.1 200 OK"
2026-01-07 14:30:29,549 - httpcore.http11 - DEBUG - receive_response_body.started request=<Request [b'POST']>
2026-01-07 14:30:29,550 - httpcore.http11 - DEBUG - receive_response_body.complete
2026-01-07 14:30:29,550 - httpcore.http11 - DEBUG - response_closed.started
2026-01-07 14:30:29,550 - httpcore.http11 - DEBUG - response_closed.complete
2026-01-07 14:30:29,552 - VideoStreamIngestor - INFO - LLM inference output: task_updates=[TaskUpdate(task_number=0, task_note='say hello', task_done=False)] system_actions=[SystemAction(take_action='open the door')]
2026-01-07 14:30:29,586 - VideoStreamIngestor - DEBUG - Process loop: Frame got from process loop queue for io_id=9856d608
2026-01-07 14:30:29,602 - VideoStreamIngestor - INFO - LLM inference prompt: output an update to say hello for task number 0 in the notes and take the action of opening the door
2026-01-07 14:30:29,603 - google_genai.models - INFO - AFC is enabled with max remote calls: 10.
2026-01-07 14:30:29,607 - httpcore.http11 - DEBUG - send_request_headers.started request=<Request [b'POST']>
2026-01-07 14:30:29,608 - httpcore.http11 - DEBUG - send_request_headers.complete
2026-01-07 14:30:29,608 - httpcore.http11 - DEBUG - send_request_body.started request=<Request [b'POST']>
2026-01-07 14:30:29,608 - httpcore.http11 - DEBUG - send_request_body.complete
2026-01-07 14:30:29,608 - httpcore.http11 - DEBUG - receive_response_headers.started request=<Request [b'POST']>
2026-01-07 14:30:31,379 - httpcore.http11 - DEBUG - receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'Content-Type', b'application/json; charset=UTF-8'), (b'Vary', b'Origin'), (b'Vary', b'X-Origin'), (b'Vary', b'Referer'), (b'Content-Encoding', b'gzip'), (b'Date', b'Wed, 07 Jan 2026 22:30:31 GMT'), (b'Server', b'scaffolding on HTTPServer2'), (b'X-XSS-Protection', b'0'), (b'X-Frame-Options', b'SAMEORIGIN'), (b'X-Content-Type-Options', b'nosniff'), (b'Server-Timing', b'gfet4t7; dur=1684'), (b'Alt-Svc', b'h3=":443"; ma=2592000,h3-29=":443"; ma=2592000'), (b'Transfer-Encoding', b'chunked')])
2026-01-07 14:30:31,380 - httpx - INFO - HTTP Request: POST https://generativelanguage.googleapis.com/v1beta/models/gemini-2.0-flash:generateContent "HTTP/1.1 200 OK"
2026-01-07 14:30:31,380 - httpcore.http11 - DEBUG - receive_response_body.started request=<Request [b'POST']>
2026-01-07 14:30:31,381 - httpcore.http11 - DEBUG - receive_response_body.complete
2026-01-07 14:30:31,381 - httpcore.http11 - DEBUG - response_closed.started
2026-01-07 14:30:31,381 - httpcore.http11 - DEBUG - response_closed.complete
2026-01-07 14:30:31,383 - VideoStreamIngestor - INFO - LLM inference output: task_updates=[TaskUpdate(task_number=0, task_note='Say hello', task_done=False)] system_actions=[SystemAction(take_action='Open the door')]
2026-01-07 14:30:31,388 - VideoStreamIngestor - DEBUG - Process loop: Frame got from process loop queue for io_id=9856d608
2026-01-07 14:30:31,402 - VideoStreamIngestor - INFO - LLM inference prompt: output an update to say hello for task number 0 in the notes and take the action of opening the door
2026-01-07 14:30:31,403 - google_genai.models - INFO - AFC is enabled with max remote calls: 10.
2026-01-07 14:30:31,407 - httpcore.http11 - DEBUG - send_request_headers.started request=<Request [b'POST']>
2026-01-07 14:30:31,408 - httpcore.http11 - DEBUG - send_request_headers.complete
2026-01-07 14:30:31,408 - httpcore.http11 - DEBUG - send_request_body.started request=<Request [b'POST']>
2026-01-07 14:30:31,408 - httpcore.http11 - DEBUG - send_request_body.complete
2026-01-07 14:30:31,409 - httpcore.http11 - DEBUG - receive_response_headers.started request=<Request [b'POST']>
2026-01-07 14:30:33,147 - httpcore.http11 - DEBUG - receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'Content-Type', b'application/json; charset=UTF-8'), (b'Vary', b'Origin'), (b'Vary', b'X-Origin'), (b'Vary', b'Referer'), (b'Content-Encoding', b'gzip'), (b'Date', b'Wed, 07 Jan 2026 22:30:33 GMT'), (b'Server', b'scaffolding on HTTPServer2'), (b'X-XSS-Protection', b'0'), (b'X-Frame-Options', b'SAMEORIGIN'), (b'X-Content-Type-Options', b'nosniff'), (b'Server-Timing', b'gfet4t7; dur=1731'), (b'Alt-Svc', b'h3=":443"; ma=2592000,h3-29=":443"; ma=2592000'), (b'Transfer-Encoding', b'chunked')])
2026-01-07 14:30:33,147 - httpx - INFO - HTTP Request: POST https://generativelanguage.googleapis.com/v1beta/models/gemini-2.0-flash:generateContent "HTTP/1.1 200 OK"
2026-01-07 14:30:33,147 - httpcore.http11 - DEBUG - receive_response_body.started request=<Request [b'POST']>
2026-01-07 14:30:33,149 - httpcore.http11 - DEBUG - receive_response_body.complete
2026-01-07 14:30:33,149 - httpcore.http11 - DEBUG - response_closed.started
2026-01-07 14:30:33,149 - httpcore.http11 - DEBUG - response_closed.complete
2026-01-07 14:30:33,151 - VideoStreamIngestor - INFO - LLM inference output: task_updates=[TaskUpdate(task_number=0, task_note='Say hello', task_done=False)] system_actions=[SystemAction(take_action='Open the door')]
2026-01-07 14:30:33,185 - VideoStreamIngestor - DEBUG - Process loop: Frame got from process loop queue for io_id=9856d608
2026-01-07 14:30:33,193 - VideoStreamIngestor - INFO - LLM inference prompt: output an update to say hello for task number 0 in the notes and take the action of opening the door
2026-01-07 14:30:33,194 - google_genai.models - INFO - AFC is enabled with max remote calls: 10.
2026-01-07 14:30:33,198 - httpcore.http11 - DEBUG - send_request_headers.started request=<Request [b'POST']>
2026-01-07 14:30:33,198 - httpcore.http11 - DEBUG - send_request_headers.complete
2026-01-07 14:30:33,198 - httpcore.http11 - DEBUG - send_request_body.started request=<Request [b'POST']>
2026-01-07 14:30:33,199 - httpcore.http11 - DEBUG - send_request_body.complete
2026-01-07 14:30:33,199 - httpcore.http11 - DEBUG - receive_response_headers.started request=<Request [b'POST']>
2026-01-07 14:30:34,987 - httpcore.http11 - DEBUG - receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'Content-Type', b'application/json; charset=UTF-8'), (b'Vary', b'Origin'), (b'Vary', b'X-Origin'), (b'Vary', b'Referer'), (b'Content-Encoding', b'gzip'), (b'Date', b'Wed, 07 Jan 2026 22:30:34 GMT'), (b'Server', b'scaffolding on HTTPServer2'), (b'X-XSS-Protection', b'0'), (b'X-Frame-Options', b'SAMEORIGIN'), (b'X-Content-Type-Options', b'nosniff'), (b'Server-Timing', b'gfet4t7; dur=1781'), (b'Alt-Svc', b'h3=":443"; ma=2592000,h3-29=":443"; ma=2592000'), (b'Transfer-Encoding', b'chunked')])
2026-01-07 14:30:34,988 - httpx - INFO - HTTP Request: POST https://generativelanguage.googleapis.com/v1beta/models/gemini-2.0-flash:generateContent "HTTP/1.1 200 OK"
2026-01-07 14:30:34,988 - httpcore.http11 - DEBUG - receive_response_body.started request=<Request [b'POST']>
2026-01-07 14:30:34,989 - httpcore.http11 - DEBUG - receive_response_body.complete
2026-01-07 14:30:34,989 - httpcore.http11 - DEBUG - response_closed.started
2026-01-07 14:30:34,990 - httpcore.http11 - DEBUG - response_closed.complete
2026-01-07 14:30:34,991 - VideoStreamIngestor - INFO - LLM inference output: task_updates=[TaskUpdate(task_number=0, task_note='Say hello', task_done=True)] system_actions=[SystemAction(take_action='Open the door')]
2026-01-07 14:30:34,991 - httpcore.connection - DEBUG - connect_tcp.complete return_value=<httpcore._backends.anyio.AnyIOStream object at 0x136229f90>
2026-01-07 14:30:34,992 - httpcore.connection - DEBUG - start_tls.started ssl_context=<ssl.SSLContext object at 0x1219fc170> server_hostname='generativelanguage.googleapis.com' timeout=None
2026-01-07 14:30:35,016 - VideoStreamIngestor - DEBUG - Process loop: Frame got from process loop queue for io_id=9856d608
2026-01-07 14:30:35,028 - VideoStreamIngestor - INFO - LLM inference prompt: output an update to say hello for task number 0 in the notes and take the action of opening the door
2026-01-07 14:30:35,029 - google_genai.models - INFO - AFC is enabled with max remote calls: 10.
2026-01-07 14:30:35,033 - httpcore.http11 - DEBUG - send_request_headers.started request=<Request [b'POST']>
2026-01-07 14:30:35,033 - httpcore.http11 - DEBUG - send_request_headers.complete
2026-01-07 14:30:35,033 - httpcore.http11 - DEBUG - send_request_body.started request=<Request [b'POST']>
2026-01-07 14:30:35,034 - httpcore.http11 - DEBUG - send_request_body.complete
2026-01-07 14:30:35,034 - httpcore.http11 - DEBUG - receive_response_headers.started request=<Request [b'POST']>
2026-01-07 14:30:36,859 - httpcore.http11 - DEBUG - receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'Content-Type', b'application/json; charset=UTF-8'), (b'Vary', b'Origin'), (b'Vary', b'X-Origin'), (b'Vary', b'Referer'), (b'Content-Encoding', b'gzip'), (b'Date', b'Wed, 07 Jan 2026 22:30:36 GMT'), (b'Server', b'scaffolding on HTTPServer2'), (b'X-XSS-Protection', b'0'), (b'X-Frame-Options', b'SAMEORIGIN'), (b'X-Content-Type-Options', b'nosniff'), (b'Server-Timing', b'gfet4t7; dur=1818'), (b'Alt-Svc', b'h3=":443"; ma=2592000,h3-29=":443"; ma=2592000'), (b'Transfer-Encoding', b'chunked')])
2026-01-07 14:30:36,859 - httpx - INFO - HTTP Request: POST https://generativelanguage.googleapis.com/v1beta/models/gemini-2.0-flash:generateContent "HTTP/1.1 200 OK"
2026-01-07 14:30:36,859 - httpcore.http11 - DEBUG - receive_response_body.started request=<Request [b'POST']>
2026-01-07 14:30:36,860 - httpcore.http11 - DEBUG - receive_response_body.complete
2026-01-07 14:30:36,860 - httpcore.http11 - DEBUG - response_closed.started
2026-01-07 14:30:36,860 - httpcore.http11 - DEBUG - response_closed.complete
2026-01-07 14:30:36,861 - VideoStreamIngestor - INFO - LLM inference output: task_updates=[TaskUpdate(task_number=0, task_note='Say hello.', task_done=True)] system_actions=[SystemAction(take_action='Open the door')]
2026-01-07 14:30:36,893 - httpcore.connection - DEBUG - start_tls.complete return_value=<httpcore._backends.anyio.AnyIOStream object at 0x13408dbe0>
2026-01-07 14:30:36,893 - VideoStreamIngestor - DEBUG - Process loop: Frame got from process loop queue for io_id=9856d608
2026-01-07 14:30:36,900 - VideoStreamIngestor - INFO - LLM inference prompt: output an update to say hello for task number 0 in the notes and take the action of opening the door
2026-01-07 14:30:36,900 - google_genai.models - INFO - AFC is enabled with max remote calls: 10.
2026-01-07 14:30:36,902 - httpcore.http11 - DEBUG - send_request_headers.started request=<Request [b'POST']>
2026-01-07 14:30:36,903 - httpcore.http11 - DEBUG - send_request_headers.complete
2026-01-07 14:30:36,903 - httpcore.http11 - DEBUG - send_request_body.started request=<Request [b'POST']>
2026-01-07 14:30:36,903 - httpcore.http11 - DEBUG - send_request_body.complete
2026-01-07 14:30:36,903 - httpcore.http11 - DEBUG - receive_response_headers.started request=<Request [b'POST']>
2026-01-07 14:30:39,221 - httpcore.http11 - DEBUG - receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'Content-Type', b'application/json; charset=UTF-8'), (b'Vary', b'Origin'), (b'Vary', b'X-Origin'), (b'Vary', b'Referer'), (b'Content-Encoding', b'gzip'), (b'Date', b'Wed, 07 Jan 2026 22:30:39 GMT'), (b'Server', b'scaffolding on HTTPServer2'), (b'X-XSS-Protection', b'0'), (b'X-Frame-Options', b'SAMEORIGIN'), (b'X-Content-Type-Options', b'nosniff'), (b'Server-Timing', b'gfet4t7; dur=2309'), (b'Alt-Svc', b'h3=":443"; ma=2592000,h3-29=":443"; ma=2592000'), (b'Transfer-Encoding', b'chunked')])
2026-01-07 14:30:39,222 - httpx - INFO - HTTP Request: POST https://generativelanguage.googleapis.com/v1beta/models/gemini-2.0-flash:generateContent "HTTP/1.1 200 OK"
2026-01-07 14:30:39,222 - httpcore.http11 - DEBUG - receive_response_body.started request=<Request [b'POST']>
2026-01-07 14:30:39,222 - httpcore.http11 - DEBUG - receive_response_body.complete
2026-01-07 14:30:39,222 - httpcore.http11 - DEBUG - response_closed.started
2026-01-07 14:30:39,222 - httpcore.http11 - DEBUG - response_closed.complete
2026-01-07 14:30:39,223 - VideoStreamIngestor - INFO - LLM inference output: task_updates=[TaskUpdate(task_number=0, task_note='Say hello', task_done=False)] system_actions=[SystemAction(take_action='Open the door')]
2026-01-07 14:30:39,223 - httpcore.http11 - DEBUG - send_request_headers.started request=<Request [b'POST']>
2026-01-07 14:30:39,224 - httpcore.http11 - DEBUG - send_request_headers.complete
2026-01-07 14:30:39,224 - httpcore.http11 - DEBUG - send_request_body.started request=<Request [b'POST']>
2026-01-07 14:30:39,237 - httpcore.http11 - DEBUG - send_request_body.complete
2026-01-07 14:30:39,237 - httpcore.http11 - DEBUG - receive_response_headers.started request=<Request [b'POST']>
2026-01-07 14:30:39,238 - VideoStreamIngestor - DEBUG - Process loop: Frame got from process loop queue for io_id=9856d608
2026-01-07 14:30:39,249 - VideoStreamIngestor - INFO - LLM inference prompt: output an update to say hello for task number 0 in the notes and take the action of opening the door
2026-01-07 14:30:39,250 - google_genai.models - INFO - AFC is enabled with max remote calls: 10.
2026-01-07 14:30:39,254 - httpcore.http11 - DEBUG - send_request_headers.started request=<Request [b'POST']>
2026-01-07 14:30:39,254 - httpcore.http11 - DEBUG - send_request_headers.complete
2026-01-07 14:30:39,254 - httpcore.http11 - DEBUG - send_request_body.started request=<Request [b'POST']>
2026-01-07 14:30:39,255 - httpcore.http11 - DEBUG - send_request_body.complete
2026-01-07 14:30:39,255 - httpcore.http11 - DEBUG - receive_response_headers.started request=<Request [b'POST']>
2026-01-07 14:30:41,210 - httpcore.http11 - DEBUG - receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'Content-Type', b'application/json; charset=UTF-8'), (b'Vary', b'Origin'), (b'Vary', b'X-Origin'), (b'Vary', b'Referer'), (b'Content-Encoding', b'gzip'), (b'Date', b'Wed, 07 Jan 2026 22:30:40 GMT'), (b'Server', b'scaffolding on HTTPServer2'), (b'X-XSS-Protection', b'0'), (b'X-Frame-Options', b'SAMEORIGIN'), (b'X-Content-Type-Options', b'nosniff'), (b'Server-Timing', b'gfet4t7; dur=1751'), (b'Alt-Svc', b'h3=":443"; ma=2592000,h3-29=":443"; ma=2592000'), (b'Transfer-Encoding', b'chunked')])
2026-01-07 14:30:41,211 - httpx - INFO - HTTP Request: POST https://generativelanguage.googleapis.com/v1beta/models/gemini-2.0-flash:generateContent "HTTP/1.1 200 OK"
2026-01-07 14:30:41,211 - httpcore.http11 - DEBUG - receive_response_body.started request=<Request [b'POST']>
2026-01-07 14:30:41,212 - httpcore.http11 - DEBUG - receive_response_body.complete
2026-01-07 14:30:41,213 - httpcore.http11 - DEBUG - response_closed.started
2026-01-07 14:30:41,213 - httpcore.http11 - DEBUG - response_closed.complete
2026-01-07 14:30:41,214 - VideoStreamIngestor - INFO - LLM inference output: task_updates=[TaskUpdate(task_number=0, task_note='Say hello', task_done=True)] system_actions=[SystemAction(take_action='Open the door')]
2026-01-07 14:30:41,215 - httpcore.http11 - DEBUG - receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'Content-Type', b'application/json; charset=UTF-8'), (b'Vary', b'Origin'), (b'Vary', b'X-Origin'), (b'Vary', b'Referer'), (b'Content-Encoding', b'gzip'), (b'Date', b'Wed, 07 Jan 2026 22:30:39 GMT'), (b'Server', b'scaffolding on HTTPServer2'), (b'X-XSS-Protection', b'0'), (b'X-Frame-Options', b'SAMEORIGIN'), (b'X-Content-Type-Options', b'nosniff'), (b'Server-Timing', b'gfet4t7; dur=779'), (b'Alt-Svc', b'h3=":443"; ma=2592000,h3-29=":443"; ma=2592000'), (b'Transfer-Encoding', b'chunked')])
2026-01-07 14:30:41,216 - httpx - INFO - HTTP Request: POST https://generativelanguage.googleapis.com/v1beta/models/gemini-2.5-flash:generateContent "HTTP/1.1 200 OK"
2026-01-07 14:30:41,216 - httpcore.http11 - DEBUG - receive_response_body.started request=<Request [b'POST']>
2026-01-07 14:30:41,216 - httpcore.http11 - DEBUG - receive_response_body.complete
2026-01-07 14:30:41,216 - httpcore.http11 - DEBUG - response_closed.started
2026-01-07 14:30:41,220 - httpcore.http11 - DEBUG - response_closed.complete
2026-01-07 14:30:41,221 - google_adk.google.adk.models.google_llm - INFO - Response received from the model.
2026-01-07 14:30:41,221 - google_adk.google.adk.models.google_llm - DEBUG - 
LLM Response:
-----------------------------------------------------------
Text:
Which door would you like to open?
-----------------------------------------------------------
Function calls:

-----------------------------------------------------------
Raw response:
{"sdk_http_response":{"headers":{"content-type":"application/json; charset=UTF-8","vary":"Origin, X-Origin, Referer","content-encoding":"gzip","date":"Wed, 07 Jan 2026 22:30:39 GMT","server":"scaffolding on HTTPServer2","x-xss-protection":"0","x-frame-options":"SAMEORIGIN","x-content-type-options":"nosniff","server-timing":"gfet4t7; dur=779","alt-svc":"h3=\":443\"; ma=2592000,h3-29=\":443\"; ma=2592000","transfer-encoding":"chunked"}},"candidates":[{"content":{"parts":[{"text":"Which door would you like to open?","thought_signature":"CtwBAXLI2nyxsVMIJWltz-0eAdtHbBhRJ6tReCyEhkryFBigbiwK0jK9PKz4gfKMTtc3G4PDCLGUFtItuWcuqYT5AxNX_rMBKv-FVPaQgqTyJvHP44_uoRWElqh54cTP7zTdNpd49RdbHpiUaXgPUCZXCC0nF7_BQBFkIDVwKdEE5kRvd4O8P0EAYVo8pQQgrA6oL72TFUErTBec7vsXXeP2zbM9a0l88kRMoElHkHcgYmmEKZAfwztL7DoLm11Tz0S0LtEU0wmeF9TEg3cnbIL1qLCu59D1Ql3Fmuk27g=="}],"role":"model"},"finish_reason":"STOP","index":0}],"model_version":"gemini-2.5-flash","response_id":"j95eaYbJOMO-jMcPlpGpuAQ","usage_metadata":{"candidates_token_count":8,"prompt_token_count":918,"prompt_tokens_details":[{"modality":"TEXT","token_count":918}],"thoughts_token_count":45,"total_token_count":971}}
-----------------------------------------------------------

2026-01-07 14:30:41,222 - google_adk.google.adk.runners - INFO - Closing runner...
2026-01-07 14:30:41,222 - google_adk.google.adk.runners - INFO - Runner closed.
2026-01-07 14:30:41,222 - VideoStreamIngestor - DEBUG - Process loop: Frame got from process loop queue for io_id=9856d608
2026-01-07 14:30:41,234 - VideoStreamIngestor - INFO - LLM inference prompt: output an update to say hello for task number 0 in the notes and take the action of opening the door
2026-01-07 14:30:41,235 - google_genai.models - INFO - AFC is enabled with max remote calls: 10.
2026-01-07 14:30:41,239 - httpcore.http11 - DEBUG - send_request_headers.started request=<Request [b'POST']>
2026-01-07 14:30:41,239 - httpcore.http11 - DEBUG - send_request_headers.complete
2026-01-07 14:30:41,239 - httpcore.http11 - DEBUG - send_request_body.started request=<Request [b'POST']>
2026-01-07 14:30:41,240 - httpcore.http11 - DEBUG - send_request_body.complete
2026-01-07 14:30:41,240 - httpcore.http11 - DEBUG - receive_response_headers.started request=<Request [b'POST']>
2026-01-07 14:30:43,258 - httpcore.http11 - DEBUG - receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'Content-Type', b'application/json; charset=UTF-8'), (b'Vary', b'Origin'), (b'Vary', b'X-Origin'), (b'Vary', b'Referer'), (b'Content-Encoding', b'gzip'), (b'Date', b'Wed, 07 Jan 2026 22:30:43 GMT'), (b'Server', b'scaffolding on HTTPServer2'), (b'X-XSS-Protection', b'0'), (b'X-Frame-Options', b'SAMEORIGIN'), (b'X-Content-Type-Options', b'nosniff'), (b'Server-Timing', b'gfet4t7; dur=1811'), (b'Alt-Svc', b'h3=":443"; ma=2592000,h3-29=":443"; ma=2592000'), (b'Transfer-Encoding', b'chunked')])
2026-01-07 14:30:43,259 - httpx - INFO - HTTP Request: POST https://generativelanguage.googleapis.com/v1beta/models/gemini-2.0-flash:generateContent "HTTP/1.1 200 OK"
2026-01-07 14:30:43,260 - httpcore.http11 - DEBUG - receive_response_body.started request=<Request [b'POST']>
2026-01-07 14:30:43,261 - httpcore.http11 - DEBUG - receive_response_body.complete
2026-01-07 14:30:43,261 - httpcore.http11 - DEBUG - response_closed.started
2026-01-07 14:30:43,261 - httpcore.http11 - DEBUG - response_closed.complete
2026-01-07 14:30:43,262 - VideoStreamIngestor - INFO - LLM inference output: task_updates=[TaskUpdate(task_number=0, task_note='Say hello', task_done=True)] system_actions=[SystemAction(take_action='Open the door')]
2026-01-07 14:30:43,263 - httpcore.connection - DEBUG - close.started
2026-01-07 14:30:43,263 - httpcore.connection - DEBUG - close.complete
2026-01-07 14:30:43,290 - google_adk.google.adk.models.google_llm - INFO - Sending out request, model: gemini-2.0-flash, backend: GoogleLLMVariant.GEMINI_API, stream: False
2026-01-07 14:30:43,290 - google_adk.google.adk.models.google_llm - DEBUG - 
LLM Request:
-----------------------------------------------------------
System Instruction:
You are a helpful and friendly system administrator. Be concise and clear in your responses. You have access to tools that can help you check available input devices on the system and manage tasks. When a user requests a task that requires an input device, you should automatically call list_input_devices_with_ids to find the appropriate device and its io_id. Do not ask the user for io_ids - always retrieve them yourself using the available tools. When selecting a device, prefer video cameras (camera category) when possible. Once you have the io_id, use add_task with the io_id to create tasks. Use list_tasks to view all tasks (optionally filtered by io_id). When a user asks a question about a task, first call list_tasks to find the relevant task_id, then call get_info_on ONCE with that task_id to get detailed information. Do not call get_info_on multiple times for the same task_id. Use remove_task to delete a task by its task_id. Use edit_task to update a task's description. This is especially useful when a user wants to amend an existing task, for example, to add an action to be triggered when a condition is met. When editing a task, preserve the original detection part and add the new action requirement. For example, if a task is 'Count claps' and the user wants to send an email when claps reach 1, edit it to 'Count claps and when it reaches 1 send email to [email]'. You can also use take_output_action to execute various actions like sending emails, opening/closing doors, or controlling lights by providing a natural language description of the action. IMPORTANT: When a user requests an action to be triggered based on a video feed event (e.g., 'send me an email when I clap', 'turn on lights when I wave'), you have two options: 1. If a relevant task already exists (e.g., 'Count claps'), use edit_task to amend it with the action. 2. If no relevant task exists, add a NEW task that combines both the detection and the action. 

You are an agent. Your internal name is "system_administrator". The description about you is "A helpful system administrator. It controls the system on behalf of the user.".
-----------------------------------------------------------
Config:
{'http_options': {'headers': {'x-goog-api-client': 'google-adk/1.21.0 gl-python/3.13.5', 'user-agent': 'google-adk/1.21.0 gl-python/3.13.5'}}, 'tools': [{}]}
-----------------------------------------------------------
Contents:
{"parts":[{"text":"Execute this action: Open the door"}],"role":"user"}
{"parts":[{"function_call":{"args":{"request":"Open the door"},"name":"action_router"}}],"role":"model"}
{"parts":[{"function_response":{"name":"action_router","response":{"result":"Which door do you want to open?"}}}],"role":"user"}
{"parts":[{"text":"Which door do you want to open?\n"}],"role":"model"}
{"parts":[{"text":"Execute this action: open the door"}],"role":"user"}
{"parts":[{"function_call":{"args":{"request":"open the door"},"name":"action_router"}}],"role":"model"}
{"parts":[{"function_response":{"name":"action_router","response":{"result":"Which door do you want to open?"}}}],"role":"user"}
{"parts":[{"text":"Which door do you want to open?\n"}],"role":"model"}
{"parts":[{"text":"Execute this action: Open the door"}],"role":"user"}
{"parts":[{"function_call":{"args":{"request":"Open the door"},"name":"action_router"}}],"role":"model"}
{"parts":[{"function_response":{"name":"action_router","response":{"result":"Which door would you like to open?"}}}],"role":"user"}
-----------------------------------------------------------
Functions:
list_input_devices_with_ids: {} 
add_task: {'io_id': {'type': <Type.STRING: 'STRING'>}, 'task_description': {'type': <Type.STRING: 'STRING'>}} 
list_tasks: {'io_id': {'nullable': True, 'type': <Type.STRING: 'STRING'>}} 
get_info_on: {'task_id': {'type': <Type.STRING: 'STRING'>}} 
remove_task: {'task_id': {'type': <Type.STRING: 'STRING'>}} 
edit_task: {'task_id': {'type': <Type.STRING: 'STRING'>}, 'new_description': {'type': <Type.STRING: 'STRING'>}} 
action_router: {'request': {'type': <Type.STRING: 'STRING'>}} 
-----------------------------------------------------------

2026-01-07 14:30:43,307 - httpcore.connection - DEBUG - close.started
2026-01-07 14:30:43,307 - httpcore.connection - DEBUG - connect_tcp.started host='generativelanguage.googleapis.com' port=443 local_address=None timeout=None socket_options=None
2026-01-07 14:30:43,308 - VideoStreamIngestor - DEBUG - Process loop: Frame got from process loop queue for io_id=9856d608
2026-01-07 14:30:43,317 - VideoStreamIngestor - INFO - LLM inference prompt: output an update to say hello for task number 0 in the notes and take the action of opening the door
2026-01-07 14:30:43,317 - google_genai.models - INFO - AFC is enabled with max remote calls: 10.
2026-01-07 14:30:43,320 - httpcore.http11 - DEBUG - send_request_headers.started request=<Request [b'POST']>
2026-01-07 14:30:43,320 - httpcore.http11 - DEBUG - send_request_headers.complete
2026-01-07 14:30:43,320 - httpcore.http11 - DEBUG - send_request_body.started request=<Request [b'POST']>
2026-01-07 14:30:43,321 - httpcore.http11 - DEBUG - send_request_body.complete
2026-01-07 14:30:43,321 - httpcore.http11 - DEBUG - receive_response_headers.started request=<Request [b'POST']>
2026-01-07 14:30:45,336 - httpcore.http11 - DEBUG - receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'Content-Type', b'application/json; charset=UTF-8'), (b'Vary', b'Origin'), (b'Vary', b'X-Origin'), (b'Vary', b'Referer'), (b'Content-Encoding', b'gzip'), (b'Date', b'Wed, 07 Jan 2026 22:30:45 GMT'), (b'Server', b'scaffolding on HTTPServer2'), (b'X-XSS-Protection', b'0'), (b'X-Frame-Options', b'SAMEORIGIN'), (b'X-Content-Type-Options', b'nosniff'), (b'Server-Timing', b'gfet4t7; dur=2009'), (b'Alt-Svc', b'h3=":443"; ma=2592000,h3-29=":443"; ma=2592000'), (b'Transfer-Encoding', b'chunked')])
2026-01-07 14:30:45,337 - httpx - INFO - HTTP Request: POST https://generativelanguage.googleapis.com/v1beta/models/gemini-2.0-flash:generateContent "HTTP/1.1 200 OK"
2026-01-07 14:30:45,337 - httpcore.http11 - DEBUG - receive_response_body.started request=<Request [b'POST']>
2026-01-07 14:30:45,338 - httpcore.http11 - DEBUG - receive_response_body.complete
2026-01-07 14:30:45,338 - httpcore.http11 - DEBUG - response_closed.started
2026-01-07 14:30:45,338 - httpcore.http11 - DEBUG - response_closed.complete
2026-01-07 14:30:45,338 - VideoStreamIngestor - INFO - LLM inference output: task_updates=[TaskUpdate(task_number=0, task_note='Say hello', task_done=True)] system_actions=[SystemAction(take_action='open the door')]
2026-01-07 14:30:45,339 - httpcore.connection - DEBUG - close.complete
2026-01-07 14:30:45,370 - VideoStreamIngestor - DEBUG - Process loop: Frame got from process loop queue for io_id=9856d608
2026-01-07 14:30:45,379 - VideoStreamIngestor - INFO - LLM inference prompt: output an update to say hello for task number 0 in the notes and take the action of opening the door
2026-01-07 14:30:45,380 - google_genai.models - INFO - AFC is enabled with max remote calls: 10.
2026-01-07 14:30:45,382 - httpcore.http11 - DEBUG - send_request_headers.started request=<Request [b'POST']>
2026-01-07 14:30:45,382 - httpcore.http11 - DEBUG - send_request_headers.complete
2026-01-07 14:30:45,382 - httpcore.http11 - DEBUG - send_request_body.started request=<Request [b'POST']>
2026-01-07 14:30:45,383 - httpcore.http11 - DEBUG - send_request_body.complete
2026-01-07 14:30:45,383 - httpcore.http11 - DEBUG - receive_response_headers.started request=<Request [b'POST']>
2026-01-07 14:30:47,134 - httpcore.http11 - DEBUG - receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'Content-Type', b'application/json; charset=UTF-8'), (b'Vary', b'Origin'), (b'Vary', b'X-Origin'), (b'Vary', b'Referer'), (b'Content-Encoding', b'gzip'), (b'Date', b'Wed, 07 Jan 2026 22:30:47 GMT'), (b'Server', b'scaffolding on HTTPServer2'), (b'X-XSS-Protection', b'0'), (b'X-Frame-Options', b'SAMEORIGIN'), (b'X-Content-Type-Options', b'nosniff'), (b'Server-Timing', b'gfet4t7; dur=1744'), (b'Alt-Svc', b'h3=":443"; ma=2592000,h3-29=":443"; ma=2592000'), (b'Transfer-Encoding', b'chunked')])
2026-01-07 14:30:47,135 - httpx - INFO - HTTP Request: POST https://generativelanguage.googleapis.com/v1beta/models/gemini-2.0-flash:generateContent "HTTP/1.1 200 OK"
2026-01-07 14:30:47,135 - httpcore.http11 - DEBUG - receive_response_body.started request=<Request [b'POST']>
2026-01-07 14:30:47,136 - httpcore.http11 - DEBUG - receive_response_body.complete
2026-01-07 14:30:47,136 - httpcore.http11 - DEBUG - response_closed.started
2026-01-07 14:30:47,136 - httpcore.http11 - DEBUG - response_closed.complete
2026-01-07 14:30:47,138 - VideoStreamIngestor - INFO - LLM inference output: task_updates=[TaskUpdate(task_number=0, task_note='Say hello', task_done=False)] system_actions=[SystemAction(take_action='Open the door')]
2026-01-07 14:30:47,153 - VideoStreamIngestor - DEBUG - Process loop: Frame got from process loop queue for io_id=9856d608
2026-01-07 14:30:47,168 - VideoStreamIngestor - INFO - LLM inference prompt: output an update to say hello for task number 0 in the notes and take the action of opening the door
2026-01-07 14:30:47,169 - google_genai.models - INFO - AFC is enabled with max remote calls: 10.
2026-01-07 14:30:47,173 - httpcore.http11 - DEBUG - send_request_headers.started request=<Request [b'POST']>
2026-01-07 14:30:47,173 - httpcore.http11 - DEBUG - send_request_headers.complete
2026-01-07 14:30:47,173 - httpcore.http11 - DEBUG - send_request_body.started request=<Request [b'POST']>
2026-01-07 14:30:47,174 - httpcore.http11 - DEBUG - send_request_body.complete
2026-01-07 14:30:47,174 - httpcore.http11 - DEBUG - receive_response_headers.started request=<Request [b'POST']>
2026-01-07 14:30:49,190 - httpcore.http11 - DEBUG - receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'Content-Type', b'application/json; charset=UTF-8'), (b'Vary', b'Origin'), (b'Vary', b'X-Origin'), (b'Vary', b'Referer'), (b'Content-Encoding', b'gzip'), (b'Date', b'Wed, 07 Jan 2026 22:30:49 GMT'), (b'Server', b'scaffolding on HTTPServer2'), (b'X-XSS-Protection', b'0'), (b'X-Frame-Options', b'SAMEORIGIN'), (b'X-Content-Type-Options', b'nosniff'), (b'Server-Timing', b'gfet4t7; dur=2009'), (b'Alt-Svc', b'h3=":443"; ma=2592000,h3-29=":443"; ma=2592000'), (b'Transfer-Encoding', b'chunked')])
2026-01-07 14:30:49,190 - httpx - INFO - HTTP Request: POST https://generativelanguage.googleapis.com/v1beta/models/gemini-2.0-flash:generateContent "HTTP/1.1 200 OK"
2026-01-07 14:30:49,190 - httpcore.http11 - DEBUG - receive_response_body.started request=<Request [b'POST']>
2026-01-07 14:30:49,190 - httpcore.http11 - DEBUG - receive_response_body.complete
2026-01-07 14:30:49,190 - httpcore.http11 - DEBUG - response_closed.started
2026-01-07 14:30:49,191 - httpcore.http11 - DEBUG - response_closed.complete
2026-01-07 14:30:49,191 - VideoStreamIngestor - INFO - LLM inference output: task_updates=[TaskUpdate(task_number=0, task_note='Say hello', task_done=True)] system_actions=[SystemAction(take_action='Open the door')]
2026-01-07 14:30:49,200 - httpcore.connection - DEBUG - connect_tcp.complete return_value=<httpcore._backends.anyio.AnyIOStream object at 0x136260ad0>
2026-01-07 14:30:49,200 - httpcore.connection - DEBUG - start_tls.started ssl_context=<ssl.SSLContext object at 0x13408d760> server_hostname='generativelanguage.googleapis.com' timeout=None
2026-01-07 14:30:49,201 - VideoStreamIngestor - DEBUG - Process loop: Frame got from process loop queue for io_id=9856d608
2026-01-07 14:30:49,206 - VideoStreamIngestor - INFO - LLM inference prompt: output an update to say hello for task number 0 in the notes and take the action of opening the door
2026-01-07 14:30:49,207 - google_genai.models - INFO - AFC is enabled with max remote calls: 10.
2026-01-07 14:30:49,209 - httpcore.http11 - DEBUG - send_request_headers.started request=<Request [b'POST']>
2026-01-07 14:30:49,209 - httpcore.http11 - DEBUG - send_request_headers.complete
2026-01-07 14:30:49,209 - httpcore.http11 - DEBUG - send_request_body.started request=<Request [b'POST']>
2026-01-07 14:30:49,210 - httpcore.http11 - DEBUG - send_request_body.complete
2026-01-07 14:30:49,210 - httpcore.http11 - DEBUG - receive_response_headers.started request=<Request [b'POST']>
2026-01-07 14:30:51,142 - httpcore.http11 - DEBUG - receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'Content-Type', b'application/json; charset=UTF-8'), (b'Vary', b'Origin'), (b'Vary', b'X-Origin'), (b'Vary', b'Referer'), (b'Content-Encoding', b'gzip'), (b'Date', b'Wed, 07 Jan 2026 22:30:51 GMT'), (b'Server', b'scaffolding on HTTPServer2'), (b'X-XSS-Protection', b'0'), (b'X-Frame-Options', b'SAMEORIGIN'), (b'X-Content-Type-Options', b'nosniff'), (b'Server-Timing', b'gfet4t7; dur=1884'), (b'Alt-Svc', b'h3=":443"; ma=2592000,h3-29=":443"; ma=2592000'), (b'Transfer-Encoding', b'chunked')])
2026-01-07 14:30:51,142 - httpx - INFO - HTTP Request: POST https://generativelanguage.googleapis.com/v1beta/models/gemini-2.0-flash:generateContent "HTTP/1.1 200 OK"
2026-01-07 14:30:51,142 - httpcore.http11 - DEBUG - receive_response_body.started request=<Request [b'POST']>
2026-01-07 14:30:51,143 - httpcore.http11 - DEBUG - receive_response_body.complete
2026-01-07 14:30:51,143 - httpcore.http11 - DEBUG - response_closed.started
2026-01-07 14:30:51,143 - httpcore.http11 - DEBUG - response_closed.complete
2026-01-07 14:30:51,143 - VideoStreamIngestor - INFO - LLM inference output: task_updates=[TaskUpdate(task_number=0, task_note='Say hello.', task_done=True)] system_actions=[SystemAction(take_action='Open the door.')]
2026-01-07 14:30:51,168 - VideoStreamIngestor - DEBUG - Process loop: Frame got from process loop queue for io_id=9856d608
2026-01-07 14:30:51,173 - VideoStreamIngestor - INFO - LLM inference prompt: output an update to say hello for task number 0 in the notes and take the action of opening the door
2026-01-07 14:30:51,174 - google_genai.models - INFO - AFC is enabled with max remote calls: 10.
2026-01-07 14:30:51,175 - httpcore.http11 - DEBUG - send_request_headers.started request=<Request [b'POST']>
2026-01-07 14:30:51,175 - httpcore.http11 - DEBUG - send_request_headers.complete
2026-01-07 14:30:51,175 - httpcore.http11 - DEBUG - send_request_body.started request=<Request [b'POST']>
2026-01-07 14:30:51,176 - httpcore.http11 - DEBUG - send_request_body.complete
2026-01-07 14:30:51,176 - httpcore.http11 - DEBUG - receive_response_headers.started request=<Request [b'POST']>
2026-01-07 14:30:53,087 - httpcore.http11 - DEBUG - receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'Content-Type', b'application/json; charset=UTF-8'), (b'Vary', b'Origin'), (b'Vary', b'X-Origin'), (b'Vary', b'Referer'), (b'Content-Encoding', b'gzip'), (b'Date', b'Wed, 07 Jan 2026 22:30:53 GMT'), (b'Server', b'scaffolding on HTTPServer2'), (b'X-XSS-Protection', b'0'), (b'X-Frame-Options', b'SAMEORIGIN'), (b'X-Content-Type-Options', b'nosniff'), (b'Server-Timing', b'gfet4t7; dur=1903'), (b'Alt-Svc', b'h3=":443"; ma=2592000,h3-29=":443"; ma=2592000'), (b'Transfer-Encoding', b'chunked')])
2026-01-07 14:30:53,087 - httpx - INFO - HTTP Request: POST https://generativelanguage.googleapis.com/v1beta/models/gemini-2.0-flash:generateContent "HTTP/1.1 200 OK"
2026-01-07 14:30:53,087 - httpcore.http11 - DEBUG - receive_response_body.started request=<Request [b'POST']>
2026-01-07 14:30:53,087 - httpcore.http11 - DEBUG - receive_response_body.complete
2026-01-07 14:30:53,087 - httpcore.http11 - DEBUG - response_closed.started
2026-01-07 14:30:53,088 - httpcore.http11 - DEBUG - response_closed.complete
2026-01-07 14:30:53,088 - VideoStreamIngestor - INFO - LLM inference output: task_updates=[TaskUpdate(task_number=0, task_note='Say hello', task_done=True)] system_actions=[SystemAction(take_action='Open the door')]
2026-01-07 14:30:53,105 - httpcore.connection - DEBUG - start_tls.complete return_value=<httpcore._backends.anyio.AnyIOStream object at 0x136293450>
2026-01-07 14:30:53,106 - VideoStreamIngestor - DEBUG - Process loop: Frame got from process loop queue for io_id=9856d608
2026-01-07 14:30:53,120 - VideoStreamIngestor - INFO - LLM inference prompt: output an update to say hello for task number 0 in the notes and take the action of opening the door
2026-01-07 14:30:53,121 - google_genai.models - INFO - AFC is enabled with max remote calls: 10.
2026-01-07 14:30:53,124 - httpcore.http11 - DEBUG - send_request_headers.started request=<Request [b'POST']>
2026-01-07 14:30:53,124 - httpcore.http11 - DEBUG - send_request_headers.complete
2026-01-07 14:30:53,124 - httpcore.http11 - DEBUG - send_request_body.started request=<Request [b'POST']>
2026-01-07 14:30:53,125 - httpcore.http11 - DEBUG - send_request_body.complete
2026-01-07 14:30:53,125 - httpcore.http11 - DEBUG - receive_response_headers.started request=<Request [b'POST']>
2026-01-07 14:30:55,032 - httpcore.http11 - DEBUG - receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'Content-Type', b'application/json; charset=UTF-8'), (b'Vary', b'Origin'), (b'Vary', b'X-Origin'), (b'Vary', b'Referer'), (b'Content-Encoding', b'gzip'), (b'Date', b'Wed, 07 Jan 2026 22:30:55 GMT'), (b'Server', b'scaffolding on HTTPServer2'), (b'X-XSS-Protection', b'0'), (b'X-Frame-Options', b'SAMEORIGIN'), (b'X-Content-Type-Options', b'nosniff'), (b'Server-Timing', b'gfet4t7; dur=1899'), (b'Alt-Svc', b'h3=":443"; ma=2592000,h3-29=":443"; ma=2592000'), (b'Transfer-Encoding', b'chunked')])
2026-01-07 14:30:55,033 - httpx - INFO - HTTP Request: POST https://generativelanguage.googleapis.com/v1beta/models/gemini-2.0-flash:generateContent "HTTP/1.1 200 OK"
2026-01-07 14:30:55,033 - httpcore.http11 - DEBUG - receive_response_body.started request=<Request [b'POST']>
2026-01-07 14:30:55,034 - httpcore.http11 - DEBUG - receive_response_body.complete
2026-01-07 14:30:55,034 - httpcore.http11 - DEBUG - response_closed.started
2026-01-07 14:30:55,034 - httpcore.http11 - DEBUG - response_closed.complete
2026-01-07 14:30:55,036 - VideoStreamIngestor - INFO - LLM inference output: task_updates=[TaskUpdate(task_number=0, task_note='hello', task_done=False)] system_actions=[SystemAction(take_action='opening the door')]
2026-01-07 14:30:55,036 - httpcore.http11 - DEBUG - send_request_headers.started request=<Request [b'POST']>
2026-01-07 14:30:55,037 - httpcore.http11 - DEBUG - send_request_headers.complete
2026-01-07 14:30:55,037 - httpcore.http11 - DEBUG - send_request_body.started request=<Request [b'POST']>
2026-01-07 14:30:55,057 - httpcore.http11 - DEBUG - send_request_body.complete
2026-01-07 14:30:55,057 - httpcore.http11 - DEBUG - receive_response_headers.started request=<Request [b'POST']>
2026-01-07 14:30:55,058 - VideoStreamIngestor - DEBUG - Process loop: Frame got from process loop queue for io_id=9856d608
2026-01-07 14:30:55,072 - VideoStreamIngestor - INFO - LLM inference prompt: output an update to say hello for task number 0 in the notes and take the action of opening the door
2026-01-07 14:30:55,073 - google_genai.models - INFO - AFC is enabled with max remote calls: 10.
2026-01-07 14:30:55,077 - httpcore.http11 - DEBUG - send_request_headers.started request=<Request [b'POST']>
2026-01-07 14:30:55,078 - httpcore.http11 - DEBUG - send_request_headers.complete
2026-01-07 14:30:55,078 - httpcore.http11 - DEBUG - send_request_body.started request=<Request [b'POST']>
2026-01-07 14:30:55,078 - httpcore.http11 - DEBUG - send_request_body.complete
2026-01-07 14:30:55,079 - httpcore.http11 - DEBUG - receive_response_headers.started request=<Request [b'POST']>
2026-01-07 14:30:57,083 - httpcore.http11 - DEBUG - receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'Content-Type', b'application/json; charset=UTF-8'), (b'Vary', b'Origin'), (b'Vary', b'X-Origin'), (b'Vary', b'Referer'), (b'Content-Encoding', b'gzip'), (b'Date', b'Wed, 07 Jan 2026 22:30:56 GMT'), (b'Server', b'scaffolding on HTTPServer2'), (b'X-XSS-Protection', b'0'), (b'X-Frame-Options', b'SAMEORIGIN'), (b'X-Content-Type-Options', b'nosniff'), (b'Server-Timing', b'gfet4t7; dur=1925'), (b'Alt-Svc', b'h3=":443"; ma=2592000,h3-29=":443"; ma=2592000'), (b'Transfer-Encoding', b'chunked')])
2026-01-07 14:30:57,084 - httpx - INFO - HTTP Request: POST https://generativelanguage.googleapis.com/v1beta/models/gemini-2.0-flash:generateContent "HTTP/1.1 200 OK"
2026-01-07 14:30:57,084 - httpcore.http11 - DEBUG - receive_response_body.started request=<Request [b'POST']>
2026-01-07 14:30:57,084 - httpcore.http11 - DEBUG - receive_response_body.complete
2026-01-07 14:30:57,084 - httpcore.http11 - DEBUG - response_closed.started
2026-01-07 14:30:57,084 - httpcore.http11 - DEBUG - response_closed.complete
2026-01-07 14:30:57,084 - VideoStreamIngestor - INFO - LLM inference output: task_updates=[TaskUpdate(task_number=0, task_note='Hello', task_done=False)] system_actions=[SystemAction(take_action='Open the door')]
2026-01-07 14:30:57,085 - httpcore.http11 - DEBUG - receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'Content-Type', b'application/json; charset=UTF-8'), (b'Vary', b'Origin'), (b'Vary', b'X-Origin'), (b'Vary', b'Referer'), (b'Content-Encoding', b'gzip'), (b'Date', b'Wed, 07 Jan 2026 22:30:55 GMT'), (b'Server', b'scaffolding on HTTPServer2'), (b'X-XSS-Protection', b'0'), (b'X-Frame-Options', b'SAMEORIGIN'), (b'X-Content-Type-Options', b'nosniff'), (b'Server-Timing', b'gfet4t7; dur=385'), (b'Alt-Svc', b'h3=":443"; ma=2592000,h3-29=":443"; ma=2592000'), (b'Transfer-Encoding', b'chunked')])
2026-01-07 14:30:57,085 - httpx - INFO - HTTP Request: POST https://generativelanguage.googleapis.com/v1beta/models/gemini-2.0-flash:generateContent "HTTP/1.1 200 OK"
2026-01-07 14:30:57,085 - httpcore.http11 - DEBUG - receive_response_body.started request=<Request [b'POST']>
2026-01-07 14:30:57,085 - httpcore.http11 - DEBUG - receive_response_body.complete
2026-01-07 14:30:57,085 - httpcore.http11 - DEBUG - response_closed.started
2026-01-07 14:30:57,105 - httpcore.http11 - DEBUG - response_closed.complete
2026-01-07 14:30:57,106 - google_adk.google.adk.models.google_llm - INFO - Response received from the model.
2026-01-07 14:30:57,106 - google_adk.google.adk.models.google_llm - DEBUG - 
LLM Response:
-----------------------------------------------------------
Text:
Which door would you like to open?

-----------------------------------------------------------
Function calls:

-----------------------------------------------------------
Raw response:
{"sdk_http_response":{"headers":{"content-type":"application/json; charset=UTF-8","vary":"Origin, X-Origin, Referer","content-encoding":"gzip","date":"Wed, 07 Jan 2026 22:30:55 GMT","server":"scaffolding on HTTPServer2","x-xss-protection":"0","x-frame-options":"SAMEORIGIN","x-content-type-options":"nosniff","server-timing":"gfet4t7; dur=385","alt-svc":"h3=\":443\"; ma=2592000,h3-29=\":443\"; ma=2592000","transfer-encoding":"chunked"}},"candidates":[{"content":{"parts":[{"text":"Which door would you like to open?\n"}],"role":"model"},"finish_reason":"STOP","avg_logprobs":-0.0000305004780077272}],"model_version":"gemini-2.0-flash","response_id":"n95eaZ3mBuaMjMcPp4C9wAQ","usage_metadata":{"candidates_token_count":9,"candidates_tokens_details":[{"modality":"TEXT","token_count":9}],"prompt_token_count":1055,"prompt_tokens_details":[{"modality":"TEXT","token_count":1055}],"total_token_count":1064}}
-----------------------------------------------------------

2026-01-07 14:30:57,106 - VideoStreamIngestor - INFO - Action result: Which door would you like to open?

2026-01-07 14:30:57,106 - VideoStreamIngestor - DEBUG - Action loop: Action Open the door got from action loop queue for io_id=9856d608
2026-01-07 14:30:57,118 - google_adk.google.adk.models.google_llm - INFO - Sending out request, model: gemini-2.0-flash, backend: GoogleLLMVariant.GEMINI_API, stream: False
2026-01-07 14:30:57,119 - google_adk.google.adk.models.google_llm - DEBUG - 
LLM Request:
-----------------------------------------------------------
System Instruction:
You are a helpful and friendly system administrator. Be concise and clear in your responses. You have access to tools that can help you check available input devices on the system and manage tasks. When a user requests a task that requires an input device, you should automatically call list_input_devices_with_ids to find the appropriate device and its io_id. Do not ask the user for io_ids - always retrieve them yourself using the available tools. When selecting a device, prefer video cameras (camera category) when possible. Once you have the io_id, use add_task with the io_id to create tasks. Use list_tasks to view all tasks (optionally filtered by io_id). When a user asks a question about a task, first call list_tasks to find the relevant task_id, then call get_info_on ONCE with that task_id to get detailed information. Do not call get_info_on multiple times for the same task_id. Use remove_task to delete a task by its task_id. Use edit_task to update a task's description. This is especially useful when a user wants to amend an existing task, for example, to add an action to be triggered when a condition is met. When editing a task, preserve the original detection part and add the new action requirement. For example, if a task is 'Count claps' and the user wants to send an email when claps reach 1, edit it to 'Count claps and when it reaches 1 send email to [email]'. You can also use take_output_action to execute various actions like sending emails, opening/closing doors, or controlling lights by providing a natural language description of the action. IMPORTANT: When a user requests an action to be triggered based on a video feed event (e.g., 'send me an email when I clap', 'turn on lights when I wave'), you have two options: 1. If a relevant task already exists (e.g., 'Count claps'), use edit_task to amend it with the action. 2. If no relevant task exists, add a NEW task that combines both the detection and the action. 

You are an agent. Your internal name is "system_administrator". The description about you is "A helpful system administrator. It controls the system on behalf of the user.".
-----------------------------------------------------------
Config:
{'http_options': {'headers': {'x-goog-api-client': 'google-adk/1.21.0 gl-python/3.13.5', 'user-agent': 'google-adk/1.21.0 gl-python/3.13.5'}}, 'tools': [{}]}
-----------------------------------------------------------
Contents:
{"parts":[{"text":"Execute this action: Open the door"}],"role":"user"}
{"parts":[{"function_call":{"args":{"request":"Open the door"},"name":"action_router"}}],"role":"model"}
{"parts":[{"function_response":{"name":"action_router","response":{"result":"Which door do you want to open?"}}}],"role":"user"}
{"parts":[{"text":"Which door do you want to open?\n"}],"role":"model"}
{"parts":[{"text":"Execute this action: open the door"}],"role":"user"}
{"parts":[{"function_call":{"args":{"request":"open the door"},"name":"action_router"}}],"role":"model"}
{"parts":[{"function_response":{"name":"action_router","response":{"result":"Which door do you want to open?"}}}],"role":"user"}
{"parts":[{"text":"Which door do you want to open?\n"}],"role":"model"}
{"parts":[{"text":"Execute this action: Open the door"}],"role":"user"}
{"parts":[{"function_call":{"args":{"request":"Open the door"},"name":"action_router"}}],"role":"model"}
{"parts":[{"function_response":{"name":"action_router","response":{"result":"Which door would you like to open?"}}}],"role":"user"}
{"parts":[{"text":"Which door would you like to open?\n"}],"role":"model"}
{"parts":[{"text":"Execute this action: Open the door"}],"role":"user"}
-----------------------------------------------------------
Functions:
list_input_devices_with_ids: {} 
add_task: {'io_id': {'type': <Type.STRING: 'STRING'>}, 'task_description': {'type': <Type.STRING: 'STRING'>}} 
list_tasks: {'io_id': {'nullable': True, 'type': <Type.STRING: 'STRING'>}} 
get_info_on: {'task_id': {'type': <Type.STRING: 'STRING'>}} 
remove_task: {'task_id': {'type': <Type.STRING: 'STRING'>}} 
edit_task: {'task_id': {'type': <Type.STRING: 'STRING'>}, 'new_description': {'type': <Type.STRING: 'STRING'>}} 
action_router: {'request': {'type': <Type.STRING: 'STRING'>}} 
-----------------------------------------------------------

2026-01-07 14:30:57,121 - VideoStreamIngestor - DEBUG - Process loop: Frame got from process loop queue for io_id=9856d608
2026-01-07 14:30:57,126 - VideoStreamIngestor - INFO - LLM inference prompt: output an update to say hello for task number 0 in the notes and take the action of opening the door
2026-01-07 14:30:57,127 - google_genai.models - INFO - AFC is enabled with max remote calls: 10.
2026-01-07 14:30:57,129 - httpcore.http11 - DEBUG - send_request_headers.started request=<Request [b'POST']>
2026-01-07 14:30:57,129 - httpcore.http11 - DEBUG - send_request_headers.complete
2026-01-07 14:30:57,129 - httpcore.http11 - DEBUG - send_request_body.started request=<Request [b'POST']>
2026-01-07 14:30:57,129 - httpcore.http11 - DEBUG - send_request_body.complete
2026-01-07 14:30:57,129 - httpcore.http11 - DEBUG - receive_response_headers.started request=<Request [b'POST']>
2026-01-07 14:30:58,926 - httpcore.http11 - DEBUG - receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'Content-Type', b'application/json; charset=UTF-8'), (b'Vary', b'Origin'), (b'Vary', b'X-Origin'), (b'Vary', b'Referer'), (b'Content-Encoding', b'gzip'), (b'Date', b'Wed, 07 Jan 2026 22:30:58 GMT'), (b'Server', b'scaffolding on HTTPServer2'), (b'X-XSS-Protection', b'0'), (b'X-Frame-Options', b'SAMEORIGIN'), (b'X-Content-Type-Options', b'nosniff'), (b'Server-Timing', b'gfet4t7; dur=1779'), (b'Alt-Svc', b'h3=":443"; ma=2592000,h3-29=":443"; ma=2592000'), (b'Transfer-Encoding', b'chunked')])
2026-01-07 14:30:58,927 - httpx - INFO - HTTP Request: POST https://generativelanguage.googleapis.com/v1beta/models/gemini-2.0-flash:generateContent "HTTP/1.1 200 OK"
2026-01-07 14:30:58,927 - httpcore.http11 - DEBUG - receive_response_body.started request=<Request [b'POST']>
2026-01-07 14:30:58,927 - httpcore.http11 - DEBUG - receive_response_body.complete
2026-01-07 14:30:58,927 - httpcore.http11 - DEBUG - response_closed.started
2026-01-07 14:30:58,928 - httpcore.http11 - DEBUG - response_closed.complete
2026-01-07 14:30:58,929 - VideoStreamIngestor - INFO - LLM inference output: task_updates=[TaskUpdate(task_number=0, task_note='say hello', task_done=True)] system_actions=[SystemAction(take_action='opening the door')]
2026-01-07 14:30:58,930 - httpcore.connection - DEBUG - connect_tcp.started host='generativelanguage.googleapis.com' port=443 local_address=None timeout=None socket_options=None
2026-01-07 14:30:58,960 - httpcore.connection - DEBUG - close.started
2026-01-07 14:30:58,961 - VideoStreamIngestor - DEBUG - Process loop: Frame got from process loop queue for io_id=9856d608
2026-01-07 14:30:58,977 - VideoStreamIngestor - INFO - LLM inference prompt: output an update to say hello for task number 0 in the notes and take the action of opening the door
2026-01-07 14:30:58,978 - google_genai.models - INFO - AFC is enabled with max remote calls: 10.
2026-01-07 14:30:58,982 - httpcore.http11 - DEBUG - send_request_headers.started request=<Request [b'POST']>
2026-01-07 14:30:58,983 - httpcore.http11 - DEBUG - send_request_headers.complete
2026-01-07 14:30:58,983 - httpcore.http11 - DEBUG - send_request_body.started request=<Request [b'POST']>
2026-01-07 14:30:58,984 - httpcore.http11 - DEBUG - send_request_body.complete
2026-01-07 14:30:58,984 - httpcore.http11 - DEBUG - receive_response_headers.started request=<Request [b'POST']>
2026-01-07 14:31:01,895 - httpcore.http11 - DEBUG - receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'Content-Type', b'application/json; charset=UTF-8'), (b'Vary', b'Origin'), (b'Vary', b'X-Origin'), (b'Vary', b'Referer'), (b'Content-Encoding', b'gzip'), (b'Date', b'Wed, 07 Jan 2026 22:31:01 GMT'), (b'Server', b'scaffolding on HTTPServer2'), (b'X-XSS-Protection', b'0'), (b'X-Frame-Options', b'SAMEORIGIN'), (b'X-Content-Type-Options', b'nosniff'), (b'Server-Timing', b'gfet4t7; dur=2803'), (b'Alt-Svc', b'h3=":443"; ma=2592000,h3-29=":443"; ma=2592000'), (b'Transfer-Encoding', b'chunked')])
2026-01-07 14:31:01,896 - httpx - INFO - HTTP Request: POST https://generativelanguage.googleapis.com/v1beta/models/gemini-2.0-flash:generateContent "HTTP/1.1 200 OK"
2026-01-07 14:31:01,896 - httpcore.http11 - DEBUG - receive_response_body.started request=<Request [b'POST']>
2026-01-07 14:31:01,897 - httpcore.http11 - DEBUG - receive_response_body.complete
2026-01-07 14:31:01,897 - httpcore.http11 - DEBUG - response_closed.started
2026-01-07 14:31:01,897 - httpcore.http11 - DEBUG - response_closed.complete
2026-01-07 14:31:01,899 - VideoStreamIngestor - INFO - LLM inference output: task_updates=[TaskUpdate(task_number=0, task_note='hello', task_done=False)] system_actions=[SystemAction(take_action='opening the door')]
2026-01-07 14:31:01,899 - httpcore.connection - DEBUG - close.complete
2026-01-07 14:31:01,930 - VideoStreamIngestor - DEBUG - Process loop: Frame got from process loop queue for io_id=9856d608
2026-01-07 14:31:01,946 - VideoStreamIngestor - INFO - LLM inference prompt: output an update to say hello for task number 0 in the notes and take the action of opening the door
2026-01-07 14:31:01,948 - google_genai.models - INFO - AFC is enabled with max remote calls: 10.
2026-01-07 14:31:01,952 - httpcore.http11 - DEBUG - send_request_headers.started request=<Request [b'POST']>
2026-01-07 14:31:01,952 - httpcore.http11 - DEBUG - send_request_headers.complete
2026-01-07 14:31:01,952 - httpcore.http11 - DEBUG - send_request_body.started request=<Request [b'POST']>
2026-01-07 14:31:01,953 - httpcore.http11 - DEBUG - send_request_body.complete
2026-01-07 14:31:01,953 - httpcore.http11 - DEBUG - receive_response_headers.started request=<Request [b'POST']>
2026-01-07 14:31:03,739 - httpcore.http11 - DEBUG - receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'Content-Type', b'application/json; charset=UTF-8'), (b'Vary', b'Origin'), (b'Vary', b'X-Origin'), (b'Vary', b'Referer'), (b'Content-Encoding', b'gzip'), (b'Date', b'Wed, 07 Jan 2026 22:31:03 GMT'), (b'Server', b'scaffolding on HTTPServer2'), (b'X-XSS-Protection', b'0'), (b'X-Frame-Options', b'SAMEORIGIN'), (b'X-Content-Type-Options', b'nosniff'), (b'Server-Timing', b'gfet4t7; dur=1745'), (b'Alt-Svc', b'h3=":443"; ma=2592000,h3-29=":443"; ma=2592000'), (b'Transfer-Encoding', b'chunked')])
2026-01-07 14:31:03,740 - httpx - INFO - HTTP Request: POST https://generativelanguage.googleapis.com/v1beta/models/gemini-2.0-flash:generateContent "HTTP/1.1 200 OK"
2026-01-07 14:31:03,740 - httpcore.http11 - DEBUG - receive_response_body.started request=<Request [b'POST']>
2026-01-07 14:31:03,741 - httpcore.http11 - DEBUG - receive_response_body.complete
2026-01-07 14:31:03,741 - httpcore.http11 - DEBUG - response_closed.started
2026-01-07 14:31:03,741 - httpcore.http11 - DEBUG - response_closed.complete
2026-01-07 14:31:03,743 - VideoStreamIngestor - INFO - LLM inference output: task_updates=[TaskUpdate(task_number=0, task_note='Hello!', task_done=False)] system_actions=[SystemAction(take_action='Open the door')]
2026-01-07 14:31:03,768 - VideoStreamIngestor - DEBUG - Process loop: Frame got from process loop queue for io_id=9856d608
2026-01-07 14:31:03,784 - VideoStreamIngestor - INFO - LLM inference prompt: output an update to say hello for task number 0 in the notes and take the action of opening the door
2026-01-07 14:31:03,786 - google_genai.models - INFO - AFC is enabled with max remote calls: 10.
2026-01-07 14:31:03,790 - httpcore.http11 - DEBUG - send_request_headers.started request=<Request [b'POST']>
2026-01-07 14:31:03,790 - httpcore.http11 - DEBUG - send_request_headers.complete
2026-01-07 14:31:03,790 - httpcore.http11 - DEBUG - send_request_body.started request=<Request [b'POST']>
2026-01-07 14:31:03,791 - httpcore.http11 - DEBUG - send_request_body.complete
2026-01-07 14:31:03,791 - httpcore.http11 - DEBUG - receive_response_headers.started request=<Request [b'POST']>
2026-01-07 14:31:06,076 - httpcore.http11 - DEBUG - receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'Content-Type', b'application/json; charset=UTF-8'), (b'Vary', b'Origin'), (b'Vary', b'X-Origin'), (b'Vary', b'Referer'), (b'Content-Encoding', b'gzip'), (b'Date', b'Wed, 07 Jan 2026 22:31:06 GMT'), (b'Server', b'scaffolding on HTTPServer2'), (b'X-XSS-Protection', b'0'), (b'X-Frame-Options', b'SAMEORIGIN'), (b'X-Content-Type-Options', b'nosniff'), (b'Server-Timing', b'gfet4t7; dur=2272'), (b'Alt-Svc', b'h3=":443"; ma=2592000,h3-29=":443"; ma=2592000'), (b'Transfer-Encoding', b'chunked')])
2026-01-07 14:31:06,076 - httpx - INFO - HTTP Request: POST https://generativelanguage.googleapis.com/v1beta/models/gemini-2.0-flash:generateContent "HTTP/1.1 200 OK"
2026-01-07 14:31:06,077 - httpcore.http11 - DEBUG - receive_response_body.started request=<Request [b'POST']>
2026-01-07 14:31:06,077 - httpcore.http11 - DEBUG - receive_response_body.complete
2026-01-07 14:31:06,077 - httpcore.http11 - DEBUG - response_closed.started
2026-01-07 14:31:06,077 - httpcore.http11 - DEBUG - response_closed.complete
2026-01-07 14:31:06,078 - VideoStreamIngestor - INFO - LLM inference output: task_updates=[TaskUpdate(task_number=0, task_note='say hello', task_done=True)] system_actions=[SystemAction(take_action='opening the door')]
2026-01-07 14:31:06,097 - VideoStreamIngestor - DEBUG - Process loop: Frame got from process loop queue for io_id=9856d608
2026-01-07 14:31:06,110 - VideoStreamIngestor - INFO - LLM inference prompt: output an update to say hello for task number 0 in the notes and take the action of opening the door
2026-01-07 14:31:06,111 - google_genai.models - INFO - AFC is enabled with max remote calls: 10.
2026-01-07 14:31:06,115 - httpcore.http11 - DEBUG - send_request_headers.started request=<Request [b'POST']>
2026-01-07 14:31:06,115 - httpcore.http11 - DEBUG - send_request_headers.complete
2026-01-07 14:31:06,115 - httpcore.http11 - DEBUG - send_request_body.started request=<Request [b'POST']>
2026-01-07 14:31:06,116 - httpcore.http11 - DEBUG - send_request_body.complete
2026-01-07 14:31:06,116 - httpcore.http11 - DEBUG - receive_response_headers.started request=<Request [b'POST']>
2026-01-07 14:31:07,885 - httpcore.http11 - DEBUG - receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'Content-Type', b'application/json; charset=UTF-8'), (b'Vary', b'Origin'), (b'Vary', b'X-Origin'), (b'Vary', b'Referer'), (b'Content-Encoding', b'gzip'), (b'Date', b'Wed, 07 Jan 2026 22:31:07 GMT'), (b'Server', b'scaffolding on HTTPServer2'), (b'X-XSS-Protection', b'0'), (b'X-Frame-Options', b'SAMEORIGIN'), (b'X-Content-Type-Options', b'nosniff'), (b'Server-Timing', b'gfet4t7; dur=1757'), (b'Alt-Svc', b'h3=":443"; ma=2592000,h3-29=":443"; ma=2592000'), (b'Transfer-Encoding', b'chunked')])
2026-01-07 14:31:07,886 - httpx - INFO - HTTP Request: POST https://generativelanguage.googleapis.com/v1beta/models/gemini-2.0-flash:generateContent "HTTP/1.1 200 OK"
2026-01-07 14:31:07,886 - httpcore.http11 - DEBUG - receive_response_body.started request=<Request [b'POST']>
2026-01-07 14:31:07,887 - httpcore.http11 - DEBUG - receive_response_body.complete
2026-01-07 14:31:07,887 - httpcore.http11 - DEBUG - response_closed.started
2026-01-07 14:31:07,887 - httpcore.http11 - DEBUG - response_closed.complete
2026-01-07 14:31:07,888 - VideoStreamIngestor - INFO - LLM inference output: task_updates=[TaskUpdate(task_number=0, task_note='Say hello', task_done=False)] system_actions=[SystemAction(take_action='Open the door')]
2026-01-07 14:31:07,889 - httpcore.connection - DEBUG - connect_tcp.complete return_value=<httpcore._backends.anyio.AnyIOStream object at 0x1362a5cc0>
2026-01-07 14:31:07,889 - httpcore.connection - DEBUG - start_tls.started ssl_context=<ssl.SSLContext object at 0x1219fc440> server_hostname='generativelanguage.googleapis.com' timeout=None
2026-01-07 14:31:07,916 - google_adk.google.adk.models.google_llm - INFO - Sending out request, model: gemini-2.0-flash, backend: GoogleLLMVariant.GEMINI_API, stream: False
2026-01-07 14:31:07,916 - google_adk.google.adk.models.google_llm - DEBUG - 
LLM Request:
-----------------------------------------------------------
System Instruction:
You are a helpful and friendly system administrator. Be concise and clear in your responses. You have access to tools that can help you check available input devices on the system and manage tasks. When a user requests a task that requires an input device, you should automatically call list_input_devices_with_ids to find the appropriate device and its io_id. Do not ask the user for io_ids - always retrieve them yourself using the available tools. When selecting a device, prefer video cameras (camera category) when possible. Once you have the io_id, use add_task with the io_id to create tasks. Use list_tasks to view all tasks (optionally filtered by io_id). When a user asks a question about a task, first call list_tasks to find the relevant task_id, then call get_info_on ONCE with that task_id to get detailed information. Do not call get_info_on multiple times for the same task_id. Use remove_task to delete a task by its task_id. Use edit_task to update a task's description. This is especially useful when a user wants to amend an existing task, for example, to add an action to be triggered when a condition is met. When editing a task, preserve the original detection part and add the new action requirement. For example, if a task is 'Count claps' and the user wants to send an email when claps reach 1, edit it to 'Count claps and when it reaches 1 send email to [email]'. You can also use take_output_action to execute various actions like sending emails, opening/closing doors, or controlling lights by providing a natural language description of the action. IMPORTANT: When a user requests an action to be triggered based on a video feed event (e.g., 'send me an email when I clap', 'turn on lights when I wave'), you have two options: 1. If a relevant task already exists (e.g., 'Count claps'), use edit_task to amend it with the action. 2. If no relevant task exists, add a NEW task that combines both the detection and the action. 

You are an agent. Your internal name is "system_administrator". The description about you is "A helpful system administrator. It controls the system on behalf of the user.".
-----------------------------------------------------------
Config:
{'http_options': {'headers': {'x-goog-api-client': 'google-adk/1.21.0 gl-python/3.13.5', 'user-agent': 'google-adk/1.21.0 gl-python/3.13.5'}}, 'tools': [{}]}
-----------------------------------------------------------
Contents:
{"parts":[{"text":"count claps"}],"role":"user"}
{"parts":[{"function_call":{"args":{},"name":"list_input_devices_with_ids"}}],"role":"model"}
{"parts":[{"function_response":{"name":"list_input_devices_with_ids","response":{"status":"success","input_devices":{"keyboard":[{"io_id":"83503c29","name":"Keyboard (detected)"}],"mouse":[{"io_id":"1cc7aacd","name":"Mouse/Trackpad (detected)"}],"screen":[{"io_id":"ef44faaa","name":"Display (Built-in Liquid Retina XDR Display)"},{"io_id":"420bb857","name":"Display (3456 x 2234 Retina)"}],"camera":[{"io_id":"ddeb3cd4","name":""},{"io_id":"9856d608","name":"FaceTime HD Camera"},{"io_id":"ea036130","name":"OBS Camera Extension"}],"com_ports":[{"io_id":"a40b74c8","name":"/dev/cu.debug-console (n/a)"},{"io_id":"2e726f59","name":"/dev/cu.NothingEar (n/a)"},{"io_id":"c6e60e07","name":"/dev/cu.Bluetooth-Incoming-Port"},{"io_id":"1bb14588","name":"/dev/cu.wlan-debug"},{"io_id":"739ab3b7","name":"/dev/tty.Bluetooth-Incoming-Port"},{"io_id":"38b6f468","name":"/dev/tty.debug-console"},{"io_id":"7adda166","name":"/dev/tty.JBLCharge4"},{"io_id":"6a8428d6","name":"/dev/cu.Bluetooth-Incoming-Port (n/a)"},{"io_id":"ca07358b","name":"/dev/cu.JBLCharge4 (n/a)"},{"io_id":"8af0276d","name":"/dev/cu.wlan-debug (n/a)"},{"io_id":"9b1b9923","name":"/dev/tty.wlan-debug"},{"io_id":"cd2d9c92","name":"/dev/tty.NothingEar"},{"io_id":"e75d11ca","name":"/dev/cu.debug-console"},{"io_id":"c1865a91","name":"/dev/cu.JBLCharge4"},{"io_id":"9be32325","name":"/dev/cu.NothingEar"}],"audio_input":[{"io_id":"065dbc71","name":""},{"io_id":"35cec23f","name":"Yes"},{"io_id":"848446f1","name":"1"},{"io_id":"5af33e19","name":"MacBook Pro Microphone"}]}}}}],"role":"user"}
{"parts":[{"text":"OK. I see multiple cameras. I will use 'FaceTime HD Camera' with io_id '9856d608'.\n"},{"function_call":{"args":{"task_description":"Count claps","io_id":"9856d608"},"name":"add_task"}}],"role":"model"}
{"parts":[{"function_response":{"name":"add_task","response":{"status":"success","message":"Task added successfully","task_id":"6b92abeb","io_id":"9856d608","task_description":"Count claps","device_info":{"io_id":"9856d608","category":"camera","name":"FaceTime HD Camera"}}}}],"role":"user"}
{"parts":[{"text":"OK. I've added a task to count claps using the FaceTime HD Camera. The task ID is 6b92abeb.\n"}],"role":"model"}
{"parts":[{"text":"how many claps?"}],"role":"user"}
-----------------------------------------------------------
Functions:
list_input_devices_with_ids: {} 
add_task: {'io_id': {'type': <Type.STRING: 'STRING'>}, 'task_description': {'type': <Type.STRING: 'STRING'>}} 
list_tasks: {'io_id': {'nullable': True, 'type': <Type.STRING: 'STRING'>}} 
get_info_on: {'task_id': {'type': <Type.STRING: 'STRING'>}} 
remove_task: {'task_id': {'type': <Type.STRING: 'STRING'>}} 
edit_task: {'task_id': {'type': <Type.STRING: 'STRING'>}, 'new_description': {'type': <Type.STRING: 'STRING'>}} 
action_router: {'request': {'type': <Type.STRING: 'STRING'>}} 
-----------------------------------------------------------

2026-01-07 14:31:07,923 - httpcore.connection - DEBUG - connect_tcp.started host='generativelanguage.googleapis.com' port=443 local_address=None timeout=None socket_options=None
2026-01-07 14:31:07,924 - VideoStreamIngestor - DEBUG - Process loop: Frame got from process loop queue for io_id=9856d608
2026-01-07 14:31:07,932 - VideoStreamIngestor - INFO - LLM inference prompt: output an update to say hello for task number 0 in the notes and take the action of opening the door
2026-01-07 14:31:07,932 - google_genai.models - INFO - AFC is enabled with max remote calls: 10.
2026-01-07 14:31:07,935 - httpcore.http11 - DEBUG - send_request_headers.started request=<Request [b'POST']>
2026-01-07 14:31:07,935 - httpcore.http11 - DEBUG - send_request_headers.complete
2026-01-07 14:31:07,935 - httpcore.http11 - DEBUG - send_request_body.started request=<Request [b'POST']>
2026-01-07 14:31:07,936 - httpcore.http11 - DEBUG - send_request_body.complete
2026-01-07 14:31:07,936 - httpcore.http11 - DEBUG - receive_response_headers.started request=<Request [b'POST']>
2026-01-07 14:31:09,721 - httpcore.http11 - DEBUG - receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'Content-Type', b'application/json; charset=UTF-8'), (b'Vary', b'Origin'), (b'Vary', b'X-Origin'), (b'Vary', b'Referer'), (b'Content-Encoding', b'gzip'), (b'Date', b'Wed, 07 Jan 2026 22:31:09 GMT'), (b'Server', b'scaffolding on HTTPServer2'), (b'X-XSS-Protection', b'0'), (b'X-Frame-Options', b'SAMEORIGIN'), (b'X-Content-Type-Options', b'nosniff'), (b'Server-Timing', b'gfet4t7; dur=1779'), (b'Alt-Svc', b'h3=":443"; ma=2592000,h3-29=":443"; ma=2592000'), (b'Transfer-Encoding', b'chunked')])
2026-01-07 14:31:09,722 - httpx - INFO - HTTP Request: POST https://generativelanguage.googleapis.com/v1beta/models/gemini-2.0-flash:generateContent "HTTP/1.1 200 OK"
2026-01-07 14:31:09,723 - httpcore.http11 - DEBUG - receive_response_body.started request=<Request [b'POST']>
2026-01-07 14:31:09,724 - httpcore.http11 - DEBUG - receive_response_body.complete
2026-01-07 14:31:09,724 - httpcore.http11 - DEBUG - response_closed.started
2026-01-07 14:31:09,724 - httpcore.http11 - DEBUG - response_closed.complete
2026-01-07 14:31:09,726 - VideoStreamIngestor - INFO - LLM inference output: task_updates=[TaskUpdate(task_number=0, task_note='Say hello', task_done=True)] system_actions=[SystemAction(take_action='Open the door')]
2026-01-07 14:31:09,729 - httpcore.connection - DEBUG - start_tls.complete return_value=<httpcore._backends.anyio.AnyIOStream object at 0x1362a58d0>
2026-01-07 14:31:09,734 - httpcore.http11 - DEBUG - send_request_headers.started request=<Request [b'POST']>
2026-01-07 14:31:09,735 - VideoStreamIngestor - DEBUG - Process loop: Frame got from process loop queue for io_id=9856d608
2026-01-07 14:31:09,749 - VideoStreamIngestor - INFO - LLM inference prompt: output an update to say hello for task number 0 in the notes and take the action of opening the door
2026-01-07 14:31:09,750 - google_genai.models - INFO - AFC is enabled with max remote calls: 10.
2026-01-07 14:31:09,754 - httpcore.http11 - DEBUG - send_request_headers.started request=<Request [b'POST']>
2026-01-07 14:31:09,754 - httpcore.http11 - DEBUG - send_request_headers.complete
2026-01-07 14:31:09,754 - httpcore.http11 - DEBUG - send_request_body.started request=<Request [b'POST']>
2026-01-07 14:31:09,755 - httpcore.http11 - DEBUG - send_request_body.complete
2026-01-07 14:31:09,755 - httpcore.http11 - DEBUG - receive_response_headers.started request=<Request [b'POST']>
2026-01-07 14:31:11,931 - httpcore.http11 - DEBUG - receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'Content-Type', b'application/json; charset=UTF-8'), (b'Vary', b'Origin'), (b'Vary', b'X-Origin'), (b'Vary', b'Referer'), (b'Content-Encoding', b'gzip'), (b'Date', b'Wed, 07 Jan 2026 22:31:11 GMT'), (b'Server', b'scaffolding on HTTPServer2'), (b'X-XSS-Protection', b'0'), (b'X-Frame-Options', b'SAMEORIGIN'), (b'X-Content-Type-Options', b'nosniff'), (b'Server-Timing', b'gfet4t7; dur=1966'), (b'Alt-Svc', b'h3=":443"; ma=2592000,h3-29=":443"; ma=2592000'), (b'Transfer-Encoding', b'chunked')])
2026-01-07 14:31:11,932 - httpx - INFO - HTTP Request: POST https://generativelanguage.googleapis.com/v1beta/models/gemini-2.0-flash:generateContent "HTTP/1.1 200 OK"
2026-01-07 14:31:11,932 - httpcore.http11 - DEBUG - receive_response_body.started request=<Request [b'POST']>
2026-01-07 14:31:11,933 - httpcore.http11 - DEBUG - receive_response_body.complete
2026-01-07 14:31:11,933 - httpcore.http11 - DEBUG - response_closed.started
2026-01-07 14:31:11,933 - httpcore.http11 - DEBUG - response_closed.complete
2026-01-07 14:31:11,935 - VideoStreamIngestor - INFO - LLM inference output: task_updates=[TaskUpdate(task_number=0, task_note='Say hello', task_done=False)] system_actions=[SystemAction(take_action='Open the door')]
2026-01-07 14:31:11,935 - httpcore.http11 - DEBUG - send_request_headers.complete
2026-01-07 14:31:11,936 - httpcore.http11 - DEBUG - send_request_body.started request=<Request [b'POST']>
2026-01-07 14:31:11,936 - httpcore.http11 - DEBUG - send_request_body.complete
2026-01-07 14:31:11,936 - httpcore.http11 - DEBUG - receive_response_headers.started request=<Request [b'POST']>
2026-01-07 14:31:11,971 - VideoStreamIngestor - DEBUG - Process loop: Frame got from process loop queue for io_id=9856d608
2026-01-07 14:31:11,988 - VideoStreamIngestor - INFO - LLM inference prompt: output an update to say hello for task number 0 in the notes and take the action of opening the door
2026-01-07 14:31:11,989 - google_genai.models - INFO - AFC is enabled with max remote calls: 10.
2026-01-07 14:31:11,994 - httpcore.http11 - DEBUG - send_request_headers.started request=<Request [b'POST']>
2026-01-07 14:31:11,994 - httpcore.http11 - DEBUG - send_request_headers.complete
2026-01-07 14:31:11,994 - httpcore.http11 - DEBUG - send_request_body.started request=<Request [b'POST']>
2026-01-07 14:31:11,995 - httpcore.http11 - DEBUG - send_request_body.complete
2026-01-07 14:31:11,995 - httpcore.http11 - DEBUG - receive_response_headers.started request=<Request [b'POST']>
2026-01-07 14:31:13,546 - httpcore.http11 - DEBUG - receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'Content-Type', b'application/json; charset=UTF-8'), (b'Vary', b'Origin'), (b'Vary', b'X-Origin'), (b'Vary', b'Referer'), (b'Content-Encoding', b'gzip'), (b'Date', b'Wed, 07 Jan 2026 22:31:13 GMT'), (b'Server', b'scaffolding on HTTPServer2'), (b'X-XSS-Protection', b'0'), (b'X-Frame-Options', b'SAMEORIGIN'), (b'X-Content-Type-Options', b'nosniff'), (b'Server-Timing', b'gfet4t7; dur=1543'), (b'Alt-Svc', b'h3=":443"; ma=2592000,h3-29=":443"; ma=2592000'), (b'Transfer-Encoding', b'chunked')])
2026-01-07 14:31:13,547 - httpx - INFO - HTTP Request: POST https://generativelanguage.googleapis.com/v1beta/models/gemini-2.0-flash:generateContent "HTTP/1.1 200 OK"
2026-01-07 14:31:13,547 - httpcore.http11 - DEBUG - receive_response_body.started request=<Request [b'POST']>
2026-01-07 14:31:13,548 - httpcore.http11 - DEBUG - receive_response_body.complete
2026-01-07 14:31:13,548 - httpcore.http11 - DEBUG - response_closed.started
2026-01-07 14:31:13,548 - httpcore.http11 - DEBUG - response_closed.complete
2026-01-07 14:31:13,550 - VideoStreamIngestor - INFO - LLM inference output: task_updates=[TaskUpdate(task_number=0, task_note='Say hello', task_done=False)] system_actions=[SystemAction(take_action='Open the door')]
2026-01-07 14:31:13,552 - httpcore.http11 - DEBUG - receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'Content-Type', b'application/json; charset=UTF-8'), (b'Vary', b'Origin'), (b'Vary', b'X-Origin'), (b'Vary', b'Referer'), (b'Content-Encoding', b'gzip'), (b'Date', b'Wed, 07 Jan 2026 22:31:12 GMT'), (b'Server', b'scaffolding on HTTPServer2'), (b'X-XSS-Protection', b'0'), (b'X-Frame-Options', b'SAMEORIGIN'), (b'X-Content-Type-Options', b'nosniff'), (b'Server-Timing', b'gfet4t7; dur=514'), (b'Alt-Svc', b'h3=":443"; ma=2592000,h3-29=":443"; ma=2592000'), (b'Transfer-Encoding', b'chunked')])
2026-01-07 14:31:13,553 - httpx - INFO - HTTP Request: POST https://generativelanguage.googleapis.com/v1beta/models/gemini-2.0-flash:generateContent "HTTP/1.1 200 OK"
2026-01-07 14:31:13,553 - httpcore.http11 - DEBUG - receive_response_body.started request=<Request [b'POST']>
2026-01-07 14:31:13,554 - httpcore.http11 - DEBUG - receive_response_body.complete
2026-01-07 14:31:13,554 - httpcore.http11 - DEBUG - response_closed.started
2026-01-07 14:31:13,567 - httpcore.connection - DEBUG - connect_tcp.complete return_value=<httpcore._backends.anyio.AnyIOStream object at 0x1362b5cd0>
2026-01-07 14:31:13,567 - httpcore.connection - DEBUG - start_tls.started ssl_context=<ssl.SSLContext object at 0x13408d640> server_hostname='generativelanguage.googleapis.com' timeout=None
2026-01-07 14:31:13,568 - httpcore.http11 - DEBUG - response_closed.complete
2026-01-07 14:31:13,570 - google_adk.google.adk.models.google_llm - INFO - Response received from the model.
2026-01-07 14:31:13,570 - google_adk.google.adk.models.google_llm - DEBUG - 
LLM Response:
-----------------------------------------------------------
Text:
None
-----------------------------------------------------------
Function calls:
name: action_router, args: {'request': 'Open the door'}
-----------------------------------------------------------
Raw response:
{"sdk_http_response":{"headers":{"content-type":"application/json; charset=UTF-8","vary":"Origin, X-Origin, Referer","content-encoding":"gzip","date":"Wed, 07 Jan 2026 22:31:12 GMT","server":"scaffolding on HTTPServer2","x-xss-protection":"0","x-frame-options":"SAMEORIGIN","x-content-type-options":"nosniff","server-timing":"gfet4t7; dur=514","alt-svc":"h3=\":443\"; ma=2592000,h3-29=\":443\"; ma=2592000","transfer-encoding":"chunked"}},"candidates":[{"content":{"parts":[{"function_call":{"args":{"request":"Open the door"},"name":"action_router"}}],"role":"model"},"finish_reason":"STOP","avg_logprobs":-0.0023975329739706857}],"model_version":"gemini-2.0-flash","response_id":"r95eaZGcPMKCjMcPtMGTsAg","usage_metadata":{"candidates_token_count":7,"candidates_tokens_details":[{"modality":"TEXT","token_count":7}],"prompt_token_count":1071,"prompt_tokens_details":[{"modality":"TEXT","token_count":1071}],"total_token_count":1078}}
-----------------------------------------------------------

2026-01-07 14:31:13,572 - VideoStreamIngestor - DEBUG - Process loop: Frame got from process loop queue for io_id=9856d608
2026-01-07 14:31:13,586 - VideoStreamIngestor - INFO - LLM inference prompt: output an update to say hello for task number 0 in the notes and take the action of opening the door
2026-01-07 14:31:13,587 - google_genai.models - INFO - AFC is enabled with max remote calls: 10.
2026-01-07 14:31:13,591 - httpcore.http11 - DEBUG - send_request_headers.started request=<Request [b'POST']>
2026-01-07 14:31:13,593 - httpcore.http11 - DEBUG - send_request_headers.complete
2026-01-07 14:31:13,593 - httpcore.http11 - DEBUG - send_request_body.started request=<Request [b'POST']>
2026-01-07 14:31:13,594 - httpcore.http11 - DEBUG - send_request_body.complete
2026-01-07 14:31:13,594 - httpcore.http11 - DEBUG - receive_response_headers.started request=<Request [b'POST']>
2026-01-07 14:31:15,232 - httpcore.http11 - DEBUG - receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'Content-Type', b'application/json; charset=UTF-8'), (b'Vary', b'Origin'), (b'Vary', b'X-Origin'), (b'Vary', b'Referer'), (b'Content-Encoding', b'gzip'), (b'Date', b'Wed, 07 Jan 2026 22:31:15 GMT'), (b'Server', b'scaffolding on HTTPServer2'), (b'X-XSS-Protection', b'0'), (b'X-Frame-Options', b'SAMEORIGIN'), (b'X-Content-Type-Options', b'nosniff'), (b'Server-Timing', b'gfet4t7; dur=1630'), (b'Alt-Svc', b'h3=":443"; ma=2592000,h3-29=":443"; ma=2592000'), (b'Transfer-Encoding', b'chunked')])
2026-01-07 14:31:15,232 - httpx - INFO - HTTP Request: POST https://generativelanguage.googleapis.com/v1beta/models/gemini-2.0-flash:generateContent "HTTP/1.1 200 OK"
2026-01-07 14:31:15,233 - httpcore.http11 - DEBUG - receive_response_body.started request=<Request [b'POST']>
2026-01-07 14:31:15,233 - httpcore.http11 - DEBUG - receive_response_body.complete
2026-01-07 14:31:15,233 - httpcore.http11 - DEBUG - response_closed.started
2026-01-07 14:31:15,233 - httpcore.http11 - DEBUG - response_closed.complete
2026-01-07 14:31:15,235 - VideoStreamIngestor - INFO - LLM inference output: task_updates=[TaskUpdate(task_number=0, task_note='Hello!', task_done=False)] system_actions=[SystemAction(take_action='Open the door')]
2026-01-07 14:31:15,258 - google_adk.google.adk.models.google_llm - INFO - Sending out request, model: gemini-2.5-flash, backend: GoogleLLMVariant.GEMINI_API, stream: False
2026-01-07 14:31:15,258 - google_adk.google.adk.models.google_llm - DEBUG - 
LLM Request:
-----------------------------------------------------------
System Instruction:
You are an intelligent action router agent. Your job is to understand action descriptions 
    and route them to the appropriate tool.

    Available tools:
    - send_email: For sending emails. Requires 'to' (email address), optional 'subject', and 'content' (body text).
    - open_door: For opening doors. Requires 'door_name' (e.g., 'front door', 'garage door').
    - close_door: For closing doors. Requires 'door_name'.
    - turn_on_light: For turning on lights. Requires 'light_name'.
    - turn_off_light: For turning off lights. Requires 'light_name'.

    When you receive an action description:
    1. Parse the description to understand the intent
    2. Extract the necessary parameters (email address, door name, etc.)
    3. Call the appropriate tool with the extracted parameters
    4. Return a clear confirmation of what action was taken

    Examples:
    - "send email to example@gmail.com with content hello!" -> call send_email(to="example@gmail.com", content="hello!")
    - "open front door" -> call open_door(door_name="front door")
    - "turn on the living room light" -> call turn_on_light(light_name="living room")
    
    Be smart about extracting parameters from natural language descriptions.

You are an agent. Your internal name is "action_router". The description about you is "An intelligent agent that routes action descriptions to the appropriate action tools.".
-----------------------------------------------------------
Config:
{'http_options': {'headers': {'x-goog-api-client': 'google-adk/1.21.0 gl-python/3.13.5', 'user-agent': 'google-adk/1.21.0 gl-python/3.13.5'}}, 'tools': [{}]}
-----------------------------------------------------------
Contents:
{"parts":[{"text":"Open the door"}],"role":"user"}
-----------------------------------------------------------
Functions:
send_email: {'to': {'type': <Type.STRING: 'STRING'>}, 'subject': {'nullable': True, 'type': <Type.STRING: 'STRING'>}, 'content': {'default': '', 'type': <Type.STRING: 'STRING'>}} 
open_door: {'door_name': {'type': <Type.STRING: 'STRING'>}} 
close_door: {'door_name': {'type': <Type.STRING: 'STRING'>}} 
turn_on_light: {'light_name': {'type': <Type.STRING: 'STRING'>}} 
turn_off_light: {'light_name': {'type': <Type.STRING: 'STRING'>}} 
print_to_user: {'message': {'type': <Type.STRING: 'STRING'>}} 
-----------------------------------------------------------

2026-01-07 14:31:15,259 - httpcore.connection - DEBUG - connect_tcp.started host='generativelanguage.googleapis.com' port=443 local_address=None timeout=None socket_options=None
2026-01-07 14:31:15,288 - VideoStreamIngestor - DEBUG - Process loop: Frame got from process loop queue for io_id=9856d608
2026-01-07 14:31:15,297 - VideoStreamIngestor - INFO - LLM inference prompt: output an update to say hello for task number 0 in the notes and take the action of opening the door
2026-01-07 14:31:15,298 - google_genai.models - INFO - AFC is enabled with max remote calls: 10.
2026-01-07 14:31:15,300 - httpcore.http11 - DEBUG - send_request_headers.started request=<Request [b'POST']>
2026-01-07 14:31:15,301 - httpcore.http11 - DEBUG - send_request_headers.complete
2026-01-07 14:31:15,301 - httpcore.http11 - DEBUG - send_request_body.started request=<Request [b'POST']>
2026-01-07 14:31:15,301 - httpcore.http11 - DEBUG - send_request_body.complete
2026-01-07 14:31:15,301 - httpcore.http11 - DEBUG - receive_response_headers.started request=<Request [b'POST']>
2026-01-07 14:31:17,053 - httpcore.http11 - DEBUG - receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'Content-Type', b'application/json; charset=UTF-8'), (b'Vary', b'Origin'), (b'Vary', b'X-Origin'), (b'Vary', b'Referer'), (b'Content-Encoding', b'gzip'), (b'Date', b'Wed, 07 Jan 2026 22:31:16 GMT'), (b'Server', b'scaffolding on HTTPServer2'), (b'X-XSS-Protection', b'0'), (b'X-Frame-Options', b'SAMEORIGIN'), (b'X-Content-Type-Options', b'nosniff'), (b'Server-Timing', b'gfet4t7; dur=1565'), (b'Alt-Svc', b'h3=":443"; ma=2592000,h3-29=":443"; ma=2592000'), (b'Transfer-Encoding', b'chunked')])
2026-01-07 14:31:17,053 - httpx - INFO - HTTP Request: POST https://generativelanguage.googleapis.com/v1beta/models/gemini-2.0-flash:generateContent "HTTP/1.1 200 OK"
2026-01-07 14:31:17,054 - httpcore.http11 - DEBUG - receive_response_body.started request=<Request [b'POST']>
2026-01-07 14:31:17,054 - httpcore.http11 - DEBUG - receive_response_body.complete
2026-01-07 14:31:17,054 - httpcore.http11 - DEBUG - response_closed.started
2026-01-07 14:31:17,054 - httpcore.http11 - DEBUG - response_closed.complete
2026-01-07 14:31:17,056 - VideoStreamIngestor - INFO - LLM inference output: task_updates=[TaskUpdate(task_number=0, task_note='say hello', task_done=False)] system_actions=[SystemAction(take_action='opening the door')]
2026-01-07 14:31:17,059 - httpcore.connection - DEBUG - start_tls.complete return_value=<httpcore._backends.anyio.AnyIOStream object at 0x1340e3290>
2026-01-07 14:31:17,070 - httpcore.http11 - DEBUG - send_request_headers.started request=<Request [b'POST']>
2026-01-07 14:31:17,071 - VideoStreamIngestor - DEBUG - Process loop: Frame got from process loop queue for io_id=9856d608
2026-01-07 14:31:17,084 - VideoStreamIngestor - INFO - LLM inference prompt: output an update to say hello for task number 0 in the notes and take the action of opening the door
2026-01-07 14:31:17,085 - google_genai.models - INFO - AFC is enabled with max remote calls: 10.
2026-01-07 14:31:17,088 - httpcore.http11 - DEBUG - send_request_headers.started request=<Request [b'POST']>
2026-01-07 14:31:17,089 - httpcore.http11 - DEBUG - send_request_headers.complete
2026-01-07 14:31:17,089 - httpcore.http11 - DEBUG - send_request_body.started request=<Request [b'POST']>
2026-01-07 14:31:17,089 - httpcore.http11 - DEBUG - send_request_body.complete
2026-01-07 14:31:17,090 - httpcore.http11 - DEBUG - receive_response_headers.started request=<Request [b'POST']>
2026-01-07 14:31:18,698 - httpcore.http11 - DEBUG - receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'Content-Type', b'application/json; charset=UTF-8'), (b'Vary', b'Origin'), (b'Vary', b'X-Origin'), (b'Vary', b'Referer'), (b'Content-Encoding', b'gzip'), (b'Date', b'Wed, 07 Jan 2026 22:31:18 GMT'), (b'Server', b'scaffolding on HTTPServer2'), (b'X-XSS-Protection', b'0'), (b'X-Frame-Options', b'SAMEORIGIN'), (b'X-Content-Type-Options', b'nosniff'), (b'Server-Timing', b'gfet4t7; dur=1600'), (b'Alt-Svc', b'h3=":443"; ma=2592000,h3-29=":443"; ma=2592000'), (b'Transfer-Encoding', b'chunked')])
2026-01-07 14:31:18,699 - httpx - INFO - HTTP Request: POST https://generativelanguage.googleapis.com/v1beta/models/gemini-2.0-flash:generateContent "HTTP/1.1 200 OK"
2026-01-07 14:31:18,699 - httpcore.http11 - DEBUG - receive_response_body.started request=<Request [b'POST']>
2026-01-07 14:31:18,700 - httpcore.http11 - DEBUG - receive_response_body.complete
2026-01-07 14:31:18,701 - httpcore.http11 - DEBUG - response_closed.started
2026-01-07 14:31:18,701 - httpcore.http11 - DEBUG - response_closed.complete
2026-01-07 14:31:18,702 - VideoStreamIngestor - INFO - LLM inference output: task_updates=[TaskUpdate(task_number=0, task_note='Hello', task_done=False)] system_actions=[SystemAction(take_action='open the door')]
2026-01-07 14:31:18,703 - httpcore.http11 - DEBUG - send_request_headers.complete
2026-01-07 14:31:18,703 - httpcore.http11 - DEBUG - send_request_body.started request=<Request [b'POST']>
2026-01-07 14:31:18,704 - httpcore.http11 - DEBUG - send_request_body.complete
2026-01-07 14:31:18,704 - httpcore.http11 - DEBUG - receive_response_headers.started request=<Request [b'POST']>
2026-01-07 14:31:18,740 - VideoStreamIngestor - DEBUG - Process loop: Frame got from process loop queue for io_id=9856d608
2026-01-07 14:31:18,757 - VideoStreamIngestor - INFO - LLM inference prompt: output an update to say hello for task number 0 in the notes and take the action of opening the door
2026-01-07 14:31:18,758 - google_genai.models - INFO - AFC is enabled with max remote calls: 10.
2026-01-07 14:31:18,762 - httpcore.http11 - DEBUG - send_request_headers.started request=<Request [b'POST']>
2026-01-07 14:31:18,762 - httpcore.http11 - DEBUG - send_request_headers.complete
2026-01-07 14:31:18,762 - httpcore.http11 - DEBUG - send_request_body.started request=<Request [b'POST']>
2026-01-07 14:31:18,763 - httpcore.http11 - DEBUG - send_request_body.complete
2026-01-07 14:31:18,763 - httpcore.http11 - DEBUG - receive_response_headers.started request=<Request [b'POST']>
2026-01-07 14:31:20,361 - httpcore.http11 - DEBUG - receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'Content-Type', b'application/json; charset=UTF-8'), (b'Vary', b'Origin'), (b'Vary', b'X-Origin'), (b'Vary', b'Referer'), (b'Content-Encoding', b'gzip'), (b'Date', b'Wed, 07 Jan 2026 22:31:20 GMT'), (b'Server', b'scaffolding on HTTPServer2'), (b'X-XSS-Protection', b'0'), (b'X-Frame-Options', b'SAMEORIGIN'), (b'X-Content-Type-Options', b'nosniff'), (b'Server-Timing', b'gfet4t7; dur=1590'), (b'Alt-Svc', b'h3=":443"; ma=2592000,h3-29=":443"; ma=2592000'), (b'Transfer-Encoding', b'chunked')])
2026-01-07 14:31:20,362 - httpx - INFO - HTTP Request: POST https://generativelanguage.googleapis.com/v1beta/models/gemini-2.0-flash:generateContent "HTTP/1.1 200 OK"
2026-01-07 14:31:20,362 - httpcore.http11 - DEBUG - receive_response_body.started request=<Request [b'POST']>
2026-01-07 14:31:20,363 - httpcore.http11 - DEBUG - receive_response_body.complete
2026-01-07 14:31:20,363 - httpcore.http11 - DEBUG - response_closed.started
2026-01-07 14:31:20,363 - httpcore.http11 - DEBUG - response_closed.complete
2026-01-07 14:31:20,364 - VideoStreamIngestor - INFO - LLM inference output: task_updates=[TaskUpdate(task_number=0, task_note='Hello!', task_done=False)] system_actions=[SystemAction(take_action='Open the door.')]
2026-01-07 14:31:20,366 - httpcore.http11 - DEBUG - receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'Content-Type', b'application/json; charset=UTF-8'), (b'Vary', b'Origin'), (b'Vary', b'X-Origin'), (b'Vary', b'Referer'), (b'Content-Encoding', b'gzip'), (b'Date', b'Wed, 07 Jan 2026 22:31:19 GMT'), (b'Server', b'scaffolding on HTTPServer2'), (b'X-XSS-Protection', b'0'), (b'X-Frame-Options', b'SAMEORIGIN'), (b'X-Content-Type-Options', b'nosniff'), (b'Server-Timing', b'gfet4t7; dur=551'), (b'Alt-Svc', b'h3=":443"; ma=2592000,h3-29=":443"; ma=2592000'), (b'Transfer-Encoding', b'chunked')])
2026-01-07 14:31:20,367 - httpx - INFO - HTTP Request: POST https://generativelanguage.googleapis.com/v1beta/models/gemini-2.0-flash:generateContent "HTTP/1.1 200 OK"
2026-01-07 14:31:20,367 - httpcore.http11 - DEBUG - receive_response_body.started request=<Request [b'POST']>
2026-01-07 14:31:20,367 - httpcore.http11 - DEBUG - receive_response_body.complete
2026-01-07 14:31:20,367 - httpcore.http11 - DEBUG - response_closed.started
2026-01-07 14:31:20,372 - httpcore.http11 - DEBUG - response_closed.complete
2026-01-07 14:31:20,374 - google_adk.google.adk.models.google_llm - INFO - Response received from the model.
2026-01-07 14:31:20,374 - google_adk.google.adk.models.google_llm - DEBUG - 
LLM Response:
-----------------------------------------------------------
Text:
None
-----------------------------------------------------------
Function calls:
name: list_tasks, args: {}
-----------------------------------------------------------
Raw response:
{"sdk_http_response":{"headers":{"content-type":"application/json; charset=UTF-8","vary":"Origin, X-Origin, Referer","content-encoding":"gzip","date":"Wed, 07 Jan 2026 22:31:19 GMT","server":"scaffolding on HTTPServer2","x-xss-protection":"0","x-frame-options":"SAMEORIGIN","x-content-type-options":"nosniff","server-timing":"gfet4t7; dur=551","alt-svc":"h3=\":443\"; ma=2592000,h3-29=\":443\"; ma=2592000","transfer-encoding":"chunked"}},"candidates":[{"content":{"parts":[{"function_call":{"args":{},"name":"list_tasks"}}],"role":"model"},"finish_reason":"STOP","avg_logprobs":-0.3594668706258138}],"model_version":"gemini-2.0-flash","response_id":"tt5eacqTLqHXjMcPnp6E0Aw","usage_metadata":{"candidates_token_count":3,"candidates_tokens_details":[{"modality":"TEXT","token_count":3}],"prompt_token_count":1627,"prompt_tokens_details":[{"modality":"TEXT","token_count":1627}],"total_token_count":1630}}
-----------------------------------------------------------

2026-01-07 14:31:20,376 - VideoStreamIngestor - DEBUG - Process loop: Frame got from process loop queue for io_id=9856d608
2026-01-07 14:31:20,390 - VideoStreamIngestor - INFO - LLM inference prompt: output an update to say hello for task number 0 in the notes and take the action of opening the door
2026-01-07 14:31:20,391 - google_genai.models - INFO - AFC is enabled with max remote calls: 10.
2026-01-07 14:31:20,395 - httpcore.http11 - DEBUG - send_request_headers.started request=<Request [b'POST']>
2026-01-07 14:31:20,395 - httpcore.http11 - DEBUG - send_request_headers.complete
2026-01-07 14:31:20,395 - httpcore.http11 - DEBUG - send_request_body.started request=<Request [b'POST']>
2026-01-07 14:31:20,396 - httpcore.http11 - DEBUG - send_request_body.complete
2026-01-07 14:31:20,396 - httpcore.http11 - DEBUG - receive_response_headers.started request=<Request [b'POST']>
2026-01-07 14:31:22,171 - httpcore.http11 - DEBUG - receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'Content-Type', b'application/json; charset=UTF-8'), (b'Vary', b'Origin'), (b'Vary', b'X-Origin'), (b'Vary', b'Referer'), (b'Content-Encoding', b'gzip'), (b'Date', b'Wed, 07 Jan 2026 22:31:22 GMT'), (b'Server', b'scaffolding on HTTPServer2'), (b'X-XSS-Protection', b'0'), (b'X-Frame-Options', b'SAMEORIGIN'), (b'X-Content-Type-Options', b'nosniff'), (b'Server-Timing', b'gfet4t7; dur=1687'), (b'Alt-Svc', b'h3=":443"; ma=2592000,h3-29=":443"; ma=2592000'), (b'Transfer-Encoding', b'chunked')])
2026-01-07 14:31:22,172 - httpx - INFO - HTTP Request: POST https://generativelanguage.googleapis.com/v1beta/models/gemini-2.0-flash:generateContent "HTTP/1.1 200 OK"
2026-01-07 14:31:22,172 - httpcore.http11 - DEBUG - receive_response_body.started request=<Request [b'POST']>
2026-01-07 14:31:22,173 - httpcore.http11 - DEBUG - receive_response_body.complete
2026-01-07 14:31:22,173 - httpcore.http11 - DEBUG - response_closed.started
2026-01-07 14:31:22,173 - httpcore.http11 - DEBUG - response_closed.complete
2026-01-07 14:31:22,174 - VideoStreamIngestor - INFO - LLM inference output: task_updates=[TaskUpdate(task_number=0, task_note='hello', task_done=False)] system_actions=[SystemAction(take_action='opening the door')]
2026-01-07 14:31:22,175 - httpcore.connection - DEBUG - connect_tcp.complete return_value=<httpcore._backends.anyio.AnyIOStream object at 0x136218d20>
2026-01-07 14:31:22,175 - httpcore.connection - DEBUG - start_tls.started ssl_context=<ssl.SSLContext object at 0x13408f0b0> server_hostname='generativelanguage.googleapis.com' timeout=None
2026-01-07 14:31:22,221 - google_adk.google.adk.models.google_llm - INFO - Sending out request, model: gemini-2.0-flash, backend: GoogleLLMVariant.GEMINI_API, stream: False
2026-01-07 14:31:22,222 - google_adk.google.adk.models.google_llm - DEBUG - 
LLM Request:
-----------------------------------------------------------
System Instruction:
You are a helpful and friendly system administrator. Be concise and clear in your responses. You have access to tools that can help you check available input devices on the system and manage tasks. When a user requests a task that requires an input device, you should automatically call list_input_devices_with_ids to find the appropriate device and its io_id. Do not ask the user for io_ids - always retrieve them yourself using the available tools. When selecting a device, prefer video cameras (camera category) when possible. Once you have the io_id, use add_task with the io_id to create tasks. Use list_tasks to view all tasks (optionally filtered by io_id). When a user asks a question about a task, first call list_tasks to find the relevant task_id, then call get_info_on ONCE with that task_id to get detailed information. Do not call get_info_on multiple times for the same task_id. Use remove_task to delete a task by its task_id. Use edit_task to update a task's description. This is especially useful when a user wants to amend an existing task, for example, to add an action to be triggered when a condition is met. When editing a task, preserve the original detection part and add the new action requirement. For example, if a task is 'Count claps' and the user wants to send an email when claps reach 1, edit it to 'Count claps and when it reaches 1 send email to [email]'. You can also use take_output_action to execute various actions like sending emails, opening/closing doors, or controlling lights by providing a natural language description of the action. IMPORTANT: When a user requests an action to be triggered based on a video feed event (e.g., 'send me an email when I clap', 'turn on lights when I wave'), you have two options: 1. If a relevant task already exists (e.g., 'Count claps'), use edit_task to amend it with the action. 2. If no relevant task exists, add a NEW task that combines both the detection and the action. 

You are an agent. Your internal name is "system_administrator". The description about you is "A helpful system administrator. It controls the system on behalf of the user.".
-----------------------------------------------------------
Config:
{'http_options': {'headers': {'x-goog-api-client': 'google-adk/1.21.0 gl-python/3.13.5', 'user-agent': 'google-adk/1.21.0 gl-python/3.13.5'}}, 'tools': [{}]}
-----------------------------------------------------------
Contents:
{"parts":[{"text":"count claps"}],"role":"user"}
{"parts":[{"function_call":{"args":{},"name":"list_input_devices_with_ids"}}],"role":"model"}
{"parts":[{"function_response":{"name":"list_input_devices_with_ids","response":{"status":"success","input_devices":{"keyboard":[{"io_id":"83503c29","name":"Keyboard (detected)"}],"mouse":[{"io_id":"1cc7aacd","name":"Mouse/Trackpad (detected)"}],"screen":[{"io_id":"ef44faaa","name":"Display (Built-in Liquid Retina XDR Display)"},{"io_id":"420bb857","name":"Display (3456 x 2234 Retina)"}],"camera":[{"io_id":"ddeb3cd4","name":""},{"io_id":"9856d608","name":"FaceTime HD Camera"},{"io_id":"ea036130","name":"OBS Camera Extension"}],"com_ports":[{"io_id":"a40b74c8","name":"/dev/cu.debug-console (n/a)"},{"io_id":"2e726f59","name":"/dev/cu.NothingEar (n/a)"},{"io_id":"c6e60e07","name":"/dev/cu.Bluetooth-Incoming-Port"},{"io_id":"1bb14588","name":"/dev/cu.wlan-debug"},{"io_id":"739ab3b7","name":"/dev/tty.Bluetooth-Incoming-Port"},{"io_id":"38b6f468","name":"/dev/tty.debug-console"},{"io_id":"7adda166","name":"/dev/tty.JBLCharge4"},{"io_id":"6a8428d6","name":"/dev/cu.Bluetooth-Incoming-Port (n/a)"},{"io_id":"ca07358b","name":"/dev/cu.JBLCharge4 (n/a)"},{"io_id":"8af0276d","name":"/dev/cu.wlan-debug (n/a)"},{"io_id":"9b1b9923","name":"/dev/tty.wlan-debug"},{"io_id":"cd2d9c92","name":"/dev/tty.NothingEar"},{"io_id":"e75d11ca","name":"/dev/cu.debug-console"},{"io_id":"c1865a91","name":"/dev/cu.JBLCharge4"},{"io_id":"9be32325","name":"/dev/cu.NothingEar"}],"audio_input":[{"io_id":"065dbc71","name":""},{"io_id":"35cec23f","name":"Yes"},{"io_id":"848446f1","name":"1"},{"io_id":"5af33e19","name":"MacBook Pro Microphone"}]}}}}],"role":"user"}
{"parts":[{"text":"OK. I see multiple cameras. I will use 'FaceTime HD Camera' with io_id '9856d608'.\n"},{"function_call":{"args":{"task_description":"Count claps","io_id":"9856d608"},"name":"add_task"}}],"role":"model"}
{"parts":[{"function_response":{"name":"add_task","response":{"status":"success","message":"Task added successfully","task_id":"6b92abeb","io_id":"9856d608","task_description":"Count claps","device_info":{"io_id":"9856d608","category":"camera","name":"FaceTime HD Camera"}}}}],"role":"user"}
{"parts":[{"text":"OK. I've added a task to count claps using the FaceTime HD Camera. The task ID is 6b92abeb.\n"}],"role":"model"}
{"parts":[{"text":"how many claps?"}],"role":"user"}
{"parts":[{"function_call":{"args":{},"name":"list_tasks"}}],"role":"model"}
{"parts":[{"function_response":{"name":"list_tasks","response":{"status":"success","tasks":[{"task_id":"6b92abeb","io_id":"9856d608","description":"Count claps","status":"pending","task_notes":{"note":"hello","done":true}}],"count":1}}}],"role":"user"}
-----------------------------------------------------------
Functions:
list_input_devices_with_ids: {} 
add_task: {'io_id': {'type': <Type.STRING: 'STRING'>}, 'task_description': {'type': <Type.STRING: 'STRING'>}} 
list_tasks: {'io_id': {'nullable': True, 'type': <Type.STRING: 'STRING'>}} 
get_info_on: {'task_id': {'type': <Type.STRING: 'STRING'>}} 
remove_task: {'task_id': {'type': <Type.STRING: 'STRING'>}} 
edit_task: {'task_id': {'type': <Type.STRING: 'STRING'>}, 'new_description': {'type': <Type.STRING: 'STRING'>}} 
action_router: {'request': {'type': <Type.STRING: 'STRING'>}} 
-----------------------------------------------------------

2026-01-07 14:31:22,224 - VideoStreamIngestor - DEBUG - Process loop: Frame got from process loop queue for io_id=9856d608
2026-01-07 14:31:22,231 - VideoStreamIngestor - INFO - LLM inference prompt: output an update to say hello for task number 0 in the notes and take the action of opening the door
2026-01-07 14:31:22,231 - google_genai.models - INFO - AFC is enabled with max remote calls: 10.
2026-01-07 14:31:22,234 - httpcore.http11 - DEBUG - send_request_headers.started request=<Request [b'POST']>
2026-01-07 14:31:22,234 - httpcore.http11 - DEBUG - send_request_headers.complete
2026-01-07 14:31:22,234 - httpcore.http11 - DEBUG - send_request_body.started request=<Request [b'POST']>
2026-01-07 14:31:22,234 - httpcore.http11 - DEBUG - send_request_body.complete
2026-01-07 14:31:22,234 - httpcore.http11 - DEBUG - receive_response_headers.started request=<Request [b'POST']>
2026-01-07 14:31:24,015 - httpcore.http11 - DEBUG - receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'Content-Type', b'application/json; charset=UTF-8'), (b'Vary', b'Origin'), (b'Vary', b'X-Origin'), (b'Vary', b'Referer'), (b'Content-Encoding', b'gzip'), (b'Date', b'Wed, 07 Jan 2026 22:31:23 GMT'), (b'Server', b'scaffolding on HTTPServer2'), (b'X-XSS-Protection', b'0'), (b'X-Frame-Options', b'SAMEORIGIN'), (b'X-Content-Type-Options', b'nosniff'), (b'Server-Timing', b'gfet4t7; dur=1673'), (b'Alt-Svc', b'h3=":443"; ma=2592000,h3-29=":443"; ma=2592000'), (b'Transfer-Encoding', b'chunked')])
2026-01-07 14:31:24,015 - httpx - INFO - HTTP Request: POST https://generativelanguage.googleapis.com/v1beta/models/gemini-2.0-flash:generateContent "HTTP/1.1 200 OK"
2026-01-07 14:31:24,016 - httpcore.http11 - DEBUG - receive_response_body.started request=<Request [b'POST']>
2026-01-07 14:31:24,017 - httpcore.http11 - DEBUG - receive_response_body.complete
2026-01-07 14:31:24,017 - httpcore.http11 - DEBUG - response_closed.started
2026-01-07 14:31:24,017 - httpcore.http11 - DEBUG - response_closed.complete
2026-01-07 14:31:24,019 - VideoStreamIngestor - INFO - LLM inference output: task_updates=[TaskUpdate(task_number=0, task_note='Say hello', task_done=True)] system_actions=[SystemAction(take_action='Open the door')]
2026-01-07 14:31:24,019 - httpcore.connection - DEBUG - close.started
2026-01-07 14:31:24,020 - httpcore.connection - DEBUG - connect_tcp.started host='generativelanguage.googleapis.com' port=443 local_address=None timeout=None socket_options=None
2026-01-07 14:31:24,022 - httpcore.connection - DEBUG - close.complete
2026-01-07 14:31:24,023 - httpcore.connection - DEBUG - start_tls.complete return_value=<httpcore._backends.anyio.AnyIOStream object at 0x1362e71b0>
2026-01-07 14:31:24,039 - httpcore.http11 - DEBUG - send_request_headers.started request=<Request [b'POST']>
2026-01-07 14:31:24,040 - VideoStreamIngestor - DEBUG - Process loop: Frame got from process loop queue for io_id=9856d608
2026-01-07 14:31:24,051 - VideoStreamIngestor - INFO - LLM inference prompt: output an update to say hello for task number 0 in the notes and take the action of opening the door
2026-01-07 14:31:24,052 - google_genai.models - INFO - AFC is enabled with max remote calls: 10.
2026-01-07 14:31:24,055 - httpcore.http11 - DEBUG - send_request_headers.started request=<Request [b'POST']>
2026-01-07 14:31:24,056 - httpcore.http11 - DEBUG - send_request_headers.complete
2026-01-07 14:31:24,056 - httpcore.http11 - DEBUG - send_request_body.started request=<Request [b'POST']>
2026-01-07 14:31:24,056 - httpcore.http11 - DEBUG - send_request_body.complete
2026-01-07 14:31:24,056 - httpcore.http11 - DEBUG - receive_response_headers.started request=<Request [b'POST']>
2026-01-07 14:31:25,754 - httpcore.http11 - DEBUG - receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'Content-Type', b'application/json; charset=UTF-8'), (b'Vary', b'Origin'), (b'Vary', b'X-Origin'), (b'Vary', b'Referer'), (b'Content-Encoding', b'gzip'), (b'Date', b'Wed, 07 Jan 2026 22:31:25 GMT'), (b'Server', b'scaffolding on HTTPServer2'), (b'X-XSS-Protection', b'0'), (b'X-Frame-Options', b'SAMEORIGIN'), (b'X-Content-Type-Options', b'nosniff'), (b'Server-Timing', b'gfet4t7; dur=1615'), (b'Alt-Svc', b'h3=":443"; ma=2592000,h3-29=":443"; ma=2592000'), (b'Transfer-Encoding', b'chunked')])
2026-01-07 14:31:25,755 - httpx - INFO - HTTP Request: POST https://generativelanguage.googleapis.com/v1beta/models/gemini-2.0-flash:generateContent "HTTP/1.1 200 OK"
2026-01-07 14:31:25,755 - httpcore.http11 - DEBUG - receive_response_body.started request=<Request [b'POST']>
2026-01-07 14:31:25,756 - httpcore.http11 - DEBUG - receive_response_body.complete
2026-01-07 14:31:25,756 - httpcore.http11 - DEBUG - response_closed.started
2026-01-07 14:31:25,756 - httpcore.http11 - DEBUG - response_closed.complete
2026-01-07 14:31:25,758 - VideoStreamIngestor - INFO - LLM inference output: task_updates=[TaskUpdate(task_number=0, task_note='say hello', task_done=False)] system_actions=[SystemAction(take_action='open the door')]
2026-01-07 14:31:25,759 - httpcore.http11 - DEBUG - send_request_headers.complete
2026-01-07 14:31:25,759 - httpcore.http11 - DEBUG - send_request_body.started request=<Request [b'POST']>
2026-01-07 14:31:25,760 - httpcore.http11 - DEBUG - send_request_body.complete
2026-01-07 14:31:25,760 - httpcore.http11 - DEBUG - receive_response_headers.started request=<Request [b'POST']>
2026-01-07 14:31:25,773 - VideoStreamIngestor - DEBUG - Process loop: Frame got from process loop queue for io_id=9856d608
2026-01-07 14:31:25,789 - VideoStreamIngestor - INFO - LLM inference prompt: output an update to say hello for task number 0 in the notes and take the action of opening the door
2026-01-07 14:31:25,790 - google_genai.models - INFO - AFC is enabled with max remote calls: 10.
2026-01-07 14:31:25,794 - httpcore.http11 - DEBUG - send_request_headers.started request=<Request [b'POST']>
2026-01-07 14:31:25,794 - httpcore.http11 - DEBUG - send_request_headers.complete
2026-01-07 14:31:25,794 - httpcore.http11 - DEBUG - send_request_body.started request=<Request [b'POST']>
2026-01-07 14:31:25,795 - httpcore.http11 - DEBUG - send_request_body.complete
2026-01-07 14:31:25,795 - httpcore.http11 - DEBUG - receive_response_headers.started request=<Request [b'POST']>
2026-01-07 14:31:27,239 - httpcore.http11 - DEBUG - receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'Content-Type', b'application/json; charset=UTF-8'), (b'Vary', b'Origin'), (b'Vary', b'X-Origin'), (b'Vary', b'Referer'), (b'Content-Encoding', b'gzip'), (b'Date', b'Wed, 07 Jan 2026 22:31:27 GMT'), (b'Server', b'scaffolding on HTTPServer2'), (b'X-XSS-Protection', b'0'), (b'X-Frame-Options', b'SAMEORIGIN'), (b'X-Content-Type-Options', b'nosniff'), (b'Server-Timing', b'gfet4t7; dur=1435'), (b'Alt-Svc', b'h3=":443"; ma=2592000,h3-29=":443"; ma=2592000'), (b'Transfer-Encoding', b'chunked')])
2026-01-07 14:31:27,239 - httpx - INFO - HTTP Request: POST https://generativelanguage.googleapis.com/v1beta/models/gemini-2.0-flash:generateContent "HTTP/1.1 200 OK"
2026-01-07 14:31:27,240 - httpcore.http11 - DEBUG - receive_response_body.started request=<Request [b'POST']>
2026-01-07 14:31:27,240 - httpcore.http11 - DEBUG - receive_response_body.complete
2026-01-07 14:31:27,240 - httpcore.http11 - DEBUG - response_closed.started
2026-01-07 14:31:27,240 - httpcore.http11 - DEBUG - response_closed.complete
2026-01-07 14:31:27,241 - VideoStreamIngestor - INFO - LLM inference output: task_updates=[TaskUpdate(task_number=0, task_note='hello', task_done=False)] system_actions=[SystemAction(take_action='opening the door')]
2026-01-07 14:31:27,243 - httpcore.http11 - DEBUG - receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'Content-Type', b'application/json; charset=UTF-8'), (b'Vary', b'Origin'), (b'Vary', b'X-Origin'), (b'Vary', b'Referer'), (b'Content-Encoding', b'gzip'), (b'Date', b'Wed, 07 Jan 2026 22:31:26 GMT'), (b'Server', b'scaffolding on HTTPServer2'), (b'X-XSS-Protection', b'0'), (b'X-Frame-Options', b'SAMEORIGIN'), (b'X-Content-Type-Options', b'nosniff'), (b'Server-Timing', b'gfet4t7; dur=1116'), (b'Alt-Svc', b'h3=":443"; ma=2592000,h3-29=":443"; ma=2592000'), (b'Transfer-Encoding', b'chunked')])
2026-01-07 14:31:27,243 - httpx - INFO - HTTP Request: POST https://generativelanguage.googleapis.com/v1beta/models/gemini-2.5-flash:generateContent "HTTP/1.1 200 OK"
2026-01-07 14:31:27,243 - httpcore.http11 - DEBUG - receive_response_body.started request=<Request [b'POST']>
2026-01-07 14:31:27,243 - httpcore.http11 - DEBUG - receive_response_body.complete
2026-01-07 14:31:27,243 - httpcore.http11 - DEBUG - response_closed.started
2026-01-07 14:31:27,273 - httpcore.http11 - DEBUG - response_closed.complete
2026-01-07 14:31:27,275 - google_adk.google.adk.models.google_llm - INFO - Response received from the model.
2026-01-07 14:31:27,275 - google_adk.google.adk.models.google_llm - DEBUG - 
LLM Response:
-----------------------------------------------------------
Text:
Which door would you like to open?
-----------------------------------------------------------
Function calls:

-----------------------------------------------------------
Raw response:
{"sdk_http_response":{"headers":{"content-type":"application/json; charset=UTF-8","vary":"Origin, X-Origin, Referer","content-encoding":"gzip","date":"Wed, 07 Jan 2026 22:31:26 GMT","server":"scaffolding on HTTPServer2","x-xss-protection":"0","x-frame-options":"SAMEORIGIN","x-content-type-options":"nosniff","server-timing":"gfet4t7; dur=1116","alt-svc":"h3=\":443\"; ma=2592000,h3-29=\":443\"; ma=2592000","transfer-encoding":"chunked"}},"candidates":[{"content":{"parts":[{"text":"Which door would you like to open?","thought_signature":"CrQDAXLI2nwVwrkDJ_BNVcDONTqKhERrB3NnZNkcoX0gGvslczvx4M58gU3dEQ9AxIH86pk9PyaDicggEfBKxyfLQTWBg8QnkO86cBbwfpG5r4e_braNaBWRANoq8GFLhKJtfmNyNCRGwNQkEhsXXS1bHodgSDbqFwbAqvE0qguIlHIr4T5DsQvQ3mjRhMbAs2gcARf2F-iGfLA8crFphXFsNdrqKViPTjhVKw4iXZk88OrjYuRuz0RDlK-5LONCAKbc9U2AIgkBotR2xIvtBXRNQwI0MUpEa-nxxrRbCrwbsjjnhajZNbE4tn5U3oweAishDLDBaiFnnUXOVHCU2vnNmxBDZPlmMZ7-Sjwm4eFvQ3pgnNGMJFLQYIlEv9906-UK8l6GuoRM4uK8PTcq7HdIG7IonSNdt6qAFC2wDumZfhwsHpb7X1Io-bmhHc5h5gA1_dr15u4O2v-RBGEL0xPOCnk3p73Z05E2Wnv4WqSFcGpUtgQhilIfJo9TbnAKVl0LF8VsFaAs10QvfERe48M-mELgQ81GdzVyotbXAEat1KzUHsEBy8tBhQ2LON5Q1N0DgveAkg=="}],"role":"model"},"finish_reason":"STOP","index":0}],"model_version":"gemini-2.5-flash","response_id":"vt5eaZHYMJOYjMcP6arh0Aw","usage_metadata":{"cache_tokens_details":[{"modality":"TEXT","token_count":705}],"cached_content_token_count":705,"candidates_token_count":8,"prompt_token_count":918,"prompt_tokens_details":[{"modality":"TEXT","token_count":918}],"thoughts_token_count":101,"total_token_count":1027}}
-----------------------------------------------------------

2026-01-07 14:31:27,276 - google_adk.google.adk.runners - INFO - Closing runner...
2026-01-07 14:31:27,276 - google_adk.google.adk.runners - INFO - Runner closed.
2026-01-07 14:31:27,277 - VideoStreamIngestor - DEBUG - Process loop: Frame got from process loop queue for io_id=9856d608
2026-01-07 14:31:27,289 - VideoStreamIngestor - INFO - LLM inference prompt: output an update to say hello for task number 0 in the notes and take the action of opening the door
2026-01-07 14:31:27,290 - google_genai.models - INFO - AFC is enabled with max remote calls: 10.
2026-01-07 14:31:27,293 - httpcore.http11 - DEBUG - send_request_headers.started request=<Request [b'POST']>
2026-01-07 14:31:27,294 - httpcore.http11 - DEBUG - send_request_headers.complete
2026-01-07 14:31:27,294 - httpcore.http11 - DEBUG - send_request_body.started request=<Request [b'POST']>
2026-01-07 14:31:27,294 - httpcore.http11 - DEBUG - send_request_body.complete
2026-01-07 14:31:27,295 - httpcore.http11 - DEBUG - receive_response_headers.started request=<Request [b'POST']>
2026-01-07 14:31:29,032 - httpcore.http11 - DEBUG - receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'Content-Type', b'application/json; charset=UTF-8'), (b'Vary', b'Origin'), (b'Vary', b'X-Origin'), (b'Vary', b'Referer'), (b'Content-Encoding', b'gzip'), (b'Date', b'Wed, 07 Jan 2026 22:31:28 GMT'), (b'Server', b'scaffolding on HTTPServer2'), (b'X-XSS-Protection', b'0'), (b'X-Frame-Options', b'SAMEORIGIN'), (b'X-Content-Type-Options', b'nosniff'), (b'Server-Timing', b'gfet4t7; dur=1655'), (b'Alt-Svc', b'h3=":443"; ma=2592000,h3-29=":443"; ma=2592000'), (b'Transfer-Encoding', b'chunked')])
2026-01-07 14:31:29,033 - httpx - INFO - HTTP Request: POST https://generativelanguage.googleapis.com/v1beta/models/gemini-2.0-flash:generateContent "HTTP/1.1 200 OK"
2026-01-07 14:31:29,033 - httpcore.http11 - DEBUG - receive_response_body.started request=<Request [b'POST']>
2026-01-07 14:31:29,034 - httpcore.http11 - DEBUG - receive_response_body.complete
2026-01-07 14:31:29,035 - httpcore.http11 - DEBUG - response_closed.started
2026-01-07 14:31:29,035 - httpcore.http11 - DEBUG - response_closed.complete
2026-01-07 14:31:29,036 - VideoStreamIngestor - INFO - LLM inference output: task_updates=[TaskUpdate(task_number=0, task_note='Say hello.', task_done=True)] system_actions=[SystemAction(take_action='Open the door.')]
2026-01-07 14:31:29,037 - httpcore.connection - DEBUG - close.started
2026-01-07 14:31:29,038 - httpcore.connection - DEBUG - close.complete
2026-01-07 14:31:29,059 - google_adk.google.adk.models.google_llm - INFO - Sending out request, model: gemini-2.0-flash, backend: GoogleLLMVariant.GEMINI_API, stream: False
2026-01-07 14:31:29,060 - google_adk.google.adk.models.google_llm - DEBUG - 
LLM Request:
-----------------------------------------------------------
System Instruction:
You are a helpful and friendly system administrator. Be concise and clear in your responses. You have access to tools that can help you check available input devices on the system and manage tasks. When a user requests a task that requires an input device, you should automatically call list_input_devices_with_ids to find the appropriate device and its io_id. Do not ask the user for io_ids - always retrieve them yourself using the available tools. When selecting a device, prefer video cameras (camera category) when possible. Once you have the io_id, use add_task with the io_id to create tasks. Use list_tasks to view all tasks (optionally filtered by io_id). When a user asks a question about a task, first call list_tasks to find the relevant task_id, then call get_info_on ONCE with that task_id to get detailed information. Do not call get_info_on multiple times for the same task_id. Use remove_task to delete a task by its task_id. Use edit_task to update a task's description. This is especially useful when a user wants to amend an existing task, for example, to add an action to be triggered when a condition is met. When editing a task, preserve the original detection part and add the new action requirement. For example, if a task is 'Count claps' and the user wants to send an email when claps reach 1, edit it to 'Count claps and when it reaches 1 send email to [email]'. You can also use take_output_action to execute various actions like sending emails, opening/closing doors, or controlling lights by providing a natural language description of the action. IMPORTANT: When a user requests an action to be triggered based on a video feed event (e.g., 'send me an email when I clap', 'turn on lights when I wave'), you have two options: 1. If a relevant task already exists (e.g., 'Count claps'), use edit_task to amend it with the action. 2. If no relevant task exists, add a NEW task that combines both the detection and the action. 

You are an agent. Your internal name is "system_administrator". The description about you is "A helpful system administrator. It controls the system on behalf of the user.".
-----------------------------------------------------------
Config:
{'http_options': {'headers': {'x-goog-api-client': 'google-adk/1.21.0 gl-python/3.13.5', 'user-agent': 'google-adk/1.21.0 gl-python/3.13.5'}}, 'tools': [{}]}
-----------------------------------------------------------
Contents:
{"parts":[{"text":"Execute this action: Open the door"}],"role":"user"}
{"parts":[{"function_call":{"args":{"request":"Open the door"},"name":"action_router"}}],"role":"model"}
{"parts":[{"function_response":{"name":"action_router","response":{"result":"Which door do you want to open?"}}}],"role":"user"}
{"parts":[{"text":"Which door do you want to open?\n"}],"role":"model"}
{"parts":[{"text":"Execute this action: open the door"}],"role":"user"}
{"parts":[{"function_call":{"args":{"request":"open the door"},"name":"action_router"}}],"role":"model"}
{"parts":[{"function_response":{"name":"action_router","response":{"result":"Which door do you want to open?"}}}],"role":"user"}
{"parts":[{"text":"Which door do you want to open?\n"}],"role":"model"}
{"parts":[{"text":"Execute this action: Open the door"}],"role":"user"}
{"parts":[{"function_call":{"args":{"request":"Open the door"},"name":"action_router"}}],"role":"model"}
{"parts":[{"function_response":{"name":"action_router","response":{"result":"Which door would you like to open?"}}}],"role":"user"}
{"parts":[{"text":"Which door would you like to open?\n"}],"role":"model"}
{"parts":[{"text":"Execute this action: Open the door"}],"role":"user"}
{"parts":[{"function_call":{"args":{"request":"Open the door"},"name":"action_router"}}],"role":"model"}
{"parts":[{"function_response":{"name":"action_router","response":{"result":"Which door would you like to open?"}}}],"role":"user"}
-----------------------------------------------------------
Functions:
list_input_devices_with_ids: {} 
add_task: {'io_id': {'type': <Type.STRING: 'STRING'>}, 'task_description': {'type': <Type.STRING: 'STRING'>}} 
list_tasks: {'io_id': {'nullable': True, 'type': <Type.STRING: 'STRING'>}} 
get_info_on: {'task_id': {'type': <Type.STRING: 'STRING'>}} 
remove_task: {'task_id': {'type': <Type.STRING: 'STRING'>}} 
edit_task: {'task_id': {'type': <Type.STRING: 'STRING'>}, 'new_description': {'type': <Type.STRING: 'STRING'>}} 
action_router: {'request': {'type': <Type.STRING: 'STRING'>}} 
-----------------------------------------------------------

2026-01-07 14:31:29,066 - httpcore.connection - DEBUG - close.started
2026-01-07 14:31:29,066 - httpcore.connection - DEBUG - connect_tcp.started host='generativelanguage.googleapis.com' port=443 local_address=None timeout=None socket_options=None
2026-01-07 14:31:29,066 - VideoStreamIngestor - DEBUG - Process loop: Frame got from process loop queue for io_id=9856d608
2026-01-07 14:31:29,073 - VideoStreamIngestor - INFO - LLM inference prompt: output an update to say hello for task number 0 in the notes and take the action of opening the door
2026-01-07 14:31:29,076 - google_genai.models - INFO - AFC is enabled with max remote calls: 10.
2026-01-07 14:31:29,079 - httpcore.http11 - DEBUG - send_request_headers.started request=<Request [b'POST']>
2026-01-07 14:31:29,079 - httpcore.http11 - DEBUG - send_request_headers.complete
2026-01-07 14:31:29,079 - httpcore.http11 - DEBUG - send_request_body.started request=<Request [b'POST']>
2026-01-07 14:31:29,079 - httpcore.http11 - DEBUG - send_request_body.complete
2026-01-07 14:31:29,079 - httpcore.http11 - DEBUG - receive_response_headers.started request=<Request [b'POST']>
2026-01-07 14:31:30,875 - httpcore.http11 - DEBUG - receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'Content-Type', b'application/json; charset=UTF-8'), (b'Vary', b'Origin'), (b'Vary', b'X-Origin'), (b'Vary', b'Referer'), (b'Content-Encoding', b'gzip'), (b'Date', b'Wed, 07 Jan 2026 22:31:30 GMT'), (b'Server', b'scaffolding on HTTPServer2'), (b'X-XSS-Protection', b'0'), (b'X-Frame-Options', b'SAMEORIGIN'), (b'X-Content-Type-Options', b'nosniff'), (b'Server-Timing', b'gfet4t7; dur=1703'), (b'Alt-Svc', b'h3=":443"; ma=2592000,h3-29=":443"; ma=2592000'), (b'Transfer-Encoding', b'chunked')])
2026-01-07 14:31:30,876 - httpx - INFO - HTTP Request: POST https://generativelanguage.googleapis.com/v1beta/models/gemini-2.0-flash:generateContent "HTTP/1.1 200 OK"
2026-01-07 14:31:30,876 - httpcore.http11 - DEBUG - receive_response_body.started request=<Request [b'POST']>
2026-01-07 14:31:30,877 - httpcore.http11 - DEBUG - receive_response_body.complete
2026-01-07 14:31:30,877 - httpcore.http11 - DEBUG - response_closed.started
2026-01-07 14:31:30,877 - httpcore.http11 - DEBUG - response_closed.complete
2026-01-07 14:31:30,879 - VideoStreamIngestor - INFO - LLM inference output: task_updates=[TaskUpdate(task_number=0, task_note='Say hello', task_done=True)] system_actions=[SystemAction(take_action='Open the door')]
2026-01-07 14:31:30,879 - httpcore.connection - DEBUG - connect_tcp.complete return_value=<httpcore._backends.anyio.AnyIOStream object at 0x136246440>
2026-01-07 14:31:30,879 - httpcore.connection - DEBUG - start_tls.started ssl_context=<ssl.SSLContext object at 0x13408e2a0> server_hostname='generativelanguage.googleapis.com' timeout=None
2026-01-07 14:31:30,880 - httpcore.connection - DEBUG - close.complete
2026-01-07 14:31:30,912 - VideoStreamIngestor - DEBUG - Process loop: Frame got from process loop queue for io_id=9856d608
2026-01-07 14:31:30,927 - VideoStreamIngestor - INFO - LLM inference prompt: output an update to say hello for task number 0 in the notes and take the action of opening the door
2026-01-07 14:31:30,929 - google_genai.models - INFO - AFC is enabled with max remote calls: 10.
2026-01-07 14:31:30,933 - httpcore.http11 - DEBUG - send_request_headers.started request=<Request [b'POST']>
2026-01-07 14:31:30,933 - httpcore.http11 - DEBUG - send_request_headers.complete
2026-01-07 14:31:30,933 - httpcore.http11 - DEBUG - send_request_body.started request=<Request [b'POST']>
2026-01-07 14:31:30,934 - httpcore.http11 - DEBUG - send_request_body.complete
2026-01-07 14:31:30,934 - httpcore.http11 - DEBUG - receive_response_headers.started request=<Request [b'POST']>
2026-01-07 14:31:32,653 - httpcore.http11 - DEBUG - receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'Content-Type', b'application/json; charset=UTF-8'), (b'Vary', b'Origin'), (b'Vary', b'X-Origin'), (b'Vary', b'Referer'), (b'Content-Encoding', b'gzip'), (b'Date', b'Wed, 07 Jan 2026 22:31:32 GMT'), (b'Server', b'scaffolding on HTTPServer2'), (b'X-XSS-Protection', b'0'), (b'X-Frame-Options', b'SAMEORIGIN'), (b'X-Content-Type-Options', b'nosniff'), (b'Server-Timing', b'gfet4t7; dur=1713'), (b'Alt-Svc', b'h3=":443"; ma=2592000,h3-29=":443"; ma=2592000'), (b'Transfer-Encoding', b'chunked')])
2026-01-07 14:31:32,654 - httpx - INFO - HTTP Request: POST https://generativelanguage.googleapis.com/v1beta/models/gemini-2.0-flash:generateContent "HTTP/1.1 200 OK"
2026-01-07 14:31:32,654 - httpcore.http11 - DEBUG - receive_response_body.started request=<Request [b'POST']>
2026-01-07 14:31:32,654 - httpcore.http11 - DEBUG - receive_response_body.complete
2026-01-07 14:31:32,654 - httpcore.http11 - DEBUG - response_closed.started
2026-01-07 14:31:32,654 - httpcore.http11 - DEBUG - response_closed.complete
2026-01-07 14:31:32,655 - VideoStreamIngestor - INFO - LLM inference output: task_updates=[TaskUpdate(task_number=0, task_note='say hello', task_done=False)] system_actions=[SystemAction(take_action='opening the door')]
2026-01-07 14:31:32,662 - httpcore.connection - DEBUG - start_tls.complete return_value=<httpcore._backends.anyio.AnyIOStream object at 0x1362475c0>
2026-01-07 14:31:32,663 - VideoStreamIngestor - DEBUG - Process loop: Frame got from process loop queue for io_id=9856d608
2026-01-07 14:31:32,671 - VideoStreamIngestor - INFO - LLM inference prompt: output an update to say hello for task number 0 in the notes and take the action of opening the door
2026-01-07 14:31:32,672 - google_genai.models - INFO - AFC is enabled with max remote calls: 10.
2026-01-07 14:31:32,675 - httpcore.http11 - DEBUG - send_request_headers.started request=<Request [b'POST']>
2026-01-07 14:31:32,675 - httpcore.http11 - DEBUG - send_request_headers.complete
2026-01-07 14:31:32,675 - httpcore.http11 - DEBUG - send_request_body.started request=<Request [b'POST']>
2026-01-07 14:31:32,675 - httpcore.http11 - DEBUG - send_request_body.complete
2026-01-07 14:31:32,676 - httpcore.http11 - DEBUG - receive_response_headers.started request=<Request [b'POST']>
2026-01-07 14:31:34,458 - httpcore.http11 - DEBUG - receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'Content-Type', b'application/json; charset=UTF-8'), (b'Vary', b'Origin'), (b'Vary', b'X-Origin'), (b'Vary', b'Referer'), (b'Content-Encoding', b'gzip'), (b'Date', b'Wed, 07 Jan 2026 22:31:34 GMT'), (b'Server', b'scaffolding on HTTPServer2'), (b'X-XSS-Protection', b'0'), (b'X-Frame-Options', b'SAMEORIGIN'), (b'X-Content-Type-Options', b'nosniff'), (b'Server-Timing', b'gfet4t7; dur=1669'), (b'Alt-Svc', b'h3=":443"; ma=2592000,h3-29=":443"; ma=2592000'), (b'Transfer-Encoding', b'chunked')])
2026-01-07 14:31:34,459 - httpx - INFO - HTTP Request: POST https://generativelanguage.googleapis.com/v1beta/models/gemini-2.0-flash:generateContent "HTTP/1.1 200 OK"
2026-01-07 14:31:34,459 - httpcore.http11 - DEBUG - receive_response_body.started request=<Request [b'POST']>
2026-01-07 14:31:34,459 - httpcore.http11 - DEBUG - receive_response_body.complete
2026-01-07 14:31:34,459 - httpcore.http11 - DEBUG - response_closed.started
2026-01-07 14:31:34,459 - httpcore.http11 - DEBUG - response_closed.complete
2026-01-07 14:31:34,460 - VideoStreamIngestor - INFO - LLM inference output: task_updates=[TaskUpdate(task_number=0, task_note='Say hello', task_done=True)] system_actions=[SystemAction(take_action='Open the door')]
2026-01-07 14:31:34,461 - httpcore.http11 - DEBUG - send_request_headers.started request=<Request [b'POST']>
2026-01-07 14:31:34,461 - httpcore.http11 - DEBUG - send_request_headers.complete
2026-01-07 14:31:34,461 - httpcore.http11 - DEBUG - send_request_body.started request=<Request [b'POST']>
2026-01-07 14:31:34,497 - httpcore.http11 - DEBUG - send_request_body.complete
2026-01-07 14:31:34,497 - httpcore.http11 - DEBUG - receive_response_headers.started request=<Request [b'POST']>
2026-01-07 14:31:34,497 - httpcore.connection - DEBUG - connect_tcp.complete return_value=<httpcore._backends.anyio.AnyIOStream object at 0x136218e60>
2026-01-07 14:31:34,497 - httpcore.connection - DEBUG - start_tls.started ssl_context=<ssl.SSLContext object at 0x13408dbe0> server_hostname='generativelanguage.googleapis.com' timeout=None
2026-01-07 14:31:34,498 - VideoStreamIngestor - DEBUG - Process loop: Frame got from process loop queue for io_id=9856d608
2026-01-07 14:31:34,505 - VideoStreamIngestor - INFO - LLM inference prompt: output an update to say hello for task number 0 in the notes and take the action of opening the door
2026-01-07 14:31:34,506 - google_genai.models - INFO - AFC is enabled with max remote calls: 10.
2026-01-07 14:31:34,508 - httpcore.http11 - DEBUG - send_request_headers.started request=<Request [b'POST']>
2026-01-07 14:31:34,508 - httpcore.http11 - DEBUG - send_request_headers.complete
2026-01-07 14:31:34,508 - httpcore.http11 - DEBUG - send_request_body.started request=<Request [b'POST']>
2026-01-07 14:31:34,509 - httpcore.http11 - DEBUG - send_request_body.complete
2026-01-07 14:31:34,509 - httpcore.http11 - DEBUG - receive_response_headers.started request=<Request [b'POST']>
2026-01-07 14:31:36,302 - httpcore.http11 - DEBUG - receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'Content-Type', b'application/json; charset=UTF-8'), (b'Vary', b'Origin'), (b'Vary', b'X-Origin'), (b'Vary', b'Referer'), (b'Content-Encoding', b'gzip'), (b'Date', b'Wed, 07 Jan 2026 22:31:36 GMT'), (b'Server', b'scaffolding on HTTPServer2'), (b'X-XSS-Protection', b'0'), (b'X-Frame-Options', b'SAMEORIGIN'), (b'X-Content-Type-Options', b'nosniff'), (b'Server-Timing', b'gfet4t7; dur=1737'), (b'Alt-Svc', b'h3=":443"; ma=2592000,h3-29=":443"; ma=2592000'), (b'Transfer-Encoding', b'chunked')])
2026-01-07 14:31:36,303 - httpx - INFO - HTTP Request: POST https://generativelanguage.googleapis.com/v1beta/models/gemini-2.0-flash:generateContent "HTTP/1.1 200 OK"
2026-01-07 14:31:36,303 - httpcore.http11 - DEBUG - receive_response_body.started request=<Request [b'POST']>
2026-01-07 14:31:36,303 - httpcore.http11 - DEBUG - receive_response_body.complete
2026-01-07 14:31:36,303 - httpcore.http11 - DEBUG - response_closed.started
2026-01-07 14:31:36,303 - httpcore.http11 - DEBUG - response_closed.complete
2026-01-07 14:31:36,304 - VideoStreamIngestor - INFO - LLM inference output: task_updates=[TaskUpdate(task_number=0, task_note='hello', task_done=False)] system_actions=[SystemAction(take_action='open the door')]
2026-01-07 14:31:36,304 - httpcore.http11 - DEBUG - receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'Content-Type', b'application/json; charset=UTF-8'), (b'Vary', b'Origin'), (b'Vary', b'X-Origin'), (b'Vary', b'Referer'), (b'Content-Encoding', b'gzip'), (b'Date', b'Wed, 07 Jan 2026 22:31:35 GMT'), (b'Server', b'scaffolding on HTTPServer2'), (b'X-XSS-Protection', b'0'), (b'X-Frame-Options', b'SAMEORIGIN'), (b'X-Content-Type-Options', b'nosniff'), (b'Server-Timing', b'gfet4t7; dur=593'), (b'Alt-Svc', b'h3=":443"; ma=2592000,h3-29=":443"; ma=2592000'), (b'Transfer-Encoding', b'chunked')])
2026-01-07 14:31:36,305 - httpx - INFO - HTTP Request: POST https://generativelanguage.googleapis.com/v1beta/models/gemini-2.0-flash:generateContent "HTTP/1.1 200 OK"
2026-01-07 14:31:36,305 - httpcore.http11 - DEBUG - receive_response_body.started request=<Request [b'POST']>
2026-01-07 14:31:36,305 - httpcore.http11 - DEBUG - receive_response_body.complete
2026-01-07 14:31:36,305 - httpcore.http11 - DEBUG - response_closed.started
2026-01-07 14:31:36,328 - httpcore.http11 - DEBUG - response_closed.complete
2026-01-07 14:31:36,329 - google_adk.google.adk.models.google_llm - INFO - Response received from the model.
2026-01-07 14:31:36,329 - google_adk.google.adk.models.google_llm - DEBUG - 
LLM Response:
-----------------------------------------------------------
Text:
None
-----------------------------------------------------------
Function calls:
name: get_info_on, args: {'task_id': '6b92abeb'}
-----------------------------------------------------------
Raw response:
{"sdk_http_response":{"headers":{"content-type":"application/json; charset=UTF-8","vary":"Origin, X-Origin, Referer","content-encoding":"gzip","date":"Wed, 07 Jan 2026 22:31:35 GMT","server":"scaffolding on HTTPServer2","x-xss-protection":"0","x-frame-options":"SAMEORIGIN","x-content-type-options":"nosniff","server-timing":"gfet4t7; dur=593","alt-svc":"h3=\":443\"; ma=2592000,h3-29=\":443\"; ma=2592000","transfer-encoding":"chunked"}},"candidates":[{"content":{"parts":[{"function_call":{"args":{"task_id":"6b92abeb"},"name":"get_info_on"}}],"role":"model"},"finish_reason":"STOP","avg_logprobs":-0.008418818137475423}],"model_version":"gemini-2.0-flash","response_id":"xt5eaZCeIb2ojMcPns-bgAU","usage_metadata":{"candidates_token_count":14,"candidates_tokens_details":[{"modality":"TEXT","token_count":14}],"prompt_token_count":1671,"prompt_tokens_details":[{"modality":"TEXT","token_count":1671}],"total_token_count":1685}}
-----------------------------------------------------------

2026-01-07 14:31:36,330 - VideoStreamIngestor - DEBUG - Process loop: Frame got from process loop queue for io_id=9856d608
2026-01-07 14:31:36,336 - VideoStreamIngestor - INFO - LLM inference prompt: output an update to say hello for task number 0 in the notes and take the action of opening the door
2026-01-07 14:31:36,337 - google_genai.models - INFO - AFC is enabled with max remote calls: 10.
2026-01-07 14:31:36,339 - httpcore.http11 - DEBUG - send_request_headers.started request=<Request [b'POST']>
2026-01-07 14:31:36,339 - httpcore.http11 - DEBUG - send_request_headers.complete
2026-01-07 14:31:36,339 - httpcore.http11 - DEBUG - send_request_body.started request=<Request [b'POST']>
2026-01-07 14:31:36,340 - httpcore.http11 - DEBUG - send_request_body.complete
2026-01-07 14:31:36,340 - httpcore.http11 - DEBUG - receive_response_headers.started request=<Request [b'POST']>
2026-01-07 14:31:37,948 - httpcore.http11 - DEBUG - receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'Content-Type', b'application/json; charset=UTF-8'), (b'Vary', b'Origin'), (b'Vary', b'X-Origin'), (b'Vary', b'Referer'), (b'Content-Encoding', b'gzip'), (b'Date', b'Wed, 07 Jan 2026 22:31:37 GMT'), (b'Server', b'scaffolding on HTTPServer2'), (b'X-XSS-Protection', b'0'), (b'X-Frame-Options', b'SAMEORIGIN'), (b'X-Content-Type-Options', b'nosniff'), (b'Server-Timing', b'gfet4t7; dur=1598'), (b'Alt-Svc', b'h3=":443"; ma=2592000,h3-29=":443"; ma=2592000'), (b'Transfer-Encoding', b'chunked')])
2026-01-07 14:31:37,948 - httpx - INFO - HTTP Request: POST https://generativelanguage.googleapis.com/v1beta/models/gemini-2.0-flash:generateContent "HTTP/1.1 200 OK"
2026-01-07 14:31:37,948 - httpcore.http11 - DEBUG - receive_response_body.started request=<Request [b'POST']>
2026-01-07 14:31:37,948 - httpcore.http11 - DEBUG - receive_response_body.complete
2026-01-07 14:31:37,948 - httpcore.http11 - DEBUG - response_closed.started
2026-01-07 14:31:37,948 - httpcore.http11 - DEBUG - response_closed.complete
2026-01-07 14:31:37,948 - VideoStreamIngestor - INFO - LLM inference output: task_updates=[TaskUpdate(task_number=0, task_note='Say hello', task_done=False)] system_actions=[SystemAction(take_action='Open the door')]
2026-01-07 14:31:37,974 - google_adk.google.adk.models.google_llm - INFO - Sending out request, model: gemini-2.0-flash, backend: GoogleLLMVariant.GEMINI_API, stream: False
2026-01-07 14:31:37,974 - google_adk.google.adk.models.google_llm - DEBUG - 
LLM Request:
-----------------------------------------------------------
System Instruction:
You are a helpful and friendly system administrator. Be concise and clear in your responses. You have access to tools that can help you check available input devices on the system and manage tasks. When a user requests a task that requires an input device, you should automatically call list_input_devices_with_ids to find the appropriate device and its io_id. Do not ask the user for io_ids - always retrieve them yourself using the available tools. When selecting a device, prefer video cameras (camera category) when possible. Once you have the io_id, use add_task with the io_id to create tasks. Use list_tasks to view all tasks (optionally filtered by io_id). When a user asks a question about a task, first call list_tasks to find the relevant task_id, then call get_info_on ONCE with that task_id to get detailed information. Do not call get_info_on multiple times for the same task_id. Use remove_task to delete a task by its task_id. Use edit_task to update a task's description. This is especially useful when a user wants to amend an existing task, for example, to add an action to be triggered when a condition is met. When editing a task, preserve the original detection part and add the new action requirement. For example, if a task is 'Count claps' and the user wants to send an email when claps reach 1, edit it to 'Count claps and when it reaches 1 send email to [email]'. You can also use take_output_action to execute various actions like sending emails, opening/closing doors, or controlling lights by providing a natural language description of the action. IMPORTANT: When a user requests an action to be triggered based on a video feed event (e.g., 'send me an email when I clap', 'turn on lights when I wave'), you have two options: 1. If a relevant task already exists (e.g., 'Count claps'), use edit_task to amend it with the action. 2. If no relevant task exists, add a NEW task that combines both the detection and the action. 

You are an agent. Your internal name is "system_administrator". The description about you is "A helpful system administrator. It controls the system on behalf of the user.".
-----------------------------------------------------------
Config:
{'http_options': {'headers': {'x-goog-api-client': 'google-adk/1.21.0 gl-python/3.13.5', 'user-agent': 'google-adk/1.21.0 gl-python/3.13.5'}}, 'tools': [{}]}
-----------------------------------------------------------
Contents:
{"parts":[{"text":"count claps"}],"role":"user"}
{"parts":[{"function_call":{"args":{},"name":"list_input_devices_with_ids"}}],"role":"model"}
{"parts":[{"function_response":{"name":"list_input_devices_with_ids","response":{"status":"success","input_devices":{"keyboard":[{"io_id":"83503c29","name":"Keyboard (detected)"}],"mouse":[{"io_id":"1cc7aacd","name":"Mouse/Trackpad (detected)"}],"screen":[{"io_id":"ef44faaa","name":"Display (Built-in Liquid Retina XDR Display)"},{"io_id":"420bb857","name":"Display (3456 x 2234 Retina)"}],"camera":[{"io_id":"ddeb3cd4","name":""},{"io_id":"9856d608","name":"FaceTime HD Camera"},{"io_id":"ea036130","name":"OBS Camera Extension"}],"com_ports":[{"io_id":"a40b74c8","name":"/dev/cu.debug-console (n/a)"},{"io_id":"2e726f59","name":"/dev/cu.NothingEar (n/a)"},{"io_id":"c6e60e07","name":"/dev/cu.Bluetooth-Incoming-Port"},{"io_id":"1bb14588","name":"/dev/cu.wlan-debug"},{"io_id":"739ab3b7","name":"/dev/tty.Bluetooth-Incoming-Port"},{"io_id":"38b6f468","name":"/dev/tty.debug-console"},{"io_id":"7adda166","name":"/dev/tty.JBLCharge4"},{"io_id":"6a8428d6","name":"/dev/cu.Bluetooth-Incoming-Port (n/a)"},{"io_id":"ca07358b","name":"/dev/cu.JBLCharge4 (n/a)"},{"io_id":"8af0276d","name":"/dev/cu.wlan-debug (n/a)"},{"io_id":"9b1b9923","name":"/dev/tty.wlan-debug"},{"io_id":"cd2d9c92","name":"/dev/tty.NothingEar"},{"io_id":"e75d11ca","name":"/dev/cu.debug-console"},{"io_id":"c1865a91","name":"/dev/cu.JBLCharge4"},{"io_id":"9be32325","name":"/dev/cu.NothingEar"}],"audio_input":[{"io_id":"065dbc71","name":""},{"io_id":"35cec23f","name":"Yes"},{"io_id":"848446f1","name":"1"},{"io_id":"5af33e19","name":"MacBook Pro Microphone"}]}}}}],"role":"user"}
{"parts":[{"text":"OK. I see multiple cameras. I will use 'FaceTime HD Camera' with io_id '9856d608'.\n"},{"function_call":{"args":{"task_description":"Count claps","io_id":"9856d608"},"name":"add_task"}}],"role":"model"}
{"parts":[{"function_response":{"name":"add_task","response":{"status":"success","message":"Task added successfully","task_id":"6b92abeb","io_id":"9856d608","task_description":"Count claps","device_info":{"io_id":"9856d608","category":"camera","name":"FaceTime HD Camera"}}}}],"role":"user"}
{"parts":[{"text":"OK. I've added a task to count claps using the FaceTime HD Camera. The task ID is 6b92abeb.\n"}],"role":"model"}
{"parts":[{"text":"how many claps?"}],"role":"user"}
{"parts":[{"function_call":{"args":{},"name":"list_tasks"}}],"role":"model"}
{"parts":[{"function_response":{"name":"list_tasks","response":{"status":"success","tasks":[{"task_id":"6b92abeb","io_id":"9856d608","description":"Count claps","status":"pending","task_notes":{"note":"Say hello","done":true}}],"count":1}}}],"role":"user"}
{"parts":[{"function_call":{"args":{"task_id":"6b92abeb"},"name":"get_info_on"}}],"role":"model"}
{"parts":[{"function_response":{"name":"get_info_on","response":{"status":"success","task":{"task_id":"6b92abeb","io_id":"9856d608","description":"Count claps","status":"pending","task_notes":{"note":"Say hello","done":true}}}}}],"role":"user"}
-----------------------------------------------------------
Functions:
list_input_devices_with_ids: {} 
add_task: {'io_id': {'type': <Type.STRING: 'STRING'>}, 'task_description': {'type': <Type.STRING: 'STRING'>}} 
list_tasks: {'io_id': {'nullable': True, 'type': <Type.STRING: 'STRING'>}} 
get_info_on: {'task_id': {'type': <Type.STRING: 'STRING'>}} 
remove_task: {'task_id': {'type': <Type.STRING: 'STRING'>}} 
edit_task: {'task_id': {'type': <Type.STRING: 'STRING'>}, 'new_description': {'type': <Type.STRING: 'STRING'>}} 
action_router: {'request': {'type': <Type.STRING: 'STRING'>}} 
-----------------------------------------------------------

2026-01-07 14:31:37,976 - httpcore.connection - DEBUG - start_tls.complete return_value=<httpcore._backends.anyio.AnyIOStream object at 0x13626edf0>
2026-01-07 14:31:37,976 - VideoStreamIngestor - DEBUG - Process loop: Frame got from process loop queue for io_id=9856d608
2026-01-07 14:31:37,982 - VideoStreamIngestor - INFO - LLM inference prompt: output an update to say hello for task number 0 in the notes and take the action of opening the door
2026-01-07 14:31:37,982 - google_genai.models - INFO - AFC is enabled with max remote calls: 10.
2026-01-07 14:31:37,984 - httpcore.http11 - DEBUG - send_request_headers.started request=<Request [b'POST']>
2026-01-07 14:31:37,984 - httpcore.http11 - DEBUG - send_request_headers.complete
2026-01-07 14:31:37,984 - httpcore.http11 - DEBUG - send_request_body.started request=<Request [b'POST']>
2026-01-07 14:31:37,985 - httpcore.http11 - DEBUG - send_request_body.complete
2026-01-07 14:31:37,985 - httpcore.http11 - DEBUG - receive_response_headers.started request=<Request [b'POST']>
2026-01-07 14:31:39,747 - httpcore.http11 - DEBUG - receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'Content-Type', b'application/json; charset=UTF-8'), (b'Vary', b'Origin'), (b'Vary', b'X-Origin'), (b'Vary', b'Referer'), (b'Content-Encoding', b'gzip'), (b'Date', b'Wed, 07 Jan 2026 22:31:39 GMT'), (b'Server', b'scaffolding on HTTPServer2'), (b'X-XSS-Protection', b'0'), (b'X-Frame-Options', b'SAMEORIGIN'), (b'X-Content-Type-Options', b'nosniff'), (b'Server-Timing', b'gfet4t7; dur=1755'), (b'Alt-Svc', b'h3=":443"; ma=2592000,h3-29=":443"; ma=2592000'), (b'Transfer-Encoding', b'chunked')])
2026-01-07 14:31:39,747 - httpx - INFO - HTTP Request: POST https://generativelanguage.googleapis.com/v1beta/models/gemini-2.0-flash:generateContent "HTTP/1.1 200 OK"
2026-01-07 14:31:39,748 - httpcore.http11 - DEBUG - receive_response_body.started request=<Request [b'POST']>
2026-01-07 14:31:39,748 - httpcore.http11 - DEBUG - receive_response_body.complete
2026-01-07 14:31:39,748 - httpcore.http11 - DEBUG - response_closed.started
2026-01-07 14:31:39,748 - httpcore.http11 - DEBUG - response_closed.complete
2026-01-07 14:31:39,748 - VideoStreamIngestor - INFO - LLM inference output: task_updates=[TaskUpdate(task_number=0, task_note='Say hello', task_done=True)] system_actions=[SystemAction(take_action='Open the door')]
2026-01-07 14:31:39,749 - httpcore.connection - DEBUG - close.started
2026-01-07 14:31:39,749 - httpcore.connection - DEBUG - connect_tcp.started host='generativelanguage.googleapis.com' port=443 local_address=None timeout=None socket_options=None
2026-01-07 14:31:39,749 - httpcore.http11 - DEBUG - send_request_headers.started request=<Request [b'POST']>
2026-01-07 14:31:39,749 - httpcore.connection - DEBUG - close.complete
2026-01-07 14:31:39,749 - httpcore.http11 - DEBUG - send_request_headers.complete
2026-01-07 14:31:39,749 - httpcore.http11 - DEBUG - send_request_body.started request=<Request [b'POST']>
2026-01-07 14:31:39,766 - httpcore.http11 - DEBUG - send_request_body.complete
2026-01-07 14:31:39,766 - httpcore.http11 - DEBUG - receive_response_headers.started request=<Request [b'POST']>
2026-01-07 14:31:39,766 - VideoStreamIngestor - DEBUG - Process loop: Frame got from process loop queue for io_id=9856d608
2026-01-07 14:31:39,773 - VideoStreamIngestor - INFO - LLM inference prompt: output an update to say hello for task number 0 in the notes and take the action of opening the door
2026-01-07 14:31:39,774 - google_genai.models - INFO - AFC is enabled with max remote calls: 10.
2026-01-07 14:31:39,776 - httpcore.http11 - DEBUG - send_request_headers.started request=<Request [b'POST']>
2026-01-07 14:31:39,776 - httpcore.http11 - DEBUG - send_request_headers.complete
2026-01-07 14:31:39,776 - httpcore.http11 - DEBUG - send_request_body.started request=<Request [b'POST']>
2026-01-07 14:31:39,777 - httpcore.http11 - DEBUG - send_request_body.complete
2026-01-07 14:31:39,777 - httpcore.http11 - DEBUG - receive_response_headers.started request=<Request [b'POST']>
2026-01-07 14:31:41,700 - httpcore.http11 - DEBUG - receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'Content-Type', b'application/json; charset=UTF-8'), (b'Vary', b'Origin'), (b'Vary', b'X-Origin'), (b'Vary', b'Referer'), (b'Content-Encoding', b'gzip'), (b'Date', b'Wed, 07 Jan 2026 22:31:41 GMT'), (b'Server', b'scaffolding on HTTPServer2'), (b'X-XSS-Protection', b'0'), (b'X-Frame-Options', b'SAMEORIGIN'), (b'X-Content-Type-Options', b'nosniff'), (b'Server-Timing', b'gfet4t7; dur=1837'), (b'Alt-Svc', b'h3=":443"; ma=2592000,h3-29=":443"; ma=2592000'), (b'Transfer-Encoding', b'chunked')])
2026-01-07 14:31:41,701 - httpx - INFO - HTTP Request: POST https://generativelanguage.googleapis.com/v1beta/models/gemini-2.0-flash:generateContent "HTTP/1.1 200 OK"
2026-01-07 14:31:41,701 - httpcore.http11 - DEBUG - receive_response_body.started request=<Request [b'POST']>
2026-01-07 14:31:41,701 - httpcore.http11 - DEBUG - receive_response_body.complete
2026-01-07 14:31:41,701 - httpcore.http11 - DEBUG - response_closed.started
2026-01-07 14:31:41,701 - httpcore.http11 - DEBUG - response_closed.complete
2026-01-07 14:31:41,702 - VideoStreamIngestor - INFO - LLM inference output: task_updates=[TaskUpdate(task_number=0, task_note='hello', task_done=False)] system_actions=[SystemAction(take_action='opening the door')]
2026-01-07 14:31:41,703 - httpcore.http11 - DEBUG - receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'Content-Type', b'application/json; charset=UTF-8'), (b'Vary', b'Origin'), (b'Vary', b'X-Origin'), (b'Vary', b'Referer'), (b'Content-Encoding', b'gzip'), (b'Date', b'Wed, 07 Jan 2026 22:31:40 GMT'), (b'Server', b'scaffolding on HTTPServer2'), (b'X-XSS-Protection', b'0'), (b'X-Frame-Options', b'SAMEORIGIN'), (b'X-Content-Type-Options', b'nosniff'), (b'Server-Timing', b'gfet4t7; dur=381'), (b'Alt-Svc', b'h3=":443"; ma=2592000,h3-29=":443"; ma=2592000'), (b'Transfer-Encoding', b'chunked')])
2026-01-07 14:31:41,703 - httpx - INFO - HTTP Request: POST https://generativelanguage.googleapis.com/v1beta/models/gemini-2.0-flash:generateContent "HTTP/1.1 200 OK"
2026-01-07 14:31:41,703 - httpcore.http11 - DEBUG - receive_response_body.started request=<Request [b'POST']>
2026-01-07 14:31:41,703 - httpcore.http11 - DEBUG - receive_response_body.complete
2026-01-07 14:31:41,703 - httpcore.http11 - DEBUG - response_closed.started
2026-01-07 14:31:41,730 - httpcore.http11 - DEBUG - response_closed.complete
2026-01-07 14:31:41,731 - google_adk.google.adk.models.google_llm - INFO - Response received from the model.
2026-01-07 14:31:41,731 - google_adk.google.adk.models.google_llm - DEBUG - 
LLM Response:
-----------------------------------------------------------
Text:
Which door would you like to open?

-----------------------------------------------------------
Function calls:

-----------------------------------------------------------
Raw response:
{"sdk_http_response":{"headers":{"content-type":"application/json; charset=UTF-8","vary":"Origin, X-Origin, Referer","content-encoding":"gzip","date":"Wed, 07 Jan 2026 22:31:40 GMT","server":"scaffolding on HTTPServer2","x-xss-protection":"0","x-frame-options":"SAMEORIGIN","x-content-type-options":"nosniff","server-timing":"gfet4t7; dur=381","alt-svc":"h3=\":443\"; ma=2592000,h3-29=\":443\"; ma=2592000","transfer-encoding":"chunked"}},"candidates":[{"content":{"parts":[{"text":"Which door would you like to open?\n"}],"role":"model"},"finish_reason":"STOP","avg_logprobs":-0.00005424650023794836}],"model_version":"gemini-2.0-flash","response_id":"y95eabmKMrePjMcPp6W4wQQ","usage_metadata":{"candidates_token_count":9,"candidates_tokens_details":[{"modality":"TEXT","token_count":9}],"prompt_token_count":1090,"prompt_tokens_details":[{"modality":"TEXT","token_count":1090}],"total_token_count":1099}}
-----------------------------------------------------------

2026-01-07 14:31:41,731 - VideoStreamIngestor - INFO - Action result: Which door would you like to open?

2026-01-07 14:31:41,732 - VideoStreamIngestor - DEBUG - Action loop: Action Open the door got from action loop queue for io_id=9856d608
2026-01-07 14:31:41,746 - google_adk.google.adk.models.google_llm - INFO - Sending out request, model: gemini-2.0-flash, backend: GoogleLLMVariant.GEMINI_API, stream: False
2026-01-07 14:31:41,746 - google_adk.google.adk.models.google_llm - DEBUG - 
LLM Request:
-----------------------------------------------------------
System Instruction:
You are a helpful and friendly system administrator. Be concise and clear in your responses. You have access to tools that can help you check available input devices on the system and manage tasks. When a user requests a task that requires an input device, you should automatically call list_input_devices_with_ids to find the appropriate device and its io_id. Do not ask the user for io_ids - always retrieve them yourself using the available tools. When selecting a device, prefer video cameras (camera category) when possible. Once you have the io_id, use add_task with the io_id to create tasks. Use list_tasks to view all tasks (optionally filtered by io_id). When a user asks a question about a task, first call list_tasks to find the relevant task_id, then call get_info_on ONCE with that task_id to get detailed information. Do not call get_info_on multiple times for the same task_id. Use remove_task to delete a task by its task_id. Use edit_task to update a task's description. This is especially useful when a user wants to amend an existing task, for example, to add an action to be triggered when a condition is met. When editing a task, preserve the original detection part and add the new action requirement. For example, if a task is 'Count claps' and the user wants to send an email when claps reach 1, edit it to 'Count claps and when it reaches 1 send email to [email]'. You can also use take_output_action to execute various actions like sending emails, opening/closing doors, or controlling lights by providing a natural language description of the action. IMPORTANT: When a user requests an action to be triggered based on a video feed event (e.g., 'send me an email when I clap', 'turn on lights when I wave'), you have two options: 1. If a relevant task already exists (e.g., 'Count claps'), use edit_task to amend it with the action. 2. If no relevant task exists, add a NEW task that combines both the detection and the action. 

You are an agent. Your internal name is "system_administrator". The description about you is "A helpful system administrator. It controls the system on behalf of the user.".
-----------------------------------------------------------
Config:
{'http_options': {'headers': {'x-goog-api-client': 'google-adk/1.21.0 gl-python/3.13.5', 'user-agent': 'google-adk/1.21.0 gl-python/3.13.5'}}, 'tools': [{}]}
-----------------------------------------------------------
Contents:
{"parts":[{"text":"Execute this action: Open the door"}],"role":"user"}
{"parts":[{"function_call":{"args":{"request":"Open the door"},"name":"action_router"}}],"role":"model"}
{"parts":[{"function_response":{"name":"action_router","response":{"result":"Which door do you want to open?"}}}],"role":"user"}
{"parts":[{"text":"Which door do you want to open?\n"}],"role":"model"}
{"parts":[{"text":"Execute this action: open the door"}],"role":"user"}
{"parts":[{"function_call":{"args":{"request":"open the door"},"name":"action_router"}}],"role":"model"}
{"parts":[{"function_response":{"name":"action_router","response":{"result":"Which door do you want to open?"}}}],"role":"user"}
{"parts":[{"text":"Which door do you want to open?\n"}],"role":"model"}
{"parts":[{"text":"Execute this action: Open the door"}],"role":"user"}
{"parts":[{"function_call":{"args":{"request":"Open the door"},"name":"action_router"}}],"role":"model"}
{"parts":[{"function_response":{"name":"action_router","response":{"result":"Which door would you like to open?"}}}],"role":"user"}
{"parts":[{"text":"Which door would you like to open?\n"}],"role":"model"}
{"parts":[{"text":"Execute this action: Open the door"}],"role":"user"}
{"parts":[{"function_call":{"args":{"request":"Open the door"},"name":"action_router"}}],"role":"model"}
{"parts":[{"function_response":{"name":"action_router","response":{"result":"Which door would you like to open?"}}}],"role":"user"}
{"parts":[{"text":"Which door would you like to open?\n"}],"role":"model"}
{"parts":[{"text":"Execute this action: Open the door"}],"role":"user"}
-----------------------------------------------------------
Functions:
list_input_devices_with_ids: {} 
add_task: {'io_id': {'type': <Type.STRING: 'STRING'>}, 'task_description': {'type': <Type.STRING: 'STRING'>}} 
list_tasks: {'io_id': {'nullable': True, 'type': <Type.STRING: 'STRING'>}} 
get_info_on: {'task_id': {'type': <Type.STRING: 'STRING'>}} 
remove_task: {'task_id': {'type': <Type.STRING: 'STRING'>}} 
edit_task: {'task_id': {'type': <Type.STRING: 'STRING'>}, 'new_description': {'type': <Type.STRING: 'STRING'>}} 
action_router: {'request': {'type': <Type.STRING: 'STRING'>}} 
-----------------------------------------------------------

2026-01-07 14:31:41,750 - VideoStreamIngestor - DEBUG - Process loop: Frame got from process loop queue for io_id=9856d608
2026-01-07 14:31:41,756 - VideoStreamIngestor - INFO - LLM inference prompt: output an update to say hello for task number 0 in the notes and take the action of opening the door
2026-01-07 14:31:41,757 - google_genai.models - INFO - AFC is enabled with max remote calls: 10.
2026-01-07 14:31:41,759 - httpcore.http11 - DEBUG - send_request_headers.started request=<Request [b'POST']>
2026-01-07 14:31:41,759 - httpcore.http11 - DEBUG - send_request_headers.complete
2026-01-07 14:31:41,759 - httpcore.http11 - DEBUG - send_request_body.started request=<Request [b'POST']>
2026-01-07 14:31:41,760 - httpcore.http11 - DEBUG - send_request_body.complete
2026-01-07 14:31:41,760 - httpcore.http11 - DEBUG - receive_response_headers.started request=<Request [b'POST']>
2026-01-07 14:31:43,610 - httpcore.http11 - DEBUG - receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'Content-Type', b'application/json; charset=UTF-8'), (b'Vary', b'Origin'), (b'Vary', b'X-Origin'), (b'Vary', b'Referer'), (b'Content-Encoding', b'gzip'), (b'Date', b'Wed, 07 Jan 2026 22:31:43 GMT'), (b'Server', b'scaffolding on HTTPServer2'), (b'X-XSS-Protection', b'0'), (b'X-Frame-Options', b'SAMEORIGIN'), (b'X-Content-Type-Options', b'nosniff'), (b'Server-Timing', b'gfet4t7; dur=1839'), (b'Alt-Svc', b'h3=":443"; ma=2592000,h3-29=":443"; ma=2592000'), (b'Transfer-Encoding', b'chunked')])
2026-01-07 14:31:43,611 - httpx - INFO - HTTP Request: POST https://generativelanguage.googleapis.com/v1beta/models/gemini-2.0-flash:generateContent "HTTP/1.1 200 OK"
2026-01-07 14:31:43,611 - httpcore.http11 - DEBUG - receive_response_body.started request=<Request [b'POST']>
2026-01-07 14:31:43,611 - httpcore.http11 - DEBUG - receive_response_body.complete
2026-01-07 14:31:43,611 - httpcore.http11 - DEBUG - response_closed.started
2026-01-07 14:31:43,611 - httpcore.http11 - DEBUG - response_closed.complete
2026-01-07 14:31:43,612 - VideoStreamIngestor - INFO - LLM inference output: task_updates=[TaskUpdate(task_number=0, task_note='Say hello', task_done=True)] system_actions=[SystemAction(take_action='Open the door')]
2026-01-07 14:31:43,612 - httpcore.connection - DEBUG - connect_tcp.started host='generativelanguage.googleapis.com' port=443 local_address=None timeout=None socket_options=None
2026-01-07 14:31:43,632 - httpcore.connection - DEBUG - close.started
2026-01-07 14:31:43,632 - VideoStreamIngestor - DEBUG - Process loop: Frame got from process loop queue for io_id=9856d608
2026-01-07 14:31:43,639 - VideoStreamIngestor - INFO - LLM inference prompt: output an update to say hello for task number 0 in the notes and take the action of opening the door
2026-01-07 14:31:43,640 - google_genai.models - INFO - AFC is enabled with max remote calls: 10.
2026-01-07 14:31:43,643 - httpcore.http11 - DEBUG - send_request_headers.started request=<Request [b'POST']>
2026-01-07 14:31:43,643 - httpcore.http11 - DEBUG - send_request_headers.complete
2026-01-07 14:31:43,643 - httpcore.http11 - DEBUG - send_request_body.started request=<Request [b'POST']>
2026-01-07 14:31:43,644 - httpcore.http11 - DEBUG - send_request_body.complete
2026-01-07 14:31:43,644 - httpcore.http11 - DEBUG - receive_response_headers.started request=<Request [b'POST']>
2026-01-07 14:31:45,297 - httpcore.http11 - DEBUG - receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'Content-Type', b'application/json; charset=UTF-8'), (b'Vary', b'Origin'), (b'Vary', b'X-Origin'), (b'Vary', b'Referer'), (b'Content-Encoding', b'gzip'), (b'Date', b'Wed, 07 Jan 2026 22:31:45 GMT'), (b'Server', b'scaffolding on HTTPServer2'), (b'X-XSS-Protection', b'0'), (b'X-Frame-Options', b'SAMEORIGIN'), (b'X-Content-Type-Options', b'nosniff'), (b'Server-Timing', b'gfet4t7; dur=1647'), (b'Alt-Svc', b'h3=":443"; ma=2592000,h3-29=":443"; ma=2592000'), (b'Transfer-Encoding', b'chunked')])
2026-01-07 14:31:45,298 - httpx - INFO - HTTP Request: POST https://generativelanguage.googleapis.com/v1beta/models/gemini-2.0-flash:generateContent "HTTP/1.1 200 OK"
2026-01-07 14:31:45,298 - httpcore.http11 - DEBUG - receive_response_body.started request=<Request [b'POST']>
2026-01-07 14:31:45,299 - httpcore.http11 - DEBUG - receive_response_body.complete
2026-01-07 14:31:45,299 - httpcore.http11 - DEBUG - response_closed.started
2026-01-07 14:31:45,300 - httpcore.http11 - DEBUG - response_closed.complete
2026-01-07 14:31:45,301 - VideoStreamIngestor - INFO - LLM inference output: task_updates=[TaskUpdate(task_number=0, task_note='say hello', task_done=True)] system_actions=[SystemAction(take_action='opening the door')]
2026-01-07 14:31:45,302 - httpcore.connection - DEBUG - close.complete
2026-01-07 14:31:45,317 - VideoStreamIngestor - DEBUG - Process loop: Frame got from process loop queue for io_id=9856d608
2026-01-07 14:31:45,331 - VideoStreamIngestor - INFO - LLM inference prompt: output an update to say hello for task number 0 in the notes and take the action of opening the door
2026-01-07 14:31:45,332 - google_genai.models - INFO - AFC is enabled with max remote calls: 10.
2026-01-07 14:31:45,335 - httpcore.http11 - DEBUG - send_request_headers.started request=<Request [b'POST']>
2026-01-07 14:31:45,336 - httpcore.http11 - DEBUG - send_request_headers.complete
2026-01-07 14:31:45,336 - httpcore.http11 - DEBUG - send_request_body.started request=<Request [b'POST']>
2026-01-07 14:31:45,337 - httpcore.http11 - DEBUG - send_request_body.complete
2026-01-07 14:31:45,337 - httpcore.http11 - DEBUG - receive_response_headers.started request=<Request [b'POST']>
2026-01-07 14:31:47,032 - httpcore.http11 - DEBUG - receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'Content-Type', b'application/json; charset=UTF-8'), (b'Vary', b'Origin'), (b'Vary', b'X-Origin'), (b'Vary', b'Referer'), (b'Content-Encoding', b'gzip'), (b'Date', b'Wed, 07 Jan 2026 22:31:47 GMT'), (b'Server', b'scaffolding on HTTPServer2'), (b'X-XSS-Protection', b'0'), (b'X-Frame-Options', b'SAMEORIGIN'), (b'X-Content-Type-Options', b'nosniff'), (b'Server-Timing', b'gfet4t7; dur=1683'), (b'Alt-Svc', b'h3=":443"; ma=2592000,h3-29=":443"; ma=2592000'), (b'Transfer-Encoding', b'chunked')])
2026-01-07 14:31:47,033 - httpx - INFO - HTTP Request: POST https://generativelanguage.googleapis.com/v1beta/models/gemini-2.0-flash:generateContent "HTTP/1.1 200 OK"
2026-01-07 14:31:47,033 - httpcore.http11 - DEBUG - receive_response_body.started request=<Request [b'POST']>
2026-01-07 14:31:47,033 - httpcore.http11 - DEBUG - receive_response_body.complete
2026-01-07 14:31:47,033 - httpcore.http11 - DEBUG - response_closed.started
2026-01-07 14:31:47,033 - httpcore.http11 - DEBUG - response_closed.complete
2026-01-07 14:31:47,035 - VideoStreamIngestor - INFO - LLM inference output: task_updates=[TaskUpdate(task_number=0, task_note='hello', task_done=False)] system_actions=[SystemAction(take_action='opening the door')]
2026-01-07 14:31:47,035 - httpcore.connection - DEBUG - connect_tcp.complete return_value=<httpcore._backends.anyio.AnyIOStream object at 0x1362a9c70>
2026-01-07 14:31:47,035 - httpcore.connection - DEBUG - start_tls.started ssl_context=<ssl.SSLContext object at 0x13408d7f0> server_hostname='generativelanguage.googleapis.com' timeout=None
2026-01-07 14:31:47,049 - VideoStreamIngestor - DEBUG - Process loop: Frame got from process loop queue for io_id=9856d608
2026-01-07 14:31:47,061 - VideoStreamIngestor - INFO - LLM inference prompt: output an update to say hello for task number 0 in the notes and take the action of opening the door
2026-01-07 14:31:47,062 - google_genai.models - INFO - AFC is enabled with max remote calls: 10.
2026-01-07 14:31:47,066 - httpcore.http11 - DEBUG - send_request_headers.started request=<Request [b'POST']>
2026-01-07 14:31:47,066 - httpcore.http11 - DEBUG - send_request_headers.complete
2026-01-07 14:31:47,066 - httpcore.http11 - DEBUG - send_request_body.started request=<Request [b'POST']>
2026-01-07 14:31:47,067 - httpcore.http11 - DEBUG - send_request_body.complete
2026-01-07 14:31:47,067 - httpcore.http11 - DEBUG - receive_response_headers.started request=<Request [b'POST']>
2026-01-07 14:31:48,694 - httpcore.http11 - DEBUG - receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'Content-Type', b'application/json; charset=UTF-8'), (b'Vary', b'Origin'), (b'Vary', b'X-Origin'), (b'Vary', b'Referer'), (b'Content-Encoding', b'gzip'), (b'Date', b'Wed, 07 Jan 2026 22:31:48 GMT'), (b'Server', b'scaffolding on HTTPServer2'), (b'X-XSS-Protection', b'0'), (b'X-Frame-Options', b'SAMEORIGIN'), (b'X-Content-Type-Options', b'nosniff'), (b'Server-Timing', b'gfet4t7; dur=1546'), (b'Alt-Svc', b'h3=":443"; ma=2592000,h3-29=":443"; ma=2592000'), (b'Transfer-Encoding', b'chunked')])
2026-01-07 14:31:48,695 - httpx - INFO - HTTP Request: POST https://generativelanguage.googleapis.com/v1beta/models/gemini-2.0-flash:generateContent "HTTP/1.1 200 OK"
2026-01-07 14:31:48,695 - httpcore.http11 - DEBUG - receive_response_body.started request=<Request [b'POST']>
2026-01-07 14:31:48,696 - httpcore.http11 - DEBUG - receive_response_body.complete
2026-01-07 14:31:48,696 - httpcore.http11 - DEBUG - response_closed.started
2026-01-07 14:31:48,696 - httpcore.http11 - DEBUG - response_closed.complete
2026-01-07 14:31:48,698 - VideoStreamIngestor - INFO - LLM inference output: task_updates=[TaskUpdate(task_number=0, task_note='Say hello', task_done=False)] system_actions=[SystemAction(take_action='Open the door')]
2026-01-07 14:31:48,719 - httpcore.connection - DEBUG - connect_tcp.complete return_value=<httpcore._backends.anyio.AnyIOStream object at 0x1362a9360>
2026-01-07 14:31:48,719 - httpcore.connection - DEBUG - start_tls.started ssl_context=<ssl.SSLContext object at 0x1219fc440> server_hostname='generativelanguage.googleapis.com' timeout=None
2026-01-07 14:31:48,720 - httpcore.connection - DEBUG - start_tls.complete return_value=<httpcore._backends.anyio.AnyIOStream object at 0x1219bb9d0>
2026-01-07 14:31:48,721 - VideoStreamIngestor - DEBUG - Process loop: Frame got from process loop queue for io_id=9856d608
2026-01-07 14:31:48,736 - VideoStreamIngestor - INFO - LLM inference prompt: output an update to say hello for task number 0 in the notes and take the action of opening the door
2026-01-07 14:31:48,738 - google_genai.models - INFO - AFC is enabled with max remote calls: 10.
2026-01-07 14:31:48,742 - httpcore.http11 - DEBUG - send_request_headers.started request=<Request [b'POST']>
2026-01-07 14:31:48,742 - httpcore.http11 - DEBUG - send_request_headers.complete
2026-01-07 14:31:48,742 - httpcore.http11 - DEBUG - send_request_body.started request=<Request [b'POST']>
2026-01-07 14:31:48,743 - httpcore.http11 - DEBUG - send_request_body.complete
2026-01-07 14:31:48,743 - httpcore.http11 - DEBUG - receive_response_headers.started request=<Request [b'POST']>
2026-01-07 14:31:50,347 - httpcore.http11 - DEBUG - receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'Content-Type', b'application/json; charset=UTF-8'), (b'Vary', b'Origin'), (b'Vary', b'X-Origin'), (b'Vary', b'Referer'), (b'Content-Encoding', b'gzip'), (b'Date', b'Wed, 07 Jan 2026 22:31:50 GMT'), (b'Server', b'scaffolding on HTTPServer2'), (b'X-XSS-Protection', b'0'), (b'X-Frame-Options', b'SAMEORIGIN'), (b'X-Content-Type-Options', b'nosniff'), (b'Server-Timing', b'gfet4t7; dur=1597'), (b'Alt-Svc', b'h3=":443"; ma=2592000,h3-29=":443"; ma=2592000'), (b'Transfer-Encoding', b'chunked')])
2026-01-07 14:31:50,348 - httpx - INFO - HTTP Request: POST https://generativelanguage.googleapis.com/v1beta/models/gemini-2.0-flash:generateContent "HTTP/1.1 200 OK"
2026-01-07 14:31:50,348 - httpcore.http11 - DEBUG - receive_response_body.started request=<Request [b'POST']>
2026-01-07 14:31:50,349 - httpcore.http11 - DEBUG - receive_response_body.complete
2026-01-07 14:31:50,350 - httpcore.http11 - DEBUG - response_closed.started
2026-01-07 14:31:50,350 - httpcore.http11 - DEBUG - response_closed.complete
2026-01-07 14:31:50,351 - VideoStreamIngestor - INFO - LLM inference output: task_updates=[TaskUpdate(task_number=0, task_note='Hello', task_done=False)] system_actions=[SystemAction(take_action='Open the door')]
2026-01-07 14:31:50,353 - httpcore.http11 - DEBUG - send_request_headers.started request=<Request [b'POST']>
2026-01-07 14:31:50,353 - httpcore.http11 - DEBUG - send_request_headers.complete
2026-01-07 14:31:50,353 - httpcore.http11 - DEBUG - send_request_body.started request=<Request [b'POST']>
2026-01-07 14:31:50,387 - httpcore.http11 - DEBUG - send_request_body.complete
2026-01-07 14:31:50,387 - httpcore.http11 - DEBUG - receive_response_headers.started request=<Request [b'POST']>
2026-01-07 14:31:50,388 - VideoStreamIngestor - DEBUG - Process loop: Frame got from process loop queue for io_id=9856d608
2026-01-07 14:31:50,403 - VideoStreamIngestor - INFO - LLM inference prompt: output an update to say hello for task number 0 in the notes and take the action of opening the door
2026-01-07 14:31:50,404 - google_genai.models - INFO - AFC is enabled with max remote calls: 10.
2026-01-07 14:31:50,408 - httpcore.http11 - DEBUG - send_request_headers.started request=<Request [b'POST']>
2026-01-07 14:31:50,408 - httpcore.http11 - DEBUG - send_request_headers.complete
2026-01-07 14:31:50,408 - httpcore.http11 - DEBUG - send_request_body.started request=<Request [b'POST']>
2026-01-07 14:31:50,410 - httpcore.http11 - DEBUG - send_request_body.complete
2026-01-07 14:31:50,410 - httpcore.http11 - DEBUG - receive_response_headers.started request=<Request [b'POST']>
2026-01-07 14:31:52,175 - httpcore.http11 - DEBUG - receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'Content-Type', b'application/json; charset=UTF-8'), (b'Vary', b'Origin'), (b'Vary', b'X-Origin'), (b'Vary', b'Referer'), (b'Content-Encoding', b'gzip'), (b'Date', b'Wed, 07 Jan 2026 22:31:52 GMT'), (b'Server', b'scaffolding on HTTPServer2'), (b'X-XSS-Protection', b'0'), (b'X-Frame-Options', b'SAMEORIGIN'), (b'X-Content-Type-Options', b'nosniff'), (b'Server-Timing', b'gfet4t7; dur=1734'), (b'Alt-Svc', b'h3=":443"; ma=2592000,h3-29=":443"; ma=2592000'), (b'Transfer-Encoding', b'chunked')])
2026-01-07 14:31:52,176 - httpx - INFO - HTTP Request: POST https://generativelanguage.googleapis.com/v1beta/models/gemini-2.0-flash:generateContent "HTTP/1.1 200 OK"
2026-01-07 14:31:52,176 - httpcore.http11 - DEBUG - receive_response_body.started request=<Request [b'POST']>
2026-01-07 14:31:52,177 - httpcore.http11 - DEBUG - receive_response_body.complete
2026-01-07 14:31:52,177 - httpcore.http11 - DEBUG - response_closed.started
2026-01-07 14:31:52,178 - httpcore.http11 - DEBUG - response_closed.complete
2026-01-07 14:31:52,179 - VideoStreamIngestor - INFO - LLM inference output: task_updates=[TaskUpdate(task_number=0, task_note='Say hello', task_done=False)] system_actions=[SystemAction(take_action='Open the door')]
2026-01-07 14:31:52,183 - httpcore.http11 - DEBUG - receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'Content-Type', b'application/json; charset=UTF-8'), (b'Vary', b'Origin'), (b'Vary', b'X-Origin'), (b'Vary', b'Referer'), (b'Content-Encoding', b'gzip'), (b'Date', b'Wed, 07 Jan 2026 22:31:50 GMT'), (b'Server', b'scaffolding on HTTPServer2'), (b'X-XSS-Protection', b'0'), (b'X-Frame-Options', b'SAMEORIGIN'), (b'X-Content-Type-Options', b'nosniff'), (b'Server-Timing', b'gfet4t7; dur=521'), (b'Alt-Svc', b'h3=":443"; ma=2592000,h3-29=":443"; ma=2592000'), (b'Transfer-Encoding', b'chunked')])
2026-01-07 14:31:52,184 - httpx - INFO - HTTP Request: POST https://generativelanguage.googleapis.com/v1beta/models/gemini-2.0-flash:generateContent "HTTP/1.1 200 OK"
2026-01-07 14:31:52,184 - httpcore.http11 - DEBUG - receive_response_body.started request=<Request [b'POST']>
2026-01-07 14:31:52,184 - httpcore.http11 - DEBUG - receive_response_body.complete
2026-01-07 14:31:52,184 - httpcore.http11 - DEBUG - response_closed.started
2026-01-07 14:31:52,226 - httpcore.connection - DEBUG - start_tls.complete return_value=<httpcore._backends.anyio.AnyIOStream object at 0x1362ab8e0>
2026-01-07 14:31:52,226 - httpcore.http11 - DEBUG - response_closed.complete
2026-01-07 14:31:52,227 - google_adk.google.adk.models.google_llm - INFO - Response received from the model.
2026-01-07 14:31:52,227 - google_adk.google.adk.models.google_llm - DEBUG - 
LLM Response:
-----------------------------------------------------------
Text:
I do not have the number of claps yet. The task is pending.

-----------------------------------------------------------
Function calls:

-----------------------------------------------------------
Raw response:
{"sdk_http_response":{"headers":{"content-type":"application/json; charset=UTF-8","vary":"Origin, X-Origin, Referer","content-encoding":"gzip","date":"Wed, 07 Jan 2026 22:31:50 GMT","server":"scaffolding on HTTPServer2","x-xss-protection":"0","x-frame-options":"SAMEORIGIN","x-content-type-options":"nosniff","server-timing":"gfet4t7; dur=521","alt-svc":"h3=\":443\"; ma=2592000,h3-29=\":443\"; ma=2592000","transfer-encoding":"chunked"}},"candidates":[{"content":{"parts":[{"text":"I do not have the number of claps yet. The task is pending.\n"}],"role":"model"},"finish_reason":"STOP","avg_logprobs":-0.314122760997099}],"model_version":"gemini-2.0-flash","response_id":"1t5eaeyyGpXVjMcPstm00AQ","usage_metadata":{"candidates_token_count":17,"candidates_tokens_details":[{"modality":"TEXT","token_count":17}],"prompt_token_count":1728,"prompt_tokens_details":[{"modality":"TEXT","token_count":1728}],"total_token_count":1745}}
-----------------------------------------------------------

2026-01-07 14:31:52,228 - VideoStreamIngestor - DEBUG - Process loop: Frame got from process loop queue for io_id=9856d608
2026-01-07 14:31:52,241 - VideoStreamIngestor - INFO - LLM inference prompt: output an update to say hello for task number 0 in the notes and take the action of opening the door
2026-01-07 14:31:52,242 - google_genai.models - INFO - AFC is enabled with max remote calls: 10.
2026-01-07 14:31:52,246 - httpcore.http11 - DEBUG - send_request_headers.started request=<Request [b'POST']>
2026-01-07 14:31:52,246 - httpcore.http11 - DEBUG - send_request_headers.complete
2026-01-07 14:31:52,246 - httpcore.http11 - DEBUG - send_request_body.started request=<Request [b'POST']>
2026-01-07 14:31:52,247 - httpcore.http11 - DEBUG - send_request_body.complete
2026-01-07 14:31:52,247 - httpcore.http11 - DEBUG - receive_response_headers.started request=<Request [b'POST']>
2026-01-07 14:31:53,999 - httpcore.http11 - DEBUG - receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'Content-Type', b'application/json; charset=UTF-8'), (b'Vary', b'Origin'), (b'Vary', b'X-Origin'), (b'Vary', b'Referer'), (b'Content-Encoding', b'gzip'), (b'Date', b'Wed, 07 Jan 2026 22:31:53 GMT'), (b'Server', b'scaffolding on HTTPServer2'), (b'X-XSS-Protection', b'0'), (b'X-Frame-Options', b'SAMEORIGIN'), (b'X-Content-Type-Options', b'nosniff'), (b'Server-Timing', b'gfet4t7; dur=1744'), (b'Alt-Svc', b'h3=":443"; ma=2592000,h3-29=":443"; ma=2592000'), (b'Transfer-Encoding', b'chunked')])
2026-01-07 14:31:54,000 - httpx - INFO - HTTP Request: POST https://generativelanguage.googleapis.com/v1beta/models/gemini-2.0-flash:generateContent "HTTP/1.1 200 OK"
2026-01-07 14:31:54,001 - httpcore.http11 - DEBUG - receive_response_body.started request=<Request [b'POST']>
2026-01-07 14:31:54,001 - httpcore.http11 - DEBUG - receive_response_body.complete
2026-01-07 14:31:54,001 - httpcore.http11 - DEBUG - response_closed.started
2026-01-07 14:31:54,002 - httpcore.http11 - DEBUG - response_closed.complete
2026-01-07 14:31:54,003 - VideoStreamIngestor - INFO - LLM inference output: task_updates=[TaskUpdate(task_number=0, task_note='say hello', task_done=True)] system_actions=[SystemAction(take_action='open the door')]
2026-01-07 14:31:54,003 - httpcore.http11 - DEBUG - send_request_headers.started request=<Request [b'POST']>
2026-01-07 14:31:54,004 - httpcore.http11 - DEBUG - send_request_headers.complete
2026-01-07 14:31:54,004 - httpcore.http11 - DEBUG - send_request_body.started request=<Request [b'POST']>
2026-01-07 14:31:54,029 - httpcore.http11 - DEBUG - send_request_body.complete
2026-01-07 14:31:54,030 - httpcore.http11 - DEBUG - receive_response_headers.started request=<Request [b'POST']>
2026-01-07 14:31:54,030 - httpcore.connection - DEBUG - close.started
2026-01-07 14:31:54,031 - VideoStreamIngestor - DEBUG - Process loop: Frame got from process loop queue for io_id=9856d608
2026-01-07 14:31:54,046 - VideoStreamIngestor - INFO - LLM inference prompt: output an update to say hello for task number 0 in the notes and take the action of opening the door
2026-01-07 14:31:54,047 - google_genai.models - INFO - AFC is enabled with max remote calls: 10.
2026-01-07 14:31:54,051 - httpcore.http11 - DEBUG - send_request_headers.started request=<Request [b'POST']>
2026-01-07 14:31:54,051 - httpcore.http11 - DEBUG - send_request_headers.complete
2026-01-07 14:31:54,051 - httpcore.http11 - DEBUG - send_request_body.started request=<Request [b'POST']>
2026-01-07 14:31:54,052 - httpcore.http11 - DEBUG - send_request_body.complete
2026-01-07 14:31:54,052 - httpcore.http11 - DEBUG - receive_response_headers.started request=<Request [b'POST']>
2026-01-07 14:31:55,602 - httpcore.http11 - DEBUG - receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'Content-Type', b'application/json; charset=UTF-8'), (b'Vary', b'Origin'), (b'Vary', b'X-Origin'), (b'Vary', b'Referer'), (b'Content-Encoding', b'gzip'), (b'Date', b'Wed, 07 Jan 2026 22:31:55 GMT'), (b'Server', b'scaffolding on HTTPServer2'), (b'X-XSS-Protection', b'0'), (b'X-Frame-Options', b'SAMEORIGIN'), (b'X-Content-Type-Options', b'nosniff'), (b'Server-Timing', b'gfet4t7; dur=1543'), (b'Alt-Svc', b'h3=":443"; ma=2592000,h3-29=":443"; ma=2592000'), (b'Transfer-Encoding', b'chunked')])
2026-01-07 14:31:55,603 - httpx - INFO - HTTP Request: POST https://generativelanguage.googleapis.com/v1beta/models/gemini-2.0-flash:generateContent "HTTP/1.1 200 OK"
2026-01-07 14:31:55,603 - httpcore.http11 - DEBUG - receive_response_body.started request=<Request [b'POST']>
2026-01-07 14:31:55,603 - httpcore.http11 - DEBUG - receive_response_body.complete
2026-01-07 14:31:55,603 - httpcore.http11 - DEBUG - response_closed.started
2026-01-07 14:31:55,603 - httpcore.http11 - DEBUG - response_closed.complete
2026-01-07 14:31:55,604 - VideoStreamIngestor - INFO - LLM inference output: task_updates=[TaskUpdate(task_number=0, task_note='say hello', task_done=True)] system_actions=[SystemAction(take_action='open the door')]
2026-01-07 14:31:55,604 - httpcore.connection - DEBUG - close.complete
2026-01-07 14:31:55,605 - httpcore.http11 - DEBUG - receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'Content-Type', b'application/json; charset=UTF-8'), (b'Vary', b'Origin'), (b'Vary', b'X-Origin'), (b'Vary', b'Referer'), (b'Content-Encoding', b'gzip'), (b'Date', b'Wed, 07 Jan 2026 22:31:54 GMT'), (b'Server', b'scaffolding on HTTPServer2'), (b'X-XSS-Protection', b'0'), (b'X-Frame-Options', b'SAMEORIGIN'), (b'X-Content-Type-Options', b'nosniff'), (b'Server-Timing', b'gfet4t7; dur=560'), (b'Alt-Svc', b'h3=":443"; ma=2592000,h3-29=":443"; ma=2592000'), (b'Transfer-Encoding', b'chunked')])
2026-01-07 14:31:55,605 - httpx - INFO - HTTP Request: POST https://generativelanguage.googleapis.com/v1beta/models/gemini-2.0-flash:generateContent "HTTP/1.1 200 OK"
2026-01-07 14:31:55,606 - httpcore.http11 - DEBUG - receive_response_body.started request=<Request [b'POST']>
2026-01-07 14:31:55,606 - httpcore.http11 - DEBUG - receive_response_body.complete
2026-01-07 14:31:55,606 - httpcore.http11 - DEBUG - response_closed.started
2026-01-07 14:31:55,609 - httpcore.http11 - DEBUG - response_closed.complete
2026-01-07 14:31:55,610 - google_adk.google.adk.models.google_llm - INFO - Response received from the model.
2026-01-07 14:31:55,610 - google_adk.google.adk.models.google_llm - DEBUG - 
LLM Response:
-----------------------------------------------------------
Text:
None
-----------------------------------------------------------
Function calls:
name: action_router, args: {'request': 'Open the door'}
-----------------------------------------------------------
Raw response:
{"sdk_http_response":{"headers":{"content-type":"application/json; charset=UTF-8","vary":"Origin, X-Origin, Referer","content-encoding":"gzip","date":"Wed, 07 Jan 2026 22:31:54 GMT","server":"scaffolding on HTTPServer2","x-xss-protection":"0","x-frame-options":"SAMEORIGIN","x-content-type-options":"nosniff","server-timing":"gfet4t7; dur=560","alt-svc":"h3=\":443\"; ma=2592000,h3-29=\":443\"; ma=2592000","transfer-encoding":"chunked"}},"candidates":[{"content":{"parts":[{"function_call":{"args":{"request":"Open the door"},"name":"action_router"}}],"role":"model"},"finish_reason":"STOP","avg_logprobs":-0.0004909875403557505}],"model_version":"gemini-2.0-flash","response_id":"2t5eaZ7KBLCTjMcP-pLb2Aw","usage_metadata":{"candidates_token_count":7,"candidates_tokens_details":[{"modality":"TEXT","token_count":7}],"prompt_token_count":1106,"prompt_tokens_details":[{"modality":"TEXT","token_count":1106}],"total_token_count":1113}}
-----------------------------------------------------------

2026-01-07 14:31:55,611 - VideoStreamIngestor - DEBUG - Process loop: Frame got from process loop queue for io_id=9856d608
2026-01-07 14:31:55,617 - VideoStreamIngestor - INFO - LLM inference prompt: output an update to say hello for task number 0 in the notes and take the action of opening the door
2026-01-07 14:31:55,617 - google_genai.models - INFO - AFC is enabled with max remote calls: 10.
2026-01-07 14:31:55,619 - httpcore.http11 - DEBUG - send_request_headers.started request=<Request [b'POST']>
2026-01-07 14:31:55,619 - httpcore.http11 - DEBUG - send_request_headers.complete
2026-01-07 14:31:55,619 - httpcore.http11 - DEBUG - send_request_body.started request=<Request [b'POST']>
2026-01-07 14:31:55,620 - httpcore.http11 - DEBUG - send_request_body.complete
2026-01-07 14:31:55,620 - httpcore.http11 - DEBUG - receive_response_headers.started request=<Request [b'POST']>
2026-01-07 14:31:57,425 - httpcore.http11 - DEBUG - receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'Content-Type', b'application/json; charset=UTF-8'), (b'Vary', b'Origin'), (b'Vary', b'X-Origin'), (b'Vary', b'Referer'), (b'Content-Encoding', b'gzip'), (b'Date', b'Wed, 07 Jan 2026 22:31:57 GMT'), (b'Server', b'scaffolding on HTTPServer2'), (b'X-XSS-Protection', b'0'), (b'X-Frame-Options', b'SAMEORIGIN'), (b'X-Content-Type-Options', b'nosniff'), (b'Server-Timing', b'gfet4t7; dur=1797'), (b'Alt-Svc', b'h3=":443"; ma=2592000,h3-29=":443"; ma=2592000'), (b'Transfer-Encoding', b'chunked')])
2026-01-07 14:31:57,425 - httpx - INFO - HTTP Request: POST https://generativelanguage.googleapis.com/v1beta/models/gemini-2.0-flash:generateContent "HTTP/1.1 200 OK"
2026-01-07 14:31:57,425 - httpcore.http11 - DEBUG - receive_response_body.started request=<Request [b'POST']>
2026-01-07 14:31:57,426 - httpcore.http11 - DEBUG - receive_response_body.complete
2026-01-07 14:31:57,426 - httpcore.http11 - DEBUG - response_closed.started
2026-01-07 14:31:57,426 - httpcore.http11 - DEBUG - response_closed.complete
2026-01-07 14:31:57,427 - VideoStreamIngestor - INFO - LLM inference output: task_updates=[TaskUpdate(task_number=0, task_note='Hello!', task_done=False)] system_actions=[SystemAction(take_action='Open the door')]
2026-01-07 14:31:57,447 - google_adk.google.adk.models.google_llm - INFO - Sending out request, model: gemini-2.5-flash, backend: GoogleLLMVariant.GEMINI_API, stream: False
2026-01-07 14:31:57,447 - google_adk.google.adk.models.google_llm - DEBUG - 
LLM Request:
-----------------------------------------------------------
System Instruction:
You are an intelligent action router agent. Your job is to understand action descriptions 
    and route them to the appropriate tool.

    Available tools:
    - send_email: For sending emails. Requires 'to' (email address), optional 'subject', and 'content' (body text).
    - open_door: For opening doors. Requires 'door_name' (e.g., 'front door', 'garage door').
    - close_door: For closing doors. Requires 'door_name'.
    - turn_on_light: For turning on lights. Requires 'light_name'.
    - turn_off_light: For turning off lights. Requires 'light_name'.

    When you receive an action description:
    1. Parse the description to understand the intent
    2. Extract the necessary parameters (email address, door name, etc.)
    3. Call the appropriate tool with the extracted parameters
    4. Return a clear confirmation of what action was taken

    Examples:
    - "send email to example@gmail.com with content hello!" -> call send_email(to="example@gmail.com", content="hello!")
    - "open front door" -> call open_door(door_name="front door")
    - "turn on the living room light" -> call turn_on_light(light_name="living room")
    
    Be smart about extracting parameters from natural language descriptions.

You are an agent. Your internal name is "action_router". The description about you is "An intelligent agent that routes action descriptions to the appropriate action tools.".
-----------------------------------------------------------
Config:
{'http_options': {'headers': {'x-goog-api-client': 'google-adk/1.21.0 gl-python/3.13.5', 'user-agent': 'google-adk/1.21.0 gl-python/3.13.5'}}, 'tools': [{}]}
-----------------------------------------------------------
Contents:
{"parts":[{"text":"Open the door"}],"role":"user"}
-----------------------------------------------------------
Functions:
send_email: {'to': {'type': <Type.STRING: 'STRING'>}, 'subject': {'nullable': True, 'type': <Type.STRING: 'STRING'>}, 'content': {'default': '', 'type': <Type.STRING: 'STRING'>}} 
open_door: {'door_name': {'type': <Type.STRING: 'STRING'>}} 
close_door: {'door_name': {'type': <Type.STRING: 'STRING'>}} 
turn_on_light: {'light_name': {'type': <Type.STRING: 'STRING'>}} 
turn_off_light: {'light_name': {'type': <Type.STRING: 'STRING'>}} 
print_to_user: {'message': {'type': <Type.STRING: 'STRING'>}} 
-----------------------------------------------------------

2026-01-07 14:31:57,448 - httpcore.connection - DEBUG - connect_tcp.started host='generativelanguage.googleapis.com' port=443 local_address=None timeout=None socket_options=None
2026-01-07 14:31:57,475 - VideoStreamIngestor - DEBUG - Process loop: Frame got from process loop queue for io_id=9856d608
2026-01-07 14:31:57,483 - VideoStreamIngestor - INFO - LLM inference prompt: output an update to say hello for task number 0 in the notes and take the action of opening the door
2026-01-07 14:31:57,484 - google_genai.models - INFO - AFC is enabled with max remote calls: 10.
2026-01-07 14:31:57,486 - httpcore.http11 - DEBUG - send_request_headers.started request=<Request [b'POST']>
2026-01-07 14:31:57,487 - httpcore.http11 - DEBUG - send_request_headers.complete
2026-01-07 14:31:57,487 - httpcore.http11 - DEBUG - send_request_body.started request=<Request [b'POST']>
2026-01-07 14:31:57,487 - httpcore.http11 - DEBUG - send_request_body.complete
2026-01-07 14:31:57,487 - httpcore.http11 - DEBUG - receive_response_headers.started request=<Request [b'POST']>
2026-01-07 14:31:59,138 - httpcore.http11 - DEBUG - receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'Content-Type', b'application/json; charset=UTF-8'), (b'Vary', b'Origin'), (b'Vary', b'X-Origin'), (b'Vary', b'Referer'), (b'Content-Encoding', b'gzip'), (b'Date', b'Wed, 07 Jan 2026 22:31:59 GMT'), (b'Server', b'scaffolding on HTTPServer2'), (b'X-XSS-Protection', b'0'), (b'X-Frame-Options', b'SAMEORIGIN'), (b'X-Content-Type-Options', b'nosniff'), (b'Server-Timing', b'gfet4t7; dur=1558'), (b'Alt-Svc', b'h3=":443"; ma=2592000,h3-29=":443"; ma=2592000'), (b'Transfer-Encoding', b'chunked')])
2026-01-07 14:31:59,138 - httpx - INFO - HTTP Request: POST https://generativelanguage.googleapis.com/v1beta/models/gemini-2.0-flash:generateContent "HTTP/1.1 200 OK"
2026-01-07 14:31:59,138 - httpcore.http11 - DEBUG - receive_response_body.started request=<Request [b'POST']>
2026-01-07 14:31:59,139 - httpcore.http11 - DEBUG - receive_response_body.complete
2026-01-07 14:31:59,139 - httpcore.http11 - DEBUG - response_closed.started
2026-01-07 14:31:59,139 - httpcore.http11 - DEBUG - response_closed.complete
2026-01-07 14:31:59,141 - VideoStreamIngestor - INFO - LLM inference output: task_updates=[TaskUpdate(task_number=0, task_note='Say hello.', task_done=True)] system_actions=[SystemAction(take_action='Open the door.')]
2026-01-07 14:31:59,150 - VideoStreamIngestor - DEBUG - Process loop: Frame got from process loop queue for io_id=9856d608
2026-01-07 14:31:59,163 - VideoStreamIngestor - INFO - LLM inference prompt: output an update to say hello for task number 0 in the notes and take the action of opening the door
2026-01-07 14:31:59,164 - google_genai.models - INFO - AFC is enabled with max remote calls: 10.
2026-01-07 14:31:59,168 - httpcore.http11 - DEBUG - send_request_headers.started request=<Request [b'POST']>
2026-01-07 14:31:59,168 - httpcore.http11 - DEBUG - send_request_headers.complete
2026-01-07 14:31:59,168 - httpcore.http11 - DEBUG - send_request_body.started request=<Request [b'POST']>
2026-01-07 14:31:59,169 - httpcore.http11 - DEBUG - send_request_body.complete
2026-01-07 14:31:59,169 - httpcore.http11 - DEBUG - receive_response_headers.started request=<Request [b'POST']>
2026-01-07 14:32:01,083 - httpcore.http11 - DEBUG - receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'Content-Type', b'application/json; charset=UTF-8'), (b'Vary', b'Origin'), (b'Vary', b'X-Origin'), (b'Vary', b'Referer'), (b'Content-Encoding', b'gzip'), (b'Date', b'Wed, 07 Jan 2026 22:32:00 GMT'), (b'Server', b'scaffolding on HTTPServer2'), (b'X-XSS-Protection', b'0'), (b'X-Frame-Options', b'SAMEORIGIN'), (b'X-Content-Type-Options', b'nosniff'), (b'Server-Timing', b'gfet4t7; dur=1768'), (b'Alt-Svc', b'h3=":443"; ma=2592000,h3-29=":443"; ma=2592000'), (b'Transfer-Encoding', b'chunked')])
2026-01-07 14:32:01,084 - httpx - INFO - HTTP Request: POST https://generativelanguage.googleapis.com/v1beta/models/gemini-2.0-flash:generateContent "HTTP/1.1 200 OK"
2026-01-07 14:32:01,084 - httpcore.http11 - DEBUG - receive_response_body.started request=<Request [b'POST']>
2026-01-07 14:32:01,086 - httpcore.http11 - DEBUG - receive_response_body.complete
2026-01-07 14:32:01,086 - httpcore.http11 - DEBUG - response_closed.started
2026-01-07 14:32:01,086 - httpcore.http11 - DEBUG - response_closed.complete
2026-01-07 14:32:01,087 - VideoStreamIngestor - INFO - LLM inference output: task_updates=[TaskUpdate(task_number=0, task_note='say hello', task_done=True)] system_actions=[SystemAction(take_action='opening the door')]
2026-01-07 14:32:01,094 - VideoStreamIngestor - DEBUG - Process loop: Frame got from process loop queue for io_id=9856d608
2026-01-07 14:32:01,108 - VideoStreamIngestor - INFO - LLM inference prompt: output an update to say hello for task number 0 in the notes and take the action of opening the door
2026-01-07 14:32:01,109 - google_genai.models - INFO - AFC is enabled with max remote calls: 10.
2026-01-07 14:32:01,113 - httpcore.http11 - DEBUG - send_request_headers.started request=<Request [b'POST']>
2026-01-07 14:32:01,114 - httpcore.http11 - DEBUG - send_request_headers.complete
2026-01-07 14:32:01,114 - httpcore.http11 - DEBUG - send_request_body.started request=<Request [b'POST']>
2026-01-07 14:32:01,115 - httpcore.http11 - DEBUG - send_request_body.complete
2026-01-07 14:32:01,115 - httpcore.http11 - DEBUG - receive_response_headers.started request=<Request [b'POST']>
2026-01-07 14:32:02,927 - httpcore.http11 - DEBUG - receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'Content-Type', b'application/json; charset=UTF-8'), (b'Vary', b'Origin'), (b'Vary', b'X-Origin'), (b'Vary', b'Referer'), (b'Content-Encoding', b'gzip'), (b'Date', b'Wed, 07 Jan 2026 22:32:02 GMT'), (b'Server', b'scaffolding on HTTPServer2'), (b'X-XSS-Protection', b'0'), (b'X-Frame-Options', b'SAMEORIGIN'), (b'X-Content-Type-Options', b'nosniff'), (b'Server-Timing', b'gfet4t7; dur=1774'), (b'Alt-Svc', b'h3=":443"; ma=2592000,h3-29=":443"; ma=2592000'), (b'Transfer-Encoding', b'chunked')])
2026-01-07 14:32:02,927 - httpx - INFO - HTTP Request: POST https://generativelanguage.googleapis.com/v1beta/models/gemini-2.0-flash:generateContent "HTTP/1.1 200 OK"
2026-01-07 14:32:02,927 - httpcore.http11 - DEBUG - receive_response_body.started request=<Request [b'POST']>
2026-01-07 14:32:02,928 - httpcore.http11 - DEBUG - receive_response_body.complete
2026-01-07 14:32:02,928 - httpcore.http11 - DEBUG - response_closed.started
2026-01-07 14:32:02,928 - httpcore.http11 - DEBUG - response_closed.complete
2026-01-07 14:32:02,928 - VideoStreamIngestor - INFO - LLM inference output: task_updates=[TaskUpdate(task_number=0, task_note='Say hello', task_done=False)] system_actions=[SystemAction(take_action='Open the door')]
2026-01-07 14:32:02,942 - VideoStreamIngestor - DEBUG - Process loop: Frame got from process loop queue for io_id=9856d608
2026-01-07 14:32:02,950 - VideoStreamIngestor - INFO - LLM inference prompt: output an update to say hello for task number 0 in the notes and take the action of opening the door
2026-01-07 14:32:02,951 - google_genai.models - INFO - AFC is enabled with max remote calls: 10.
2026-01-07 14:32:02,954 - httpcore.http11 - DEBUG - send_request_headers.started request=<Request [b'POST']>
2026-01-07 14:32:02,954 - httpcore.http11 - DEBUG - send_request_headers.complete
2026-01-07 14:32:02,954 - httpcore.http11 - DEBUG - send_request_body.started request=<Request [b'POST']>
2026-01-07 14:32:02,955 - httpcore.http11 - DEBUG - send_request_body.complete
2026-01-07 14:32:02,955 - httpcore.http11 - DEBUG - receive_response_headers.started request=<Request [b'POST']>
2026-01-07 14:32:04,890 - httpcore.http11 - DEBUG - receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'Content-Type', b'application/json; charset=UTF-8'), (b'Vary', b'Origin'), (b'Vary', b'X-Origin'), (b'Vary', b'Referer'), (b'Content-Encoding', b'gzip'), (b'Date', b'Wed, 07 Jan 2026 22:32:04 GMT'), (b'Server', b'scaffolding on HTTPServer2'), (b'X-XSS-Protection', b'0'), (b'X-Frame-Options', b'SAMEORIGIN'), (b'X-Content-Type-Options', b'nosniff'), (b'Server-Timing', b'gfet4t7; dur=1929'), (b'Alt-Svc', b'h3=":443"; ma=2592000,h3-29=":443"; ma=2592000'), (b'Transfer-Encoding', b'chunked')])
2026-01-07 14:32:04,891 - httpx - INFO - HTTP Request: POST https://generativelanguage.googleapis.com/v1beta/models/gemini-2.0-flash:generateContent "HTTP/1.1 200 OK"
2026-01-07 14:32:04,891 - httpcore.http11 - DEBUG - receive_response_body.started request=<Request [b'POST']>
2026-01-07 14:32:04,893 - httpcore.http11 - DEBUG - receive_response_body.complete
2026-01-07 14:32:04,893 - httpcore.http11 - DEBUG - response_closed.started
2026-01-07 14:32:04,893 - httpcore.http11 - DEBUG - response_closed.complete
2026-01-07 14:32:04,894 - VideoStreamIngestor - INFO - LLM inference output: task_updates=[TaskUpdate(task_number=0, task_note='Hello!', task_done=False)] system_actions=[SystemAction(take_action='Open the door')]
2026-01-07 14:32:04,894 - httpcore.connection - DEBUG - connect_tcp.complete return_value=<httpcore._backends.anyio.AnyIOStream object at 0x106dfe300>
2026-01-07 14:32:04,894 - httpcore.connection - DEBUG - start_tls.started ssl_context=<ssl.SSLContext object at 0x13408e330> server_hostname='generativelanguage.googleapis.com' timeout=None
2026-01-07 14:32:04,912 - VideoStreamIngestor - DEBUG - Process loop: Frame got from process loop queue for io_id=9856d608
2026-01-07 14:32:04,920 - VideoStreamIngestor - INFO - LLM inference prompt: output an update to say hello for task number 0 in the notes and take the action of opening the door
2026-01-07 14:32:04,921 - google_genai.models - INFO - AFC is enabled with max remote calls: 10.
2026-01-07 14:32:04,923 - httpcore.http11 - DEBUG - send_request_headers.started request=<Request [b'POST']>
2026-01-07 14:32:04,924 - httpcore.http11 - DEBUG - send_request_headers.complete
2026-01-07 14:32:04,924 - httpcore.http11 - DEBUG - send_request_body.started request=<Request [b'POST']>
2026-01-07 14:32:04,924 - httpcore.http11 - DEBUG - send_request_body.complete
2026-01-07 14:32:04,924 - httpcore.http11 - DEBUG - receive_response_headers.started request=<Request [b'POST']>
2026-01-07 14:32:07,023 - httpcore.http11 - DEBUG - receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'Content-Type', b'application/json; charset=UTF-8'), (b'Vary', b'Origin'), (b'Vary', b'X-Origin'), (b'Vary', b'Referer'), (b'Content-Encoding', b'gzip'), (b'Date', b'Wed, 07 Jan 2026 22:32:06 GMT'), (b'Server', b'scaffolding on HTTPServer2'), (b'X-XSS-Protection', b'0'), (b'X-Frame-Options', b'SAMEORIGIN'), (b'X-Content-Type-Options', b'nosniff'), (b'Server-Timing', b'gfet4t7; dur=2012'), (b'Alt-Svc', b'h3=":443"; ma=2592000,h3-29=":443"; ma=2592000'), (b'Transfer-Encoding', b'chunked')])
2026-01-07 14:32:07,023 - httpx - INFO - HTTP Request: POST https://generativelanguage.googleapis.com/v1beta/models/gemini-2.0-flash:generateContent "HTTP/1.1 200 OK"
2026-01-07 14:32:07,023 - httpcore.http11 - DEBUG - receive_response_body.started request=<Request [b'POST']>
2026-01-07 14:32:07,023 - httpcore.http11 - DEBUG - receive_response_body.complete
2026-01-07 14:32:07,023 - httpcore.http11 - DEBUG - response_closed.started
2026-01-07 14:32:07,023 - httpcore.http11 - DEBUG - response_closed.complete
2026-01-07 14:32:07,024 - VideoStreamIngestor - INFO - LLM inference output: task_updates=[TaskUpdate(task_number=0, task_note='Say hello', task_done=False)] system_actions=[SystemAction(take_action='Open the door')]
2026-01-07 14:32:07,042 - httpcore.connection - DEBUG - start_tls.complete return_value=<httpcore._backends.anyio.AnyIOStream object at 0x13626fd40>
2026-01-07 14:32:07,043 - VideoStreamIngestor - DEBUG - Process loop: Frame got from process loop queue for io_id=9856d608
2026-01-07 14:32:07,050 - VideoStreamIngestor - INFO - LLM inference prompt: output an update to say hello for task number 0 in the notes and take the action of opening the door
2026-01-07 14:32:07,051 - google_genai.models - INFO - AFC is enabled with max remote calls: 10.
2026-01-07 14:32:07,054 - httpcore.http11 - DEBUG - send_request_headers.started request=<Request [b'POST']>
2026-01-07 14:32:07,055 - httpcore.http11 - DEBUG - send_request_headers.complete
2026-01-07 14:32:07,055 - httpcore.http11 - DEBUG - send_request_body.started request=<Request [b'POST']>
2026-01-07 14:32:07,055 - httpcore.http11 - DEBUG - send_request_body.complete
2026-01-07 14:32:07,055 - httpcore.http11 - DEBUG - receive_response_headers.started request=<Request [b'POST']>
2026-01-07 14:32:08,696 - httpcore.http11 - DEBUG - receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'Content-Type', b'application/json; charset=UTF-8'), (b'Vary', b'Origin'), (b'Vary', b'X-Origin'), (b'Vary', b'Referer'), (b'Content-Encoding', b'gzip'), (b'Date', b'Wed, 07 Jan 2026 22:32:08 GMT'), (b'Server', b'scaffolding on HTTPServer2'), (b'X-XSS-Protection', b'0'), (b'X-Frame-Options', b'SAMEORIGIN'), (b'X-Content-Type-Options', b'nosniff'), (b'Server-Timing', b'gfet4t7; dur=1629'), (b'Alt-Svc', b'h3=":443"; ma=2592000,h3-29=":443"; ma=2592000'), (b'Transfer-Encoding', b'chunked')])
2026-01-07 14:32:08,697 - httpx - INFO - HTTP Request: POST https://generativelanguage.googleapis.com/v1beta/models/gemini-2.0-flash:generateContent "HTTP/1.1 200 OK"
2026-01-07 14:32:08,697 - httpcore.http11 - DEBUG - receive_response_body.started request=<Request [b'POST']>
2026-01-07 14:32:08,697 - httpcore.http11 - DEBUG - receive_response_body.complete
2026-01-07 14:32:08,697 - httpcore.http11 - DEBUG - response_closed.started
2026-01-07 14:32:08,698 - httpcore.http11 - DEBUG - response_closed.complete
2026-01-07 14:32:08,699 - VideoStreamIngestor - INFO - LLM inference output: task_updates=[TaskUpdate(task_number=0, task_note='Say hello', task_done=False)] system_actions=[SystemAction(take_action='Open the door')]
2026-01-07 14:32:08,699 - httpcore.http11 - DEBUG - send_request_headers.started request=<Request [b'POST']>
2026-01-07 14:32:08,700 - httpcore.http11 - DEBUG - send_request_headers.complete
2026-01-07 14:32:08,700 - httpcore.http11 - DEBUG - send_request_body.started request=<Request [b'POST']>
2026-01-07 14:32:08,731 - httpcore.http11 - DEBUG - send_request_body.complete
2026-01-07 14:32:08,731 - httpcore.http11 - DEBUG - receive_response_headers.started request=<Request [b'POST']>
2026-01-07 14:32:08,732 - VideoStreamIngestor - DEBUG - Process loop: Frame got from process loop queue for io_id=9856d608
2026-01-07 14:32:08,747 - VideoStreamIngestor - INFO - LLM inference prompt: output an update to say hello for task number 0 in the notes and take the action of opening the door
2026-01-07 14:32:08,749 - google_genai.models - INFO - AFC is enabled with max remote calls: 10.
2026-01-07 14:32:08,753 - httpcore.http11 - DEBUG - send_request_headers.started request=<Request [b'POST']>
2026-01-07 14:32:08,753 - httpcore.http11 - DEBUG - send_request_headers.complete
2026-01-07 14:32:08,753 - httpcore.http11 - DEBUG - send_request_body.started request=<Request [b'POST']>
2026-01-07 14:32:08,754 - httpcore.http11 - DEBUG - send_request_body.complete
2026-01-07 14:32:08,755 - httpcore.http11 - DEBUG - receive_response_headers.started request=<Request [b'POST']>
2026-01-07 14:32:10,606 - httpcore.http11 - DEBUG - receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'Content-Type', b'application/json; charset=UTF-8'), (b'Vary', b'Origin'), (b'Vary', b'X-Origin'), (b'Vary', b'Referer'), (b'Content-Encoding', b'gzip'), (b'Date', b'Wed, 07 Jan 2026 22:32:10 GMT'), (b'Server', b'scaffolding on HTTPServer2'), (b'X-XSS-Protection', b'0'), (b'X-Frame-Options', b'SAMEORIGIN'), (b'X-Content-Type-Options', b'nosniff'), (b'Server-Timing', b'gfet4t7; dur=1813'), (b'Alt-Svc', b'h3=":443"; ma=2592000,h3-29=":443"; ma=2592000'), (b'Transfer-Encoding', b'chunked')])
2026-01-07 14:32:10,607 - httpx - INFO - HTTP Request: POST https://generativelanguage.googleapis.com/v1beta/models/gemini-2.0-flash:generateContent "HTTP/1.1 200 OK"
2026-01-07 14:32:10,607 - httpcore.http11 - DEBUG - receive_response_body.started request=<Request [b'POST']>
2026-01-07 14:32:10,607 - httpcore.http11 - DEBUG - receive_response_body.complete
2026-01-07 14:32:10,607 - httpcore.http11 - DEBUG - response_closed.started
2026-01-07 14:32:10,607 - httpcore.http11 - DEBUG - response_closed.complete
2026-01-07 14:32:10,608 - VideoStreamIngestor - INFO - LLM inference output: task_updates=[TaskUpdate(task_number=0, task_note='Say hello', task_done=True)] system_actions=[SystemAction(take_action='Open the door')]
2026-01-07 14:32:10,609 - httpcore.http11 - DEBUG - receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'Content-Type', b'application/json; charset=UTF-8'), (b'Vary', b'Origin'), (b'Vary', b'X-Origin'), (b'Vary', b'Referer'), (b'Content-Encoding', b'gzip'), (b'Date', b'Wed, 07 Jan 2026 22:32:09 GMT'), (b'Server', b'scaffolding on HTTPServer2'), (b'X-XSS-Protection', b'0'), (b'X-Frame-Options', b'SAMEORIGIN'), (b'X-Content-Type-Options', b'nosniff'), (b'Server-Timing', b'gfet4t7; dur=671'), (b'Alt-Svc', b'h3=":443"; ma=2592000,h3-29=":443"; ma=2592000'), (b'Transfer-Encoding', b'chunked')])
2026-01-07 14:32:10,609 - httpx - INFO - HTTP Request: POST https://generativelanguage.googleapis.com/v1beta/models/gemini-2.5-flash:generateContent "HTTP/1.1 200 OK"
2026-01-07 14:32:10,609 - httpcore.http11 - DEBUG - receive_response_body.started request=<Request [b'POST']>
2026-01-07 14:32:10,610 - httpcore.http11 - DEBUG - receive_response_body.complete
2026-01-07 14:32:10,610 - httpcore.http11 - DEBUG - response_closed.started
2026-01-07 14:32:10,624 - httpcore.http11 - DEBUG - response_closed.complete
2026-01-07 14:32:10,624 - google_adk.google.adk.models.google_llm - INFO - Response received from the model.
2026-01-07 14:32:10,625 - google_adk.google.adk.models.google_llm - DEBUG - 
LLM Response:
-----------------------------------------------------------
Text:
Which door would you like to open?
-----------------------------------------------------------
Function calls:

-----------------------------------------------------------
Raw response:
{"sdk_http_response":{"headers":{"content-type":"application/json; charset=UTF-8","vary":"Origin, X-Origin, Referer","content-encoding":"gzip","date":"Wed, 07 Jan 2026 22:32:09 GMT","server":"scaffolding on HTTPServer2","x-xss-protection":"0","x-frame-options":"SAMEORIGIN","x-content-type-options":"nosniff","server-timing":"gfet4t7; dur=671","alt-svc":"h3=\":443\"; ma=2592000,h3-29=\":443\"; ma=2592000","transfer-encoding":"chunked"}},"candidates":[{"content":{"parts":[{"text":"Which door would you like to open?","thought_signature":"Cs0BAXLI2nw4kSH2fiIO5Fw6gAwe7tY4GC7te5V1cYhP8yYRG_8GxWWI20wwWSwvDqYB9BsVFf8nYGZFb3i2p-Y5hMEYDUdOzm-5rfleJa1AreJfHsbyxSsnj7LY1GfpUDDmiTKdbO1ISzHgkiR38clUyApLKuhXfk8wYZVNMlN5sDQYNstLMhg1s0NxJ0KXl6YtXx3EYI1BwFMxbJVoQXn8H4KdgtPJlrV8tPlIGmPfC9wnQ4lUcEHC1JPcat6C5VAmBLnOfdI5pQ3ZnX5Tcw=="}],"role":"model"},"finish_reason":"STOP","index":0}],"model_version":"gemini-2.5-flash","response_id":"6d5eabHPFJXVjMcPstm00AQ","usage_metadata":{"cache_tokens_details":[{"modality":"TEXT","token_count":705}],"cached_content_token_count":705,"candidates_token_count":8,"prompt_token_count":918,"prompt_tokens_details":[{"modality":"TEXT","token_count":918}],"thoughts_token_count":42,"total_token_count":968}}
-----------------------------------------------------------

2026-01-07 14:32:10,625 - google_adk.google.adk.runners - INFO - Closing runner...
2026-01-07 14:32:10,625 - google_adk.google.adk.runners - INFO - Runner closed.
2026-01-07 14:32:10,626 - VideoStreamIngestor - DEBUG - Process loop: Frame got from process loop queue for io_id=9856d608
2026-01-07 14:32:10,634 - VideoStreamIngestor - INFO - LLM inference prompt: output an update to say hello for task number 0 in the notes and take the action of opening the door
2026-01-07 14:32:10,634 - google_genai.models - INFO - AFC is enabled with max remote calls: 10.
2026-01-07 14:32:10,637 - httpcore.http11 - DEBUG - send_request_headers.started request=<Request [b'POST']>
2026-01-07 14:32:10,638 - httpcore.http11 - DEBUG - send_request_headers.complete
2026-01-07 14:32:10,638 - httpcore.http11 - DEBUG - send_request_body.started request=<Request [b'POST']>
2026-01-07 14:32:10,638 - httpcore.http11 - DEBUG - send_request_body.complete
2026-01-07 14:32:10,638 - httpcore.http11 - DEBUG - receive_response_headers.started request=<Request [b'POST']>
2026-01-07 14:32:12,449 - httpcore.http11 - DEBUG - receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'Content-Type', b'application/json; charset=UTF-8'), (b'Vary', b'Origin'), (b'Vary', b'X-Origin'), (b'Vary', b'Referer'), (b'Content-Encoding', b'gzip'), (b'Date', b'Wed, 07 Jan 2026 22:32:12 GMT'), (b'Server', b'scaffolding on HTTPServer2'), (b'X-XSS-Protection', b'0'), (b'X-Frame-Options', b'SAMEORIGIN'), (b'X-Content-Type-Options', b'nosniff'), (b'Server-Timing', b'gfet4t7; dur=1782'), (b'Alt-Svc', b'h3=":443"; ma=2592000,h3-29=":443"; ma=2592000'), (b'Transfer-Encoding', b'chunked')])
2026-01-07 14:32:12,450 - httpx - INFO - HTTP Request: POST https://generativelanguage.googleapis.com/v1beta/models/gemini-2.0-flash:generateContent "HTTP/1.1 200 OK"
2026-01-07 14:32:12,450 - httpcore.http11 - DEBUG - receive_response_body.started request=<Request [b'POST']>
2026-01-07 14:32:12,451 - httpcore.http11 - DEBUG - receive_response_body.complete
2026-01-07 14:32:12,451 - httpcore.http11 - DEBUG - response_closed.started
2026-01-07 14:32:12,451 - httpcore.http11 - DEBUG - response_closed.complete
2026-01-07 14:32:12,452 - VideoStreamIngestor - INFO - LLM inference output: task_updates=[TaskUpdate(task_number=0, task_note='Hello!', task_done=False)] system_actions=[SystemAction(take_action='open the door')]
2026-01-07 14:32:12,453 - httpcore.connection - DEBUG - close.started
2026-01-07 14:32:12,453 - httpcore.connection - DEBUG - close.complete
2026-01-07 14:32:12,474 - google_adk.google.adk.models.google_llm - INFO - Sending out request, model: gemini-2.0-flash, backend: GoogleLLMVariant.GEMINI_API, stream: False
2026-01-07 14:32:12,474 - google_adk.google.adk.models.google_llm - DEBUG - 
LLM Request:
-----------------------------------------------------------
System Instruction:
You are a helpful and friendly system administrator. Be concise and clear in your responses. You have access to tools that can help you check available input devices on the system and manage tasks. When a user requests a task that requires an input device, you should automatically call list_input_devices_with_ids to find the appropriate device and its io_id. Do not ask the user for io_ids - always retrieve them yourself using the available tools. When selecting a device, prefer video cameras (camera category) when possible. Once you have the io_id, use add_task with the io_id to create tasks. Use list_tasks to view all tasks (optionally filtered by io_id). When a user asks a question about a task, first call list_tasks to find the relevant task_id, then call get_info_on ONCE with that task_id to get detailed information. Do not call get_info_on multiple times for the same task_id. Use remove_task to delete a task by its task_id. Use edit_task to update a task's description. This is especially useful when a user wants to amend an existing task, for example, to add an action to be triggered when a condition is met. When editing a task, preserve the original detection part and add the new action requirement. For example, if a task is 'Count claps' and the user wants to send an email when claps reach 1, edit it to 'Count claps and when it reaches 1 send email to [email]'. You can also use take_output_action to execute various actions like sending emails, opening/closing doors, or controlling lights by providing a natural language description of the action. IMPORTANT: When a user requests an action to be triggered based on a video feed event (e.g., 'send me an email when I clap', 'turn on lights when I wave'), you have two options: 1. If a relevant task already exists (e.g., 'Count claps'), use edit_task to amend it with the action. 2. If no relevant task exists, add a NEW task that combines both the detection and the action. 

You are an agent. Your internal name is "system_administrator". The description about you is "A helpful system administrator. It controls the system on behalf of the user.".
-----------------------------------------------------------
Config:
{'http_options': {'headers': {'x-goog-api-client': 'google-adk/1.21.0 gl-python/3.13.5', 'user-agent': 'google-adk/1.21.0 gl-python/3.13.5'}}, 'tools': [{}]}
-----------------------------------------------------------
Contents:
{"parts":[{"text":"Execute this action: Open the door"}],"role":"user"}
{"parts":[{"function_call":{"args":{"request":"Open the door"},"name":"action_router"}}],"role":"model"}
{"parts":[{"function_response":{"name":"action_router","response":{"result":"Which door do you want to open?"}}}],"role":"user"}
{"parts":[{"text":"Which door do you want to open?\n"}],"role":"model"}
{"parts":[{"text":"Execute this action: open the door"}],"role":"user"}
{"parts":[{"function_call":{"args":{"request":"open the door"},"name":"action_router"}}],"role":"model"}
{"parts":[{"function_response":{"name":"action_router","response":{"result":"Which door do you want to open?"}}}],"role":"user"}
{"parts":[{"text":"Which door do you want to open?\n"}],"role":"model"}
{"parts":[{"text":"Execute this action: Open the door"}],"role":"user"}
{"parts":[{"function_call":{"args":{"request":"Open the door"},"name":"action_router"}}],"role":"model"}
{"parts":[{"function_response":{"name":"action_router","response":{"result":"Which door would you like to open?"}}}],"role":"user"}
{"parts":[{"text":"Which door would you like to open?\n"}],"role":"model"}
{"parts":[{"text":"Execute this action: Open the door"}],"role":"user"}
{"parts":[{"function_call":{"args":{"request":"Open the door"},"name":"action_router"}}],"role":"model"}
{"parts":[{"function_response":{"name":"action_router","response":{"result":"Which door would you like to open?"}}}],"role":"user"}
{"parts":[{"text":"Which door would you like to open?\n"}],"role":"model"}
{"parts":[{"text":"Execute this action: Open the door"}],"role":"user"}
{"parts":[{"function_call":{"args":{"request":"Open the door"},"name":"action_router"}}],"role":"model"}
{"parts":[{"function_response":{"name":"action_router","response":{"result":"Which door would you like to open?"}}}],"role":"user"}
-----------------------------------------------------------
Functions:
list_input_devices_with_ids: {} 
add_task: {'io_id': {'type': <Type.STRING: 'STRING'>}, 'task_description': {'type': <Type.STRING: 'STRING'>}} 
list_tasks: {'io_id': {'nullable': True, 'type': <Type.STRING: 'STRING'>}} 
get_info_on: {'task_id': {'type': <Type.STRING: 'STRING'>}} 
remove_task: {'task_id': {'type': <Type.STRING: 'STRING'>}} 
edit_task: {'task_id': {'type': <Type.STRING: 'STRING'>}, 'new_description': {'type': <Type.STRING: 'STRING'>}} 
action_router: {'request': {'type': <Type.STRING: 'STRING'>}} 
-----------------------------------------------------------

2026-01-07 14:32:12,483 - httpcore.connection - DEBUG - close.started
2026-01-07 14:32:12,483 - httpcore.connection - DEBUG - connect_tcp.started host='generativelanguage.googleapis.com' port=443 local_address=None timeout=None socket_options=None
2026-01-07 14:32:12,483 - VideoStreamIngestor - DEBUG - Process loop: Frame got from process loop queue for io_id=9856d608
2026-01-07 14:32:12,490 - VideoStreamIngestor - INFO - LLM inference prompt: output an update to say hello for task number 0 in the notes and take the action of opening the door
2026-01-07 14:32:12,494 - google_genai.models - INFO - AFC is enabled with max remote calls: 10.
2026-01-07 14:32:12,497 - httpcore.http11 - DEBUG - send_request_headers.started request=<Request [b'POST']>
2026-01-07 14:32:12,497 - httpcore.http11 - DEBUG - send_request_headers.complete
2026-01-07 14:32:12,497 - httpcore.http11 - DEBUG - send_request_body.started request=<Request [b'POST']>
2026-01-07 14:32:12,497 - httpcore.http11 - DEBUG - send_request_body.complete
2026-01-07 14:32:12,497 - httpcore.http11 - DEBUG - receive_response_headers.started request=<Request [b'POST']>
2026-01-07 14:32:14,293 - httpcore.http11 - DEBUG - receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'Content-Type', b'application/json; charset=UTF-8'), (b'Vary', b'Origin'), (b'Vary', b'X-Origin'), (b'Vary', b'Referer'), (b'Content-Encoding', b'gzip'), (b'Date', b'Wed, 07 Jan 2026 22:32:14 GMT'), (b'Server', b'scaffolding on HTTPServer2'), (b'X-XSS-Protection', b'0'), (b'X-Frame-Options', b'SAMEORIGIN'), (b'X-Content-Type-Options', b'nosniff'), (b'Server-Timing', b'gfet4t7; dur=1766'), (b'Alt-Svc', b'h3=":443"; ma=2592000,h3-29=":443"; ma=2592000'), (b'Transfer-Encoding', b'chunked')])
2026-01-07 14:32:14,293 - httpx - INFO - HTTP Request: POST https://generativelanguage.googleapis.com/v1beta/models/gemini-2.0-flash:generateContent "HTTP/1.1 200 OK"
2026-01-07 14:32:14,293 - httpcore.http11 - DEBUG - receive_response_body.started request=<Request [b'POST']>
2026-01-07 14:32:14,293 - httpcore.http11 - DEBUG - receive_response_body.complete
2026-01-07 14:32:14,293 - httpcore.http11 - DEBUG - response_closed.started
2026-01-07 14:32:14,293 - httpcore.http11 - DEBUG - response_closed.complete
2026-01-07 14:32:14,293 - VideoStreamIngestor - INFO - LLM inference output: task_updates=[TaskUpdate(task_number=0, task_note='Say hello', task_done=False)] system_actions=[SystemAction(take_action='Open the door')]
2026-01-07 14:32:14,294 - httpcore.connection - DEBUG - close.complete
2026-01-07 14:32:14,305 - VideoStreamIngestor - DEBUG - Process loop: Frame got from process loop queue for io_id=9856d608
2026-01-07 14:32:14,309 - VideoStreamIngestor - INFO - LLM inference prompt: output an update to say hello for task number 0 in the notes and take the action of opening the door
2026-01-07 14:32:14,310 - google_genai.models - INFO - AFC is enabled with max remote calls: 10.
2026-01-07 14:32:14,312 - httpcore.http11 - DEBUG - send_request_headers.started request=<Request [b'POST']>
2026-01-07 14:32:14,312 - httpcore.http11 - DEBUG - send_request_headers.complete
2026-01-07 14:32:14,312 - httpcore.http11 - DEBUG - send_request_body.started request=<Request [b'POST']>
2026-01-07 14:32:14,312 - httpcore.http11 - DEBUG - send_request_body.complete
2026-01-07 14:32:14,312 - httpcore.http11 - DEBUG - receive_response_headers.started request=<Request [b'POST']>
2026-01-07 14:32:16,081 - httpcore.http11 - DEBUG - receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'Content-Type', b'application/json; charset=UTF-8'), (b'Vary', b'Origin'), (b'Vary', b'X-Origin'), (b'Vary', b'Referer'), (b'Content-Encoding', b'gzip'), (b'Date', b'Wed, 07 Jan 2026 22:32:16 GMT'), (b'Server', b'scaffolding on HTTPServer2'), (b'X-XSS-Protection', b'0'), (b'X-Frame-Options', b'SAMEORIGIN'), (b'X-Content-Type-Options', b'nosniff'), (b'Server-Timing', b'gfet4t7; dur=1712'), (b'Alt-Svc', b'h3=":443"; ma=2592000,h3-29=":443"; ma=2592000'), (b'Transfer-Encoding', b'chunked')])
2026-01-07 14:32:16,081 - httpx - INFO - HTTP Request: POST https://generativelanguage.googleapis.com/v1beta/models/gemini-2.0-flash:generateContent "HTTP/1.1 200 OK"
2026-01-07 14:32:16,081 - httpcore.http11 - DEBUG - receive_response_body.started request=<Request [b'POST']>
2026-01-07 14:32:16,081 - httpcore.http11 - DEBUG - receive_response_body.complete
2026-01-07 14:32:16,082 - httpcore.http11 - DEBUG - response_closed.started
2026-01-07 14:32:16,082 - httpcore.http11 - DEBUG - response_closed.complete
2026-01-07 14:32:16,083 - VideoStreamIngestor - INFO - LLM inference output: task_updates=[TaskUpdate(task_number=0, task_note='Say hello', task_done=True)] system_actions=[SystemAction(take_action='Open the door')]
2026-01-07 14:32:16,085 - VideoStreamIngestor - DEBUG - Process loop: Frame got from process loop queue for io_id=9856d608
2026-01-07 14:32:16,097 - VideoStreamIngestor - INFO - LLM inference prompt: output an update to say hello for task number 0 in the notes and take the action of opening the door
2026-01-07 14:32:16,098 - google_genai.models - INFO - AFC is enabled with max remote calls: 10.
2026-01-07 14:32:16,101 - httpcore.http11 - DEBUG - send_request_headers.started request=<Request [b'POST']>
2026-01-07 14:32:16,101 - httpcore.http11 - DEBUG - send_request_headers.complete
2026-01-07 14:32:16,101 - httpcore.http11 - DEBUG - send_request_body.started request=<Request [b'POST']>
2026-01-07 14:32:16,102 - httpcore.http11 - DEBUG - send_request_body.complete
2026-01-07 14:32:16,102 - httpcore.http11 - DEBUG - receive_response_headers.started request=<Request [b'POST']>
2026-01-07 14:32:18,494 - httpcore.http11 - DEBUG - receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'Content-Type', b'application/json; charset=UTF-8'), (b'Vary', b'Origin'), (b'Vary', b'X-Origin'), (b'Vary', b'Referer'), (b'Content-Encoding', b'gzip'), (b'Date', b'Wed, 07 Jan 2026 22:32:18 GMT'), (b'Server', b'scaffolding on HTTPServer2'), (b'X-XSS-Protection', b'0'), (b'X-Frame-Options', b'SAMEORIGIN'), (b'X-Content-Type-Options', b'nosniff'), (b'Server-Timing', b'gfet4t7; dur=2385'), (b'Alt-Svc', b'h3=":443"; ma=2592000,h3-29=":443"; ma=2592000'), (b'Transfer-Encoding', b'chunked')])
2026-01-07 14:32:18,494 - httpx - INFO - HTTP Request: POST https://generativelanguage.googleapis.com/v1beta/models/gemini-2.0-flash:generateContent "HTTP/1.1 200 OK"
2026-01-07 14:32:18,494 - httpcore.http11 - DEBUG - receive_response_body.started request=<Request [b'POST']>
2026-01-07 14:32:18,498 - httpcore.http11 - DEBUG - receive_response_body.complete
2026-01-07 14:32:18,498 - httpcore.http11 - DEBUG - response_closed.started
2026-01-07 14:32:18,498 - httpcore.http11 - DEBUG - response_closed.complete
2026-01-07 14:32:18,499 - VideoStreamIngestor - INFO - LLM inference output: task_updates=[TaskUpdate(task_number=0, task_note='Say hello', task_done=False)] system_actions=[SystemAction(take_action='Open the door')]
2026-01-07 14:32:18,519 - httpcore.connection - DEBUG - connect_tcp.complete return_value=<httpcore._backends.anyio.AnyIOStream object at 0x13626de00>
2026-01-07 14:32:18,519 - httpcore.connection - DEBUG - start_tls.started ssl_context=<ssl.SSLContext object at 0x13408f650> server_hostname='generativelanguage.googleapis.com' timeout=None
2026-01-07 14:32:18,520 - VideoStreamIngestor - DEBUG - Process loop: Frame got from process loop queue for io_id=9856d608
2026-01-07 14:32:18,527 - VideoStreamIngestor - INFO - LLM inference prompt: output an update to say hello for task number 0 in the notes and take the action of opening the door
2026-01-07 14:32:18,528 - google_genai.models - INFO - AFC is enabled with max remote calls: 10.
2026-01-07 14:32:18,532 - httpcore.http11 - DEBUG - send_request_headers.started request=<Request [b'POST']>
2026-01-07 14:32:18,532 - httpcore.http11 - DEBUG - send_request_headers.complete
2026-01-07 14:32:18,532 - httpcore.http11 - DEBUG - send_request_body.started request=<Request [b'POST']>
2026-01-07 14:32:18,533 - httpcore.http11 - DEBUG - send_request_body.complete
2026-01-07 14:32:18,533 - httpcore.http11 - DEBUG - receive_response_headers.started request=<Request [b'POST']>
2026-01-07 14:32:20,128 - httpcore.http11 - DEBUG - receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'Content-Type', b'application/json; charset=UTF-8'), (b'Vary', b'Origin'), (b'Vary', b'X-Origin'), (b'Vary', b'Referer'), (b'Content-Encoding', b'gzip'), (b'Date', b'Wed, 07 Jan 2026 22:32:20 GMT'), (b'Server', b'scaffolding on HTTPServer2'), (b'X-XSS-Protection', b'0'), (b'X-Frame-Options', b'SAMEORIGIN'), (b'X-Content-Type-Options', b'nosniff'), (b'Server-Timing', b'gfet4t7; dur=1589'), (b'Alt-Svc', b'h3=":443"; ma=2592000,h3-29=":443"; ma=2592000'), (b'Transfer-Encoding', b'chunked')])
2026-01-07 14:32:20,128 - httpx - INFO - HTTP Request: POST https://generativelanguage.googleapis.com/v1beta/models/gemini-2.0-flash:generateContent "HTTP/1.1 200 OK"
2026-01-07 14:32:20,128 - httpcore.http11 - DEBUG - receive_response_body.started request=<Request [b'POST']>
2026-01-07 14:32:20,129 - httpcore.http11 - DEBUG - receive_response_body.complete
2026-01-07 14:32:20,129 - httpcore.http11 - DEBUG - response_closed.started
2026-01-07 14:32:20,129 - httpcore.http11 - DEBUG - response_closed.complete
2026-01-07 14:32:20,130 - VideoStreamIngestor - INFO - LLM inference output: task_updates=[TaskUpdate(task_number=0, task_note='say hello', task_done=True)] system_actions=[SystemAction(take_action='open the door')]
2026-01-07 14:32:20,145 - VideoStreamIngestor - DEBUG - Process loop: Frame got from process loop queue for io_id=9856d608
2026-01-07 14:32:20,160 - VideoStreamIngestor - INFO - LLM inference prompt: output an update to say hello for task number 0 in the notes and take the action of opening the door
2026-01-07 14:32:20,161 - google_genai.models - INFO - AFC is enabled with max remote calls: 10.
2026-01-07 14:32:20,163 - httpcore.http11 - DEBUG - send_request_headers.started request=<Request [b'POST']>
2026-01-07 14:32:20,163 - httpcore.http11 - DEBUG - send_request_headers.complete
2026-01-07 14:32:20,163 - httpcore.http11 - DEBUG - send_request_body.started request=<Request [b'POST']>
2026-01-07 14:32:20,163 - httpcore.http11 - DEBUG - send_request_body.complete
2026-01-07 14:32:20,163 - httpcore.http11 - DEBUG - receive_response_headers.started request=<Request [b'POST']>
2026-01-07 14:32:22,230 - httpcore.http11 - DEBUG - receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'Content-Type', b'application/json; charset=UTF-8'), (b'Vary', b'Origin'), (b'Vary', b'X-Origin'), (b'Vary', b'Referer'), (b'Content-Encoding', b'gzip'), (b'Date', b'Wed, 07 Jan 2026 22:32:22 GMT'), (b'Server', b'scaffolding on HTTPServer2'), (b'X-XSS-Protection', b'0'), (b'X-Frame-Options', b'SAMEORIGIN'), (b'X-Content-Type-Options', b'nosniff'), (b'Server-Timing', b'gfet4t7; dur=2059'), (b'Alt-Svc', b'h3=":443"; ma=2592000,h3-29=":443"; ma=2592000'), (b'Transfer-Encoding', b'chunked')])
2026-01-07 14:32:22,232 - httpx - INFO - HTTP Request: POST https://generativelanguage.googleapis.com/v1beta/models/gemini-2.0-flash:generateContent "HTTP/1.1 200 OK"
2026-01-07 14:32:22,232 - httpcore.http11 - DEBUG - receive_response_body.started request=<Request [b'POST']>
2026-01-07 14:32:22,233 - httpcore.http11 - DEBUG - receive_response_body.complete
2026-01-07 14:32:22,234 - httpcore.http11 - DEBUG - response_closed.started
2026-01-07 14:32:22,234 - httpcore.http11 - DEBUG - response_closed.complete
2026-01-07 14:32:22,235 - VideoStreamIngestor - INFO - LLM inference output: task_updates=[TaskUpdate(task_number=0, task_note='Say hello', task_done=True)] system_actions=[SystemAction(take_action='Open the door')]
2026-01-07 14:32:22,242 - httpcore.connection - DEBUG - start_tls.complete return_value=<httpcore._backends.anyio.AnyIOStream object at 0x134006fd0>
2026-01-07 14:32:22,242 - VideoStreamIngestor - DEBUG - Process loop: Frame got from process loop queue for io_id=9856d608
2026-01-07 14:32:22,255 - VideoStreamIngestor - INFO - LLM inference prompt: output an update to say hello for task number 0 in the notes and take the action of opening the door
2026-01-07 14:32:22,257 - google_genai.models - INFO - AFC is enabled with max remote calls: 10.
2026-01-07 14:32:22,260 - httpcore.http11 - DEBUG - send_request_headers.started request=<Request [b'POST']>
2026-01-07 14:32:22,261 - httpcore.http11 - DEBUG - send_request_headers.complete
2026-01-07 14:32:22,261 - httpcore.http11 - DEBUG - send_request_body.started request=<Request [b'POST']>
2026-01-07 14:32:22,261 - httpcore.http11 - DEBUG - send_request_body.complete
2026-01-07 14:32:22,262 - httpcore.http11 - DEBUG - receive_response_headers.started request=<Request [b'POST']>
2026-01-07 14:32:24,021 - httpcore.http11 - DEBUG - receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'Content-Type', b'application/json; charset=UTF-8'), (b'Vary', b'Origin'), (b'Vary', b'X-Origin'), (b'Vary', b'Referer'), (b'Content-Encoding', b'gzip'), (b'Date', b'Wed, 07 Jan 2026 22:32:23 GMT'), (b'Server', b'scaffolding on HTTPServer2'), (b'X-XSS-Protection', b'0'), (b'X-Frame-Options', b'SAMEORIGIN'), (b'X-Content-Type-Options', b'nosniff'), (b'Server-Timing', b'gfet4t7; dur=1679'), (b'Alt-Svc', b'h3=":443"; ma=2592000,h3-29=":443"; ma=2592000'), (b'Transfer-Encoding', b'chunked')])
2026-01-07 14:32:24,021 - httpx - INFO - HTTP Request: POST https://generativelanguage.googleapis.com/v1beta/models/gemini-2.0-flash:generateContent "HTTP/1.1 200 OK"
2026-01-07 14:32:24,021 - httpcore.http11 - DEBUG - receive_response_body.started request=<Request [b'POST']>
2026-01-07 14:32:24,021 - httpcore.http11 - DEBUG - receive_response_body.complete
2026-01-07 14:32:24,021 - httpcore.http11 - DEBUG - response_closed.started
2026-01-07 14:32:24,021 - httpcore.http11 - DEBUG - response_closed.complete
2026-01-07 14:32:24,022 - VideoStreamIngestor - INFO - LLM inference output: task_updates=[TaskUpdate(task_number=0, task_note='Say hello', task_done=False)] system_actions=[SystemAction(take_action='Open the door')]
2026-01-07 14:32:24,023 - httpcore.http11 - DEBUG - send_request_headers.started request=<Request [b'POST']>
2026-01-07 14:32:24,023 - httpcore.http11 - DEBUG - send_request_headers.complete
2026-01-07 14:32:24,023 - httpcore.http11 - DEBUG - send_request_body.started request=<Request [b'POST']>
2026-01-07 14:32:24,054 - httpcore.http11 - DEBUG - send_request_body.complete
2026-01-07 14:32:24,054 - httpcore.http11 - DEBUG - receive_response_headers.started request=<Request [b'POST']>
2026-01-07 14:32:24,054 - VideoStreamIngestor - DEBUG - Process loop: Frame got from process loop queue for io_id=9856d608
2026-01-07 14:32:24,062 - VideoStreamIngestor - INFO - LLM inference prompt: output an update to say hello for task number 0 in the notes and take the action of opening the door
2026-01-07 14:32:24,063 - google_genai.models - INFO - AFC is enabled with max remote calls: 10.
2026-01-07 14:32:24,065 - httpcore.http11 - DEBUG - send_request_headers.started request=<Request [b'POST']>
2026-01-07 14:32:24,065 - httpcore.http11 - DEBUG - send_request_headers.complete
2026-01-07 14:32:24,065 - httpcore.http11 - DEBUG - send_request_body.started request=<Request [b'POST']>
2026-01-07 14:32:24,066 - httpcore.http11 - DEBUG - send_request_body.complete
2026-01-07 14:32:24,066 - httpcore.http11 - DEBUG - receive_response_headers.started request=<Request [b'POST']>
2026-01-07 14:32:25,545 - httpcore.http11 - DEBUG - receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'Content-Type', b'application/json; charset=UTF-8'), (b'Vary', b'Origin'), (b'Vary', b'X-Origin'), (b'Vary', b'Referer'), (b'Content-Encoding', b'gzip'), (b'Date', b'Wed, 07 Jan 2026 22:32:25 GMT'), (b'Server', b'scaffolding on HTTPServer2'), (b'X-XSS-Protection', b'0'), (b'X-Frame-Options', b'SAMEORIGIN'), (b'X-Content-Type-Options', b'nosniff'), (b'Server-Timing', b'gfet4t7; dur=1471'), (b'Alt-Svc', b'h3=":443"; ma=2592000,h3-29=":443"; ma=2592000'), (b'Transfer-Encoding', b'chunked')])
2026-01-07 14:32:25,545 - httpx - INFO - HTTP Request: POST https://generativelanguage.googleapis.com/v1beta/models/gemini-2.0-flash:generateContent "HTTP/1.1 200 OK"
2026-01-07 14:32:25,545 - httpcore.http11 - DEBUG - receive_response_body.started request=<Request [b'POST']>
2026-01-07 14:32:25,546 - httpcore.http11 - DEBUG - receive_response_body.complete
2026-01-07 14:32:25,546 - httpcore.http11 - DEBUG - response_closed.started
2026-01-07 14:32:25,546 - httpcore.http11 - DEBUG - response_closed.complete
2026-01-07 14:32:25,546 - VideoStreamIngestor - INFO - LLM inference output: task_updates=[TaskUpdate(task_number=0, task_note='Say hello', task_done=False)] system_actions=[SystemAction(take_action='Open the door')]
2026-01-07 14:32:25,547 - httpcore.http11 - DEBUG - receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'Content-Type', b'application/json; charset=UTF-8'), (b'Vary', b'Origin'), (b'Vary', b'X-Origin'), (b'Vary', b'Referer'), (b'Content-Encoding', b'gzip'), (b'Date', b'Wed, 07 Jan 2026 22:32:24 GMT'), (b'Server', b'scaffolding on HTTPServer2'), (b'X-XSS-Protection', b'0'), (b'X-Frame-Options', b'SAMEORIGIN'), (b'X-Content-Type-Options', b'nosniff'), (b'Server-Timing', b'gfet4t7; dur=529'), (b'Alt-Svc', b'h3=":443"; ma=2592000,h3-29=":443"; ma=2592000'), (b'Transfer-Encoding', b'chunked')])
2026-01-07 14:32:25,547 - httpx - INFO - HTTP Request: POST https://generativelanguage.googleapis.com/v1beta/models/gemini-2.0-flash:generateContent "HTTP/1.1 200 OK"
2026-01-07 14:32:25,547 - httpcore.http11 - DEBUG - receive_response_body.started request=<Request [b'POST']>
2026-01-07 14:32:25,547 - httpcore.http11 - DEBUG - receive_response_body.complete
2026-01-07 14:32:25,548 - httpcore.http11 - DEBUG - response_closed.started
2026-01-07 14:32:25,557 - httpcore.http11 - DEBUG - response_closed.complete
2026-01-07 14:32:25,558 - google_adk.google.adk.models.google_llm - INFO - Response received from the model.
2026-01-07 14:32:25,558 - google_adk.google.adk.models.google_llm - DEBUG - 
LLM Response:
-----------------------------------------------------------
Text:
Which door would you like to open?

-----------------------------------------------------------
Function calls:

-----------------------------------------------------------
Raw response:
{"sdk_http_response":{"headers":{"content-type":"application/json; charset=UTF-8","vary":"Origin, X-Origin, Referer","content-encoding":"gzip","date":"Wed, 07 Jan 2026 22:32:24 GMT","server":"scaffolding on HTTPServer2","x-xss-protection":"0","x-frame-options":"SAMEORIGIN","x-content-type-options":"nosniff","server-timing":"gfet4t7; dur=529","alt-svc":"h3=\":443\"; ma=2592000,h3-29=\":443\"; ma=2592000","transfer-encoding":"chunked"}},"candidates":[{"content":{"parts":[{"text":"Which door would you like to open?\n"}],"role":"model"},"finish_reason":"STOP","avg_logprobs":-0.0008408824602762858}],"model_version":"gemini-2.0-flash","response_id":"-N5eaav_BdvRjMcP9O7C0Aw","usage_metadata":{"candidates_token_count":9,"candidates_tokens_details":[{"modality":"TEXT","token_count":9}],"prompt_token_count":1125,"prompt_tokens_details":[{"modality":"TEXT","token_count":1125}],"total_token_count":1134}}
-----------------------------------------------------------

2026-01-07 14:32:25,559 - VideoStreamIngestor - INFO - Action result: Which door would you like to open?

2026-01-07 14:32:25,559 - VideoStreamIngestor - DEBUG - Action loop: Action open the door got from action loop queue for io_id=9856d608
2026-01-07 14:32:25,578 - google_adk.google.adk.models.google_llm - INFO - Sending out request, model: gemini-2.0-flash, backend: GoogleLLMVariant.GEMINI_API, stream: False
2026-01-07 14:32:25,578 - google_adk.google.adk.models.google_llm - DEBUG - 
LLM Request:
-----------------------------------------------------------
System Instruction:
You are a helpful and friendly system administrator. Be concise and clear in your responses. You have access to tools that can help you check available input devices on the system and manage tasks. When a user requests a task that requires an input device, you should automatically call list_input_devices_with_ids to find the appropriate device and its io_id. Do not ask the user for io_ids - always retrieve them yourself using the available tools. When selecting a device, prefer video cameras (camera category) when possible. Once you have the io_id, use add_task with the io_id to create tasks. Use list_tasks to view all tasks (optionally filtered by io_id). When a user asks a question about a task, first call list_tasks to find the relevant task_id, then call get_info_on ONCE with that task_id to get detailed information. Do not call get_info_on multiple times for the same task_id. Use remove_task to delete a task by its task_id. Use edit_task to update a task's description. This is especially useful when a user wants to amend an existing task, for example, to add an action to be triggered when a condition is met. When editing a task, preserve the original detection part and add the new action requirement. For example, if a task is 'Count claps' and the user wants to send an email when claps reach 1, edit it to 'Count claps and when it reaches 1 send email to [email]'. You can also use take_output_action to execute various actions like sending emails, opening/closing doors, or controlling lights by providing a natural language description of the action. IMPORTANT: When a user requests an action to be triggered based on a video feed event (e.g., 'send me an email when I clap', 'turn on lights when I wave'), you have two options: 1. If a relevant task already exists (e.g., 'Count claps'), use edit_task to amend it with the action. 2. If no relevant task exists, add a NEW task that combines both the detection and the action. 

You are an agent. Your internal name is "system_administrator". The description about you is "A helpful system administrator. It controls the system on behalf of the user.".
-----------------------------------------------------------
Config:
{'http_options': {'headers': {'x-goog-api-client': 'google-adk/1.21.0 gl-python/3.13.5', 'user-agent': 'google-adk/1.21.0 gl-python/3.13.5'}}, 'tools': [{}]}
-----------------------------------------------------------
Contents:
{"parts":[{"text":"Execute this action: Open the door"}],"role":"user"}
{"parts":[{"function_call":{"args":{"request":"Open the door"},"name":"action_router"}}],"role":"model"}
{"parts":[{"function_response":{"name":"action_router","response":{"result":"Which door do you want to open?"}}}],"role":"user"}
{"parts":[{"text":"Which door do you want to open?\n"}],"role":"model"}
{"parts":[{"text":"Execute this action: open the door"}],"role":"user"}
{"parts":[{"function_call":{"args":{"request":"open the door"},"name":"action_router"}}],"role":"model"}
{"parts":[{"function_response":{"name":"action_router","response":{"result":"Which door do you want to open?"}}}],"role":"user"}
{"parts":[{"text":"Which door do you want to open?\n"}],"role":"model"}
{"parts":[{"text":"Execute this action: Open the door"}],"role":"user"}
{"parts":[{"function_call":{"args":{"request":"Open the door"},"name":"action_router"}}],"role":"model"}
{"parts":[{"function_response":{"name":"action_router","response":{"result":"Which door would you like to open?"}}}],"role":"user"}
{"parts":[{"text":"Which door would you like to open?\n"}],"role":"model"}
{"parts":[{"text":"Execute this action: Open the door"}],"role":"user"}
{"parts":[{"function_call":{"args":{"request":"Open the door"},"name":"action_router"}}],"role":"model"}
{"parts":[{"function_response":{"name":"action_router","response":{"result":"Which door would you like to open?"}}}],"role":"user"}
{"parts":[{"text":"Which door would you like to open?\n"}],"role":"model"}
{"parts":[{"text":"Execute this action: Open the door"}],"role":"user"}
{"parts":[{"function_call":{"args":{"request":"Open the door"},"name":"action_router"}}],"role":"model"}
{"parts":[{"function_response":{"name":"action_router","response":{"result":"Which door would you like to open?"}}}],"role":"user"}
{"parts":[{"text":"Which door would you like to open?\n"}],"role":"model"}
{"parts":[{"text":"Execute this action: open the door"}],"role":"user"}
-----------------------------------------------------------
Functions:
list_input_devices_with_ids: {} 
add_task: {'io_id': {'type': <Type.STRING: 'STRING'>}, 'task_description': {'type': <Type.STRING: 'STRING'>}} 
list_tasks: {'io_id': {'nullable': True, 'type': <Type.STRING: 'STRING'>}} 
get_info_on: {'task_id': {'type': <Type.STRING: 'STRING'>}} 
remove_task: {'task_id': {'type': <Type.STRING: 'STRING'>}} 
edit_task: {'task_id': {'type': <Type.STRING: 'STRING'>}, 'new_description': {'type': <Type.STRING: 'STRING'>}} 
action_router: {'request': {'type': <Type.STRING: 'STRING'>}} 
-----------------------------------------------------------

2026-01-07 14:32:25,583 - VideoStreamIngestor - DEBUG - Process loop: Frame got from process loop queue for io_id=9856d608
2026-01-07 14:32:25,589 - VideoStreamIngestor - INFO - LLM inference prompt: output an update to say hello for task number 0 in the notes and take the action of opening the door
2026-01-07 14:32:25,590 - google_genai.models - INFO - AFC is enabled with max remote calls: 10.
2026-01-07 14:32:25,592 - httpcore.http11 - DEBUG - send_request_headers.started request=<Request [b'POST']>
2026-01-07 14:32:25,592 - httpcore.http11 - DEBUG - send_request_headers.complete
2026-01-07 14:32:25,592 - httpcore.http11 - DEBUG - send_request_body.started request=<Request [b'POST']>
2026-01-07 14:32:25,593 - httpcore.http11 - DEBUG - send_request_body.complete
2026-01-07 14:32:25,593 - httpcore.http11 - DEBUG - receive_response_headers.started request=<Request [b'POST']>
2026-01-07 14:32:27,274 - httpcore.http11 - DEBUG - receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'Content-Type', b'application/json; charset=UTF-8'), (b'Vary', b'Origin'), (b'Vary', b'X-Origin'), (b'Vary', b'Referer'), (b'Content-Encoding', b'gzip'), (b'Date', b'Wed, 07 Jan 2026 22:32:27 GMT'), (b'Server', b'scaffolding on HTTPServer2'), (b'X-XSS-Protection', b'0'), (b'X-Frame-Options', b'SAMEORIGIN'), (b'X-Content-Type-Options', b'nosniff'), (b'Server-Timing', b'gfet4t7; dur=1663'), (b'Alt-Svc', b'h3=":443"; ma=2592000,h3-29=":443"; ma=2592000'), (b'Transfer-Encoding', b'chunked')])
2026-01-07 14:32:27,274 - httpx - INFO - HTTP Request: POST https://generativelanguage.googleapis.com/v1beta/models/gemini-2.0-flash:generateContent "HTTP/1.1 200 OK"
2026-01-07 14:32:27,274 - httpcore.http11 - DEBUG - receive_response_body.started request=<Request [b'POST']>
2026-01-07 14:32:27,274 - httpcore.http11 - DEBUG - receive_response_body.complete
2026-01-07 14:32:27,274 - httpcore.http11 - DEBUG - response_closed.started
2026-01-07 14:32:27,274 - httpcore.http11 - DEBUG - response_closed.complete
2026-01-07 14:32:27,275 - VideoStreamIngestor - INFO - LLM inference output: task_updates=[TaskUpdate(task_number=0, task_note='Say hello', task_done=True)] system_actions=[SystemAction(take_action='Open the door')]
2026-01-07 14:32:27,275 - httpcore.connection - DEBUG - connect_tcp.started host='generativelanguage.googleapis.com' port=443 local_address=None timeout=None socket_options=None
2026-01-07 14:32:27,286 - httpcore.connection - DEBUG - close.started
2026-01-07 14:32:27,287 - VideoStreamIngestor - DEBUG - Process loop: Frame got from process loop queue for io_id=9856d608
2026-01-07 14:32:27,293 - VideoStreamIngestor - INFO - LLM inference prompt: output an update to say hello for task number 0 in the notes and take the action of opening the door
2026-01-07 14:32:27,294 - google_genai.models - INFO - AFC is enabled with max remote calls: 10.
2026-01-07 14:32:27,296 - httpcore.http11 - DEBUG - send_request_headers.started request=<Request [b'POST']>
2026-01-07 14:32:27,296 - httpcore.http11 - DEBUG - send_request_headers.complete
2026-01-07 14:32:27,296 - httpcore.http11 - DEBUG - send_request_body.started request=<Request [b'POST']>
2026-01-07 14:32:27,297 - httpcore.http11 - DEBUG - send_request_body.complete
2026-01-07 14:32:27,297 - httpcore.http11 - DEBUG - receive_response_headers.started request=<Request [b'POST']>
2026-01-07 14:32:29,245 - httpcore.http11 - DEBUG - receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'Content-Type', b'application/json; charset=UTF-8'), (b'Vary', b'Origin'), (b'Vary', b'X-Origin'), (b'Vary', b'Referer'), (b'Content-Encoding', b'gzip'), (b'Date', b'Wed, 07 Jan 2026 22:32:29 GMT'), (b'Server', b'scaffolding on HTTPServer2'), (b'X-XSS-Protection', b'0'), (b'X-Frame-Options', b'SAMEORIGIN'), (b'X-Content-Type-Options', b'nosniff'), (b'Server-Timing', b'gfet4t7; dur=1919'), (b'Alt-Svc', b'h3=":443"; ma=2592000,h3-29=":443"; ma=2592000'), (b'Transfer-Encoding', b'chunked')])
2026-01-07 14:32:29,245 - httpx - INFO - HTTP Request: POST https://generativelanguage.googleapis.com/v1beta/models/gemini-2.0-flash:generateContent "HTTP/1.1 200 OK"
2026-01-07 14:32:29,246 - httpcore.http11 - DEBUG - receive_response_body.started request=<Request [b'POST']>
2026-01-07 14:32:29,246 - httpcore.http11 - DEBUG - receive_response_body.complete
2026-01-07 14:32:29,246 - httpcore.http11 - DEBUG - response_closed.started
2026-01-07 14:32:29,247 - httpcore.http11 - DEBUG - response_closed.complete
2026-01-07 14:32:29,248 - VideoStreamIngestor - INFO - LLM inference output: task_updates=[TaskUpdate(task_number=0, task_note='say hello', task_done=False)] system_actions=[SystemAction(take_action='open the door')]
2026-01-07 14:32:29,249 - httpcore.connection - DEBUG - close.complete
2026-01-07 14:32:29,272 - VideoStreamIngestor - DEBUG - Process loop: Frame got from process loop queue for io_id=9856d608
2026-01-07 14:32:29,283 - VideoStreamIngestor - INFO - LLM inference prompt: output an update to say hello for task number 0 in the notes and take the action of opening the door
2026-01-07 14:32:29,284 - google_genai.models - INFO - AFC is enabled with max remote calls: 10.
2026-01-07 14:32:29,287 - httpcore.http11 - DEBUG - send_request_headers.started request=<Request [b'POST']>
2026-01-07 14:32:29,288 - httpcore.http11 - DEBUG - send_request_headers.complete
2026-01-07 14:32:29,288 - httpcore.http11 - DEBUG - send_request_body.started request=<Request [b'POST']>
2026-01-07 14:32:29,288 - httpcore.http11 - DEBUG - send_request_body.complete
2026-01-07 14:32:29,288 - httpcore.http11 - DEBUG - receive_response_headers.started request=<Request [b'POST']>
2026-01-07 14:32:30,906 - httpcore.http11 - DEBUG - receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'Content-Type', b'application/json; charset=UTF-8'), (b'Vary', b'Origin'), (b'Vary', b'X-Origin'), (b'Vary', b'Referer'), (b'Content-Encoding', b'gzip'), (b'Date', b'Wed, 07 Jan 2026 22:32:30 GMT'), (b'Server', b'scaffolding on HTTPServer2'), (b'X-XSS-Protection', b'0'), (b'X-Frame-Options', b'SAMEORIGIN'), (b'X-Content-Type-Options', b'nosniff'), (b'Server-Timing', b'gfet4t7; dur=1610'), (b'Alt-Svc', b'h3=":443"; ma=2592000,h3-29=":443"; ma=2592000'), (b'Transfer-Encoding', b'chunked')])
2026-01-07 14:32:30,907 - httpx - INFO - HTTP Request: POST https://generativelanguage.googleapis.com/v1beta/models/gemini-2.0-flash:generateContent "HTTP/1.1 200 OK"
2026-01-07 14:32:30,908 - httpcore.http11 - DEBUG - receive_response_body.started request=<Request [b'POST']>
2026-01-07 14:32:30,910 - httpcore.http11 - DEBUG - receive_response_body.complete
2026-01-07 14:32:30,910 - httpcore.http11 - DEBUG - response_closed.started
2026-01-07 14:32:30,910 - httpcore.http11 - DEBUG - response_closed.complete
2026-01-07 14:32:30,912 - VideoStreamIngestor - INFO - LLM inference output: task_updates=[TaskUpdate(task_number=0, task_note='say hello', task_done=False)] system_actions=[SystemAction(take_action='opening the door')]
2026-01-07 14:32:30,944 - VideoStreamIngestor - DEBUG - Process loop: Frame got from process loop queue for io_id=9856d608
2026-01-07 14:32:30,960 - VideoStreamIngestor - INFO - LLM inference prompt: output an update to say hello for task number 0 in the notes and take the action of opening the door
2026-01-07 14:32:30,961 - google_genai.models - INFO - AFC is enabled with max remote calls: 10.
2026-01-07 14:32:30,966 - httpcore.http11 - DEBUG - send_request_headers.started request=<Request [b'POST']>
2026-01-07 14:32:30,966 - httpcore.http11 - DEBUG - send_request_headers.complete
2026-01-07 14:32:30,966 - httpcore.http11 - DEBUG - send_request_body.started request=<Request [b'POST']>
2026-01-07 14:32:30,967 - httpcore.http11 - DEBUG - send_request_body.complete
2026-01-07 14:32:30,967 - httpcore.http11 - DEBUG - receive_response_headers.started request=<Request [b'POST']>
2026-01-07 14:32:32,460 - httpcore.http11 - DEBUG - receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'Content-Type', b'application/json; charset=UTF-8'), (b'Vary', b'Origin'), (b'Vary', b'X-Origin'), (b'Vary', b'Referer'), (b'Content-Encoding', b'gzip'), (b'Date', b'Wed, 07 Jan 2026 22:32:32 GMT'), (b'Server', b'scaffolding on HTTPServer2'), (b'X-XSS-Protection', b'0'), (b'X-Frame-Options', b'SAMEORIGIN'), (b'X-Content-Type-Options', b'nosniff'), (b'Server-Timing', b'gfet4t7; dur=1486'), (b'Alt-Svc', b'h3=":443"; ma=2592000,h3-29=":443"; ma=2592000'), (b'Transfer-Encoding', b'chunked')])
2026-01-07 14:32:32,460 - httpx - INFO - HTTP Request: POST https://generativelanguage.googleapis.com/v1beta/models/gemini-2.0-flash:generateContent "HTTP/1.1 200 OK"
2026-01-07 14:32:32,460 - httpcore.http11 - DEBUG - receive_response_body.started request=<Request [b'POST']>
2026-01-07 14:32:32,461 - httpcore.http11 - DEBUG - receive_response_body.complete
2026-01-07 14:32:32,461 - httpcore.http11 - DEBUG - response_closed.started
2026-01-07 14:32:32,461 - httpcore.http11 - DEBUG - response_closed.complete
2026-01-07 14:32:32,462 - VideoStreamIngestor - INFO - LLM inference output: task_updates=[TaskUpdate(task_number=0, task_note='hello', task_done=False)] system_actions=[SystemAction(take_action='open the door')]
2026-01-07 14:32:32,475 - VideoStreamIngestor - DEBUG - Process loop: Frame got from process loop queue for io_id=9856d608
2026-01-07 14:32:32,487 - VideoStreamIngestor - INFO - LLM inference prompt: output an update to say hello for task number 0 in the notes and take the action of opening the door
2026-01-07 14:32:32,488 - google_genai.models - INFO - AFC is enabled with max remote calls: 10.
2026-01-07 14:32:32,491 - httpcore.http11 - DEBUG - send_request_headers.started request=<Request [b'POST']>
2026-01-07 14:32:32,492 - httpcore.http11 - DEBUG - send_request_headers.complete
2026-01-07 14:32:32,492 - httpcore.http11 - DEBUG - send_request_body.started request=<Request [b'POST']>
2026-01-07 14:32:32,492 - httpcore.http11 - DEBUG - send_request_body.complete
2026-01-07 14:32:32,492 - httpcore.http11 - DEBUG - receive_response_headers.started request=<Request [b'POST']>
2026-01-07 14:32:34,261 - httpcore.http11 - DEBUG - receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'Content-Type', b'application/json; charset=UTF-8'), (b'Vary', b'Origin'), (b'Vary', b'X-Origin'), (b'Vary', b'Referer'), (b'Content-Encoding', b'gzip'), (b'Date', b'Wed, 07 Jan 2026 22:32:34 GMT'), (b'Server', b'scaffolding on HTTPServer2'), (b'X-XSS-Protection', b'0'), (b'X-Frame-Options', b'SAMEORIGIN'), (b'X-Content-Type-Options', b'nosniff'), (b'Server-Timing', b'gfet4t7; dur=1729'), (b'Alt-Svc', b'h3=":443"; ma=2592000,h3-29=":443"; ma=2592000'), (b'Transfer-Encoding', b'chunked')])
2026-01-07 14:32:34,262 - httpx - INFO - HTTP Request: POST https://generativelanguage.googleapis.com/v1beta/models/gemini-2.0-flash:generateContent "HTTP/1.1 200 OK"
2026-01-07 14:32:34,262 - httpcore.http11 - DEBUG - receive_response_body.started request=<Request [b'POST']>
2026-01-07 14:32:34,262 - httpcore.http11 - DEBUG - receive_response_body.complete
2026-01-07 14:32:34,262 - httpcore.http11 - DEBUG - response_closed.started
2026-01-07 14:32:34,262 - httpcore.http11 - DEBUG - response_closed.complete
2026-01-07 14:32:34,264 - VideoStreamIngestor - INFO - LLM inference output: task_updates=[TaskUpdate(task_number=0, task_note='say hello', task_done=True)] system_actions=[SystemAction(take_action='opening the door')]
2026-01-07 14:32:34,265 - httpcore.connection - DEBUG - connect_tcp.complete return_value=<httpcore._backends.anyio.AnyIOStream object at 0x1340c0e10>
2026-01-07 14:32:34,265 - httpcore.connection - DEBUG - start_tls.started ssl_context=<ssl.SSLContext object at 0x1219fc440> server_hostname='generativelanguage.googleapis.com' timeout=None
2026-01-07 14:32:34,272 - VideoStreamIngestor - DEBUG - Process loop: Frame got from process loop queue for io_id=9856d608
2026-01-07 14:32:34,285 - VideoStreamIngestor - INFO - LLM inference prompt: output an update to say hello for task number 0 in the notes and take the action of opening the door
2026-01-07 14:32:34,286 - google_genai.models - INFO - AFC is enabled with max remote calls: 10.
2026-01-07 14:32:34,289 - httpcore.http11 - DEBUG - send_request_headers.started request=<Request [b'POST']>
2026-01-07 14:32:34,290 - httpcore.http11 - DEBUG - send_request_headers.complete
2026-01-07 14:32:34,290 - httpcore.http11 - DEBUG - send_request_body.started request=<Request [b'POST']>
2026-01-07 14:32:34,291 - httpcore.http11 - DEBUG - send_request_body.complete
2026-01-07 14:32:34,291 - httpcore.http11 - DEBUG - receive_response_headers.started request=<Request [b'POST']>
2026-01-07 14:32:36,105 - httpcore.http11 - DEBUG - receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'Content-Type', b'application/json; charset=UTF-8'), (b'Vary', b'Origin'), (b'Vary', b'X-Origin'), (b'Vary', b'Referer'), (b'Content-Encoding', b'gzip'), (b'Date', b'Wed, 07 Jan 2026 22:32:36 GMT'), (b'Server', b'scaffolding on HTTPServer2'), (b'X-XSS-Protection', b'0'), (b'X-Frame-Options', b'SAMEORIGIN'), (b'X-Content-Type-Options', b'nosniff'), (b'Server-Timing', b'gfet4t7; dur=1744'), (b'Alt-Svc', b'h3=":443"; ma=2592000,h3-29=":443"; ma=2592000'), (b'Transfer-Encoding', b'chunked')])
2026-01-07 14:32:36,105 - httpx - INFO - HTTP Request: POST https://generativelanguage.googleapis.com/v1beta/models/gemini-2.0-flash:generateContent "HTTP/1.1 200 OK"
2026-01-07 14:32:36,105 - httpcore.http11 - DEBUG - receive_response_body.started request=<Request [b'POST']>
2026-01-07 14:32:36,105 - httpcore.http11 - DEBUG - receive_response_body.complete
2026-01-07 14:32:36,105 - httpcore.http11 - DEBUG - response_closed.started
2026-01-07 14:32:36,106 - httpcore.http11 - DEBUG - response_closed.complete
2026-01-07 14:32:36,106 - VideoStreamIngestor - INFO - LLM inference output: task_updates=[TaskUpdate(task_number=0, task_note='say hello', task_done=True)] system_actions=[SystemAction(take_action='opening the door')]
2026-01-07 14:32:36,126 - httpcore.connection - DEBUG - start_tls.complete return_value=<httpcore._backends.anyio.AnyIOStream object at 0x1219b8c30>
2026-01-07 14:32:36,126 - VideoStreamIngestor - DEBUG - Process loop: Frame got from process loop queue for io_id=9856d608
2026-01-07 14:32:36,132 - VideoStreamIngestor - INFO - LLM inference prompt: output an update to say hello for task number 0 in the notes and take the action of opening the door
2026-01-07 14:32:36,133 - google_genai.models - INFO - AFC is enabled with max remote calls: 10.
2026-01-07 14:32:36,135 - httpcore.http11 - DEBUG - send_request_headers.started request=<Request [b'POST']>
2026-01-07 14:32:36,135 - httpcore.http11 - DEBUG - send_request_headers.complete
2026-01-07 14:32:36,135 - httpcore.http11 - DEBUG - send_request_body.started request=<Request [b'POST']>
2026-01-07 14:32:36,136 - httpcore.http11 - DEBUG - send_request_body.complete
2026-01-07 14:32:36,136 - httpcore.http11 - DEBUG - receive_response_headers.started request=<Request [b'POST']>
2026-01-07 14:32:37,948 - httpcore.http11 - DEBUG - receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'Content-Type', b'application/json; charset=UTF-8'), (b'Vary', b'Origin'), (b'Vary', b'X-Origin'), (b'Vary', b'Referer'), (b'Content-Encoding', b'gzip'), (b'Date', b'Wed, 07 Jan 2026 22:32:37 GMT'), (b'Server', b'scaffolding on HTTPServer2'), (b'X-XSS-Protection', b'0'), (b'X-Frame-Options', b'SAMEORIGIN'), (b'X-Content-Type-Options', b'nosniff'), (b'Server-Timing', b'gfet4t7; dur=1644'), (b'Alt-Svc', b'h3=":443"; ma=2592000,h3-29=":443"; ma=2592000'), (b'Transfer-Encoding', b'chunked')])
2026-01-07 14:32:37,949 - httpx - INFO - HTTP Request: POST https://generativelanguage.googleapis.com/v1beta/models/gemini-2.0-flash:generateContent "HTTP/1.1 200 OK"
2026-01-07 14:32:37,949 - httpcore.http11 - DEBUG - receive_response_body.started request=<Request [b'POST']>
2026-01-07 14:32:37,950 - httpcore.http11 - DEBUG - receive_response_body.complete
2026-01-07 14:32:37,950 - httpcore.http11 - DEBUG - response_closed.started
2026-01-07 14:32:37,950 - httpcore.http11 - DEBUG - response_closed.complete
2026-01-07 14:32:37,952 - VideoStreamIngestor - INFO - LLM inference output: task_updates=[TaskUpdate(task_number=0, task_note='Hello!', task_done=False)] system_actions=[SystemAction(take_action='Open the door')]
2026-01-07 14:32:37,953 - httpcore.http11 - DEBUG - send_request_headers.started request=<Request [b'POST']>
2026-01-07 14:32:37,953 - httpcore.http11 - DEBUG - send_request_headers.complete
2026-01-07 14:32:37,953 - httpcore.http11 - DEBUG - send_request_body.started request=<Request [b'POST']>
2026-01-07 14:32:37,981 - httpcore.http11 - DEBUG - send_request_body.complete
2026-01-07 14:32:37,982 - httpcore.http11 - DEBUG - receive_response_headers.started request=<Request [b'POST']>
2026-01-07 14:32:37,983 - VideoStreamIngestor - DEBUG - Process loop: Frame got from process loop queue for io_id=9856d608
2026-01-07 14:32:37,998 - VideoStreamIngestor - INFO - LLM inference prompt: output an update to say hello for task number 0 in the notes and take the action of opening the door
2026-01-07 14:32:38,000 - google_genai.models - INFO - AFC is enabled with max remote calls: 10.
2026-01-07 14:32:38,004 - httpcore.http11 - DEBUG - send_request_headers.started request=<Request [b'POST']>
2026-01-07 14:32:38,004 - httpcore.http11 - DEBUG - send_request_headers.complete
2026-01-07 14:32:38,004 - httpcore.http11 - DEBUG - send_request_body.started request=<Request [b'POST']>
2026-01-07 14:32:38,005 - httpcore.http11 - DEBUG - send_request_body.complete
2026-01-07 14:32:38,005 - httpcore.http11 - DEBUG - receive_response_headers.started request=<Request [b'POST']>
2026-01-07 14:32:39,996 - httpcore.http11 - DEBUG - receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'Content-Type', b'application/json; charset=UTF-8'), (b'Vary', b'Origin'), (b'Vary', b'X-Origin'), (b'Vary', b'Referer'), (b'Content-Encoding', b'gzip'), (b'Date', b'Wed, 07 Jan 2026 22:32:39 GMT'), (b'Server', b'scaffolding on HTTPServer2'), (b'X-XSS-Protection', b'0'), (b'X-Frame-Options', b'SAMEORIGIN'), (b'X-Content-Type-Options', b'nosniff'), (b'Server-Timing', b'gfet4t7; dur=1794'), (b'Alt-Svc', b'h3=":443"; ma=2592000,h3-29=":443"; ma=2592000'), (b'Transfer-Encoding', b'chunked')])
2026-01-07 14:32:39,997 - httpx - INFO - HTTP Request: POST https://generativelanguage.googleapis.com/v1beta/models/gemini-2.0-flash:generateContent "HTTP/1.1 200 OK"
2026-01-07 14:32:39,997 - httpcore.http11 - DEBUG - receive_response_body.started request=<Request [b'POST']>
2026-01-07 14:32:39,998 - httpcore.http11 - DEBUG - receive_response_body.complete
2026-01-07 14:32:39,998 - httpcore.http11 - DEBUG - response_closed.started
2026-01-07 14:32:39,998 - httpcore.http11 - DEBUG - response_closed.complete
2026-01-07 14:32:39,999 - VideoStreamIngestor - INFO - LLM inference output: task_updates=[TaskUpdate(task_number=0, task_note='say hello', task_done=True)] system_actions=[SystemAction(take_action='opening the door')]
2026-01-07 14:32:40,000 - httpcore.http11 - DEBUG - receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'Content-Type', b'application/json; charset=UTF-8'), (b'Vary', b'Origin'), (b'Vary', b'X-Origin'), (b'Vary', b'Referer'), (b'Content-Encoding', b'gzip'), (b'Date', b'Wed, 07 Jan 2026 22:32:38 GMT'), (b'Server', b'scaffolding on HTTPServer2'), (b'X-XSS-Protection', b'0'), (b'X-Frame-Options', b'SAMEORIGIN'), (b'X-Content-Type-Options', b'nosniff'), (b'Server-Timing', b'gfet4t7; dur=521'), (b'Alt-Svc', b'h3=":443"; ma=2592000,h3-29=":443"; ma=2592000'), (b'Transfer-Encoding', b'chunked')])
2026-01-07 14:32:40,001 - httpx - INFO - HTTP Request: POST https://generativelanguage.googleapis.com/v1beta/models/gemini-2.0-flash:generateContent "HTTP/1.1 200 OK"
2026-01-07 14:32:40,001 - httpcore.http11 - DEBUG - receive_response_body.started request=<Request [b'POST']>
2026-01-07 14:32:40,002 - httpcore.http11 - DEBUG - receive_response_body.complete
2026-01-07 14:32:40,002 - httpcore.http11 - DEBUG - response_closed.started
2026-01-07 14:32:40,013 - httpcore.http11 - DEBUG - response_closed.complete
2026-01-07 14:32:40,016 - google_adk.google.adk.models.google_llm - INFO - Response received from the model.
2026-01-07 14:32:40,016 - google_adk.google.adk.models.google_llm - DEBUG - 
LLM Response:
-----------------------------------------------------------
Text:
None
-----------------------------------------------------------
Function calls:
name: action_router, args: {'request': 'open the door'}
-----------------------------------------------------------
Raw response:
{"sdk_http_response":{"headers":{"content-type":"application/json; charset=UTF-8","vary":"Origin, X-Origin, Referer","content-encoding":"gzip","date":"Wed, 07 Jan 2026 22:32:38 GMT","server":"scaffolding on HTTPServer2","x-xss-protection":"0","x-frame-options":"SAMEORIGIN","x-content-type-options":"nosniff","server-timing":"gfet4t7; dur=521","alt-svc":"h3=\":443\"; ma=2592000,h3-29=\":443\"; ma=2592000","transfer-encoding":"chunked"}},"candidates":[{"content":{"parts":[{"function_call":{"args":{"request":"open the door"},"name":"action_router"}}],"role":"model"},"finish_reason":"STOP","avg_logprobs":-0.00001543554078255381}],"model_version":"gemini-2.0-flash","response_id":"Bt9eacnqAf6OjMcPkqGLkQU","usage_metadata":{"candidates_token_count":7,"candidates_tokens_details":[{"modality":"TEXT","token_count":7}],"prompt_token_count":1141,"prompt_tokens_details":[{"modality":"TEXT","token_count":1141}],"total_token_count":1148}}
-----------------------------------------------------------

2026-01-07 14:32:40,018 - VideoStreamIngestor - DEBUG - Process loop: Frame got from process loop queue for io_id=9856d608
2026-01-07 14:32:40,032 - VideoStreamIngestor - INFO - LLM inference prompt: output an update to say hello for task number 0 in the notes and take the action of opening the door
2026-01-07 14:32:40,033 - google_genai.models - INFO - AFC is enabled with max remote calls: 10.
2026-01-07 14:32:40,037 - httpcore.http11 - DEBUG - send_request_headers.started request=<Request [b'POST']>
2026-01-07 14:32:40,038 - httpcore.http11 - DEBUG - send_request_headers.complete
2026-01-07 14:32:40,038 - httpcore.http11 - DEBUG - send_request_body.started request=<Request [b'POST']>
2026-01-07 14:32:40,039 - httpcore.http11 - DEBUG - send_request_body.complete
2026-01-07 14:32:40,039 - httpcore.http11 - DEBUG - receive_response_headers.started request=<Request [b'POST']>
2026-01-07 14:32:41,841 - httpcore.http11 - DEBUG - receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'Content-Type', b'application/json; charset=UTF-8'), (b'Vary', b'Origin'), (b'Vary', b'X-Origin'), (b'Vary', b'Referer'), (b'Content-Encoding', b'gzip'), (b'Date', b'Wed, 07 Jan 2026 22:32:41 GMT'), (b'Server', b'scaffolding on HTTPServer2'), (b'X-XSS-Protection', b'0'), (b'X-Frame-Options', b'SAMEORIGIN'), (b'X-Content-Type-Options', b'nosniff'), (b'Server-Timing', b'gfet4t7; dur=1777'), (b'Alt-Svc', b'h3=":443"; ma=2592000,h3-29=":443"; ma=2592000'), (b'Transfer-Encoding', b'chunked')])
2026-01-07 14:32:41,841 - httpx - INFO - HTTP Request: POST https://generativelanguage.googleapis.com/v1beta/models/gemini-2.0-flash:generateContent "HTTP/1.1 200 OK"
2026-01-07 14:32:41,841 - httpcore.http11 - DEBUG - receive_response_body.started request=<Request [b'POST']>
2026-01-07 14:32:41,842 - httpcore.http11 - DEBUG - receive_response_body.complete
2026-01-07 14:32:41,842 - httpcore.http11 - DEBUG - response_closed.started
2026-01-07 14:32:41,842 - httpcore.http11 - DEBUG - response_closed.complete
2026-01-07 14:32:41,844 - VideoStreamIngestor - INFO - LLM inference output: task_updates=[TaskUpdate(task_number=0, task_note='Say hello', task_done=True)] system_actions=[SystemAction(take_action='opening the door')]
2026-01-07 14:32:41,873 - google_adk.google.adk.models.google_llm - INFO - Sending out request, model: gemini-2.5-flash, backend: GoogleLLMVariant.GEMINI_API, stream: False
2026-01-07 14:32:41,873 - google_adk.google.adk.models.google_llm - DEBUG - 
LLM Request:
-----------------------------------------------------------
System Instruction:
You are an intelligent action router agent. Your job is to understand action descriptions 
    and route them to the appropriate tool.

    Available tools:
    - send_email: For sending emails. Requires 'to' (email address), optional 'subject', and 'content' (body text).
    - open_door: For opening doors. Requires 'door_name' (e.g., 'front door', 'garage door').
    - close_door: For closing doors. Requires 'door_name'.
    - turn_on_light: For turning on lights. Requires 'light_name'.
    - turn_off_light: For turning off lights. Requires 'light_name'.

    When you receive an action description:
    1. Parse the description to understand the intent
    2. Extract the necessary parameters (email address, door name, etc.)
    3. Call the appropriate tool with the extracted parameters
    4. Return a clear confirmation of what action was taken

    Examples:
    - "send email to example@gmail.com with content hello!" -> call send_email(to="example@gmail.com", content="hello!")
    - "open front door" -> call open_door(door_name="front door")
    - "turn on the living room light" -> call turn_on_light(light_name="living room")
    
    Be smart about extracting parameters from natural language descriptions.

You are an agent. Your internal name is "action_router". The description about you is "An intelligent agent that routes action descriptions to the appropriate action tools.".
-----------------------------------------------------------
Config:
{'http_options': {'headers': {'x-goog-api-client': 'google-adk/1.21.0 gl-python/3.13.5', 'user-agent': 'google-adk/1.21.0 gl-python/3.13.5'}}, 'tools': [{}]}
-----------------------------------------------------------
Contents:
{"parts":[{"text":"open the door"}],"role":"user"}
-----------------------------------------------------------
Functions:
send_email: {'to': {'type': <Type.STRING: 'STRING'>}, 'subject': {'nullable': True, 'type': <Type.STRING: 'STRING'>}, 'content': {'default': '', 'type': <Type.STRING: 'STRING'>}} 
open_door: {'door_name': {'type': <Type.STRING: 'STRING'>}} 
close_door: {'door_name': {'type': <Type.STRING: 'STRING'>}} 
turn_on_light: {'light_name': {'type': <Type.STRING: 'STRING'>}} 
turn_off_light: {'light_name': {'type': <Type.STRING: 'STRING'>}} 
print_to_user: {'message': {'type': <Type.STRING: 'STRING'>}} 
-----------------------------------------------------------

2026-01-07 14:32:41,874 - httpcore.connection - DEBUG - connect_tcp.started host='generativelanguage.googleapis.com' port=443 local_address=None timeout=None socket_options=None
2026-01-07 14:32:41,901 - VideoStreamIngestor - DEBUG - Process loop: Frame got from process loop queue for io_id=9856d608
2026-01-07 14:32:41,910 - VideoStreamIngestor - INFO - LLM inference prompt: output an update to say hello for task number 0 in the notes and take the action of opening the door
2026-01-07 14:32:41,911 - google_genai.models - INFO - AFC is enabled with max remote calls: 10.
2026-01-07 14:32:41,914 - httpcore.http11 - DEBUG - send_request_headers.started request=<Request [b'POST']>
2026-01-07 14:32:41,914 - httpcore.http11 - DEBUG - send_request_headers.complete
2026-01-07 14:32:41,914 - httpcore.http11 - DEBUG - send_request_body.started request=<Request [b'POST']>
2026-01-07 14:32:41,915 - httpcore.http11 - DEBUG - send_request_body.complete
2026-01-07 14:32:41,915 - httpcore.http11 - DEBUG - receive_response_headers.started request=<Request [b'POST']>
2026-01-07 14:32:43,655 - httpcore.http11 - DEBUG - receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'Content-Type', b'application/json; charset=UTF-8'), (b'Vary', b'Origin'), (b'Vary', b'X-Origin'), (b'Vary', b'Referer'), (b'Content-Encoding', b'gzip'), (b'Date', b'Wed, 07 Jan 2026 22:32:43 GMT'), (b'Server', b'scaffolding on HTTPServer2'), (b'X-XSS-Protection', b'0'), (b'X-Frame-Options', b'SAMEORIGIN'), (b'X-Content-Type-Options', b'nosniff'), (b'Server-Timing', b'gfet4t7; dur=1732'), (b'Alt-Svc', b'h3=":443"; ma=2592000,h3-29=":443"; ma=2592000'), (b'Transfer-Encoding', b'chunked')])
2026-01-07 14:32:43,656 - httpx - INFO - HTTP Request: POST https://generativelanguage.googleapis.com/v1beta/models/gemini-2.0-flash:generateContent "HTTP/1.1 200 OK"
2026-01-07 14:32:43,656 - httpcore.http11 - DEBUG - receive_response_body.started request=<Request [b'POST']>
2026-01-07 14:32:43,656 - httpcore.http11 - DEBUG - receive_response_body.complete
2026-01-07 14:32:43,657 - httpcore.http11 - DEBUG - response_closed.started
2026-01-07 14:32:43,657 - httpcore.http11 - DEBUG - response_closed.complete
2026-01-07 14:32:43,658 - VideoStreamIngestor - INFO - LLM inference output: task_updates=[TaskUpdate(task_number=0, task_note='Say hello', task_done=True)] system_actions=[SystemAction(take_action='Open the door')]
2026-01-07 14:32:43,678 - VideoStreamIngestor - DEBUG - Process loop: Frame got from process loop queue for io_id=9856d608
2026-01-07 14:32:43,690 - VideoStreamIngestor - INFO - LLM inference prompt: output an update to say hello for task number 0 in the notes and take the action of opening the door
2026-01-07 14:32:43,691 - google_genai.models - INFO - AFC is enabled with max remote calls: 10.
2026-01-07 14:32:43,694 - httpcore.http11 - DEBUG - send_request_headers.started request=<Request [b'POST']>
2026-01-07 14:32:43,695 - httpcore.http11 - DEBUG - send_request_headers.complete
2026-01-07 14:32:43,695 - httpcore.http11 - DEBUG - send_request_body.started request=<Request [b'POST']>
2026-01-07 14:32:43,695 - httpcore.http11 - DEBUG - send_request_body.complete
2026-01-07 14:32:43,695 - httpcore.http11 - DEBUG - receive_response_headers.started request=<Request [b'POST']>
2026-01-07 14:32:45,526 - httpcore.http11 - DEBUG - receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'Content-Type', b'application/json; charset=UTF-8'), (b'Vary', b'Origin'), (b'Vary', b'X-Origin'), (b'Vary', b'Referer'), (b'Content-Encoding', b'gzip'), (b'Date', b'Wed, 07 Jan 2026 22:32:45 GMT'), (b'Server', b'scaffolding on HTTPServer2'), (b'X-XSS-Protection', b'0'), (b'X-Frame-Options', b'SAMEORIGIN'), (b'X-Content-Type-Options', b'nosniff'), (b'Server-Timing', b'gfet4t7; dur=1798'), (b'Alt-Svc', b'h3=":443"; ma=2592000,h3-29=":443"; ma=2592000'), (b'Transfer-Encoding', b'chunked')])
2026-01-07 14:32:45,527 - httpx - INFO - HTTP Request: POST https://generativelanguage.googleapis.com/v1beta/models/gemini-2.0-flash:generateContent "HTTP/1.1 200 OK"
2026-01-07 14:32:45,527 - httpcore.http11 - DEBUG - receive_response_body.started request=<Request [b'POST']>
2026-01-07 14:32:45,528 - httpcore.http11 - DEBUG - receive_response_body.complete
2026-01-07 14:32:45,528 - httpcore.http11 - DEBUG - response_closed.started
2026-01-07 14:32:45,528 - httpcore.http11 - DEBUG - response_closed.complete
2026-01-07 14:32:45,529 - VideoStreamIngestor - INFO - LLM inference output: task_updates=[TaskUpdate(task_number=0, task_note='say hello', task_done=True)] system_actions=[SystemAction(take_action='open the door')]
2026-01-07 14:32:45,552 - VideoStreamIngestor - DEBUG - Process loop: Frame got from process loop queue for io_id=9856d608
2026-01-07 14:32:45,568 - VideoStreamIngestor - INFO - LLM inference prompt: output an update to say hello for task number 0 in the notes and take the action of opening the door
2026-01-07 14:32:45,571 - google_genai.models - INFO - AFC is enabled with max remote calls: 10.
2026-01-07 14:32:45,576 - httpcore.http11 - DEBUG - send_request_headers.started request=<Request [b'POST']>
2026-01-07 14:32:45,576 - httpcore.http11 - DEBUG - send_request_headers.complete
2026-01-07 14:32:45,576 - httpcore.http11 - DEBUG - send_request_body.started request=<Request [b'POST']>
2026-01-07 14:32:45,577 - httpcore.http11 - DEBUG - send_request_body.complete
2026-01-07 14:32:45,577 - httpcore.http11 - DEBUG - receive_response_headers.started request=<Request [b'POST']>
2026-01-07 14:32:47,300 - httpcore.http11 - DEBUG - receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'Content-Type', b'application/json; charset=UTF-8'), (b'Vary', b'Origin'), (b'Vary', b'X-Origin'), (b'Vary', b'Referer'), (b'Content-Encoding', b'gzip'), (b'Date', b'Wed, 07 Jan 2026 22:32:47 GMT'), (b'Server', b'scaffolding on HTTPServer2'), (b'X-XSS-Protection', b'0'), (b'X-Frame-Options', b'SAMEORIGIN'), (b'X-Content-Type-Options', b'nosniff'), (b'Server-Timing', b'gfet4t7; dur=1715'), (b'Alt-Svc', b'h3=":443"; ma=2592000,h3-29=":443"; ma=2592000'), (b'Transfer-Encoding', b'chunked')])
2026-01-07 14:32:47,301 - httpx - INFO - HTTP Request: POST https://generativelanguage.googleapis.com/v1beta/models/gemini-2.0-flash:generateContent "HTTP/1.1 200 OK"
2026-01-07 14:32:47,301 - httpcore.http11 - DEBUG - receive_response_body.started request=<Request [b'POST']>
2026-01-07 14:32:47,301 - httpcore.http11 - DEBUG - receive_response_body.complete
2026-01-07 14:32:47,301 - httpcore.http11 - DEBUG - response_closed.started
2026-01-07 14:32:47,301 - httpcore.http11 - DEBUG - response_closed.complete
2026-01-07 14:32:47,302 - VideoStreamIngestor - INFO - LLM inference output: task_updates=[TaskUpdate(task_number=0, task_note='say hello', task_done=True)] system_actions=[SystemAction(take_action='opening the door')]
2026-01-07 14:32:47,337 - VideoStreamIngestor - DEBUG - Process loop: Frame got from process loop queue for io_id=9856d608
2026-01-07 14:32:47,348 - VideoStreamIngestor - INFO - LLM inference prompt: output an update to say hello for task number 0 in the notes and take the action of opening the door
2026-01-07 14:32:47,349 - google_genai.models - INFO - AFC is enabled with max remote calls: 10.
2026-01-07 14:32:47,352 - httpcore.http11 - DEBUG - send_request_headers.started request=<Request [b'POST']>
2026-01-07 14:32:47,352 - httpcore.http11 - DEBUG - send_request_headers.complete
2026-01-07 14:32:47,353 - httpcore.http11 - DEBUG - send_request_body.started request=<Request [b'POST']>
2026-01-07 14:32:47,353 - httpcore.http11 - DEBUG - send_request_body.complete
2026-01-07 14:32:47,353 - httpcore.http11 - DEBUG - receive_response_headers.started request=<Request [b'POST']>
2026-01-07 14:32:49,212 - httpcore.http11 - DEBUG - receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'Content-Type', b'application/json; charset=UTF-8'), (b'Vary', b'Origin'), (b'Vary', b'X-Origin'), (b'Vary', b'Referer'), (b'Content-Encoding', b'gzip'), (b'Date', b'Wed, 07 Jan 2026 22:32:49 GMT'), (b'Server', b'scaffolding on HTTPServer2'), (b'X-XSS-Protection', b'0'), (b'X-Frame-Options', b'SAMEORIGIN'), (b'X-Content-Type-Options', b'nosniff'), (b'Server-Timing', b'gfet4t7; dur=1764'), (b'Alt-Svc', b'h3=":443"; ma=2592000,h3-29=":443"; ma=2592000'), (b'Transfer-Encoding', b'chunked')])
2026-01-07 14:32:49,212 - httpx - INFO - HTTP Request: POST https://generativelanguage.googleapis.com/v1beta/models/gemini-2.0-flash:generateContent "HTTP/1.1 200 OK"
2026-01-07 14:32:49,212 - httpcore.http11 - DEBUG - receive_response_body.started request=<Request [b'POST']>
2026-01-07 14:32:49,213 - httpcore.http11 - DEBUG - receive_response_body.complete
2026-01-07 14:32:49,213 - httpcore.http11 - DEBUG - response_closed.started
2026-01-07 14:32:49,213 - httpcore.http11 - DEBUG - response_closed.complete
2026-01-07 14:32:49,213 - VideoStreamIngestor - INFO - LLM inference output: task_updates=[TaskUpdate(task_number=0, task_note='say hello', task_done=True)] system_actions=[SystemAction(take_action='opening the door')]
2026-01-07 14:32:49,214 - httpcore.connection - DEBUG - connect_tcp.complete return_value=<httpcore._backends.anyio.AnyIOStream object at 0x1215870c0>
2026-01-07 14:32:49,214 - httpcore.connection - DEBUG - start_tls.started ssl_context=<ssl.SSLContext object at 0x13408ef90> server_hostname='generativelanguage.googleapis.com' timeout=None
2026-01-07 14:32:49,241 - VideoStreamIngestor - DEBUG - Process loop: Frame got from process loop queue for io_id=9856d608
2026-01-07 14:32:49,250 - VideoStreamIngestor - INFO - LLM inference prompt: output an update to say hello for task number 0 in the notes and take the action of opening the door
2026-01-07 14:32:49,253 - google_genai.models - INFO - AFC is enabled with max remote calls: 10.
2026-01-07 14:32:49,257 - httpcore.http11 - DEBUG - send_request_headers.started request=<Request [b'POST']>
2026-01-07 14:32:49,259 - httpcore.http11 - DEBUG - send_request_headers.complete
2026-01-07 14:32:49,260 - httpcore.http11 - DEBUG - send_request_body.started request=<Request [b'POST']>
2026-01-07 14:32:49,262 - httpcore.http11 - DEBUG - send_request_body.complete
2026-01-07 14:32:49,263 - httpcore.http11 - DEBUG - receive_response_headers.started request=<Request [b'POST']>
2026-01-07 14:32:51,057 - httpcore.http11 - DEBUG - receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'Content-Type', b'application/json; charset=UTF-8'), (b'Vary', b'Origin'), (b'Vary', b'X-Origin'), (b'Vary', b'Referer'), (b'Content-Encoding', b'gzip'), (b'Date', b'Wed, 07 Jan 2026 22:32:51 GMT'), (b'Server', b'scaffolding on HTTPServer2'), (b'X-XSS-Protection', b'0'), (b'X-Frame-Options', b'SAMEORIGIN'), (b'X-Content-Type-Options', b'nosniff'), (b'Server-Timing', b'gfet4t7; dur=1770'), (b'Alt-Svc', b'h3=":443"; ma=2592000,h3-29=":443"; ma=2592000'), (b'Transfer-Encoding', b'chunked')])
2026-01-07 14:32:51,057 - httpx - INFO - HTTP Request: POST https://generativelanguage.googleapis.com/v1beta/models/gemini-2.0-flash:generateContent "HTTP/1.1 200 OK"
2026-01-07 14:32:51,058 - httpcore.http11 - DEBUG - receive_response_body.started request=<Request [b'POST']>
2026-01-07 14:32:51,059 - httpcore.http11 - DEBUG - receive_response_body.complete
2026-01-07 14:32:51,059 - httpcore.http11 - DEBUG - response_closed.started
2026-01-07 14:32:51,059 - httpcore.http11 - DEBUG - response_closed.complete
2026-01-07 14:32:51,061 - VideoStreamIngestor - INFO - LLM inference output: task_updates=[TaskUpdate(task_number=0, task_note='say hello', task_done=False)] system_actions=[SystemAction(take_action='opening the door')]
2026-01-07 14:32:51,085 - httpcore.connection - DEBUG - start_tls.complete return_value=<httpcore._backends.anyio.AnyIOStream object at 0x106dfd090>
2026-01-07 14:32:51,086 - VideoStreamIngestor - DEBUG - Process loop: Frame got from process loop queue for io_id=9856d608
2026-01-07 14:32:51,099 - VideoStreamIngestor - INFO - LLM inference prompt: output an update to say hello for task number 0 in the notes and take the action of opening the door
2026-01-07 14:32:51,100 - google_genai.models - INFO - AFC is enabled with max remote calls: 10.
2026-01-07 14:32:51,103 - httpcore.http11 - DEBUG - send_request_headers.started request=<Request [b'POST']>
2026-01-07 14:32:51,104 - httpcore.http11 - DEBUG - send_request_headers.complete
2026-01-07 14:32:51,104 - httpcore.http11 - DEBUG - send_request_body.started request=<Request [b'POST']>
2026-01-07 14:32:51,104 - httpcore.http11 - DEBUG - send_request_body.complete
2026-01-07 14:32:51,104 - httpcore.http11 - DEBUG - receive_response_headers.started request=<Request [b'POST']>
2026-01-07 14:32:52,898 - httpcore.http11 - DEBUG - receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'Content-Type', b'application/json; charset=UTF-8'), (b'Vary', b'Origin'), (b'Vary', b'X-Origin'), (b'Vary', b'Referer'), (b'Content-Encoding', b'gzip'), (b'Date', b'Wed, 07 Jan 2026 22:32:52 GMT'), (b'Server', b'scaffolding on HTTPServer2'), (b'X-XSS-Protection', b'0'), (b'X-Frame-Options', b'SAMEORIGIN'), (b'X-Content-Type-Options', b'nosniff'), (b'Server-Timing', b'gfet4t7; dur=1726'), (b'Alt-Svc', b'h3=":443"; ma=2592000,h3-29=":443"; ma=2592000'), (b'Transfer-Encoding', b'chunked')])
2026-01-07 14:32:52,899 - httpx - INFO - HTTP Request: POST https://generativelanguage.googleapis.com/v1beta/models/gemini-2.0-flash:generateContent "HTTP/1.1 200 OK"
2026-01-07 14:32:52,899 - httpcore.http11 - DEBUG - receive_response_body.started request=<Request [b'POST']>
2026-01-07 14:32:52,899 - httpcore.http11 - DEBUG - receive_response_body.complete
2026-01-07 14:32:52,899 - httpcore.http11 - DEBUG - response_closed.started
2026-01-07 14:32:52,899 - httpcore.http11 - DEBUG - response_closed.complete
2026-01-07 14:32:52,900 - VideoStreamIngestor - INFO - LLM inference output: task_updates=[TaskUpdate(task_number=0, task_note='Say hello', task_done=True)] system_actions=[SystemAction(take_action='open the door')]
2026-01-07 14:32:52,900 - httpcore.http11 - DEBUG - send_request_headers.started request=<Request [b'POST']>
2026-01-07 14:32:52,901 - httpcore.http11 - DEBUG - send_request_headers.complete
2026-01-07 14:32:52,901 - httpcore.http11 - DEBUG - send_request_body.started request=<Request [b'POST']>
2026-01-07 14:32:52,902 - httpcore.http11 - DEBUG - send_request_body.complete
2026-01-07 14:32:52,902 - httpcore.http11 - DEBUG - receive_response_headers.started request=<Request [b'POST']>
2026-01-07 14:32:52,903 - VideoStreamIngestor - DEBUG - Process loop: Frame got from process loop queue for io_id=9856d608
2026-01-07 14:32:52,909 - VideoStreamIngestor - INFO - LLM inference prompt: output an update to say hello for task number 0 in the notes and take the action of opening the door
2026-01-07 14:32:52,910 - google_genai.models - INFO - AFC is enabled with max remote calls: 10.
2026-01-07 14:32:52,912 - httpcore.http11 - DEBUG - send_request_headers.started request=<Request [b'POST']>
2026-01-07 14:32:52,912 - httpcore.http11 - DEBUG - send_request_headers.complete
2026-01-07 14:32:52,912 - httpcore.http11 - DEBUG - send_request_body.started request=<Request [b'POST']>
2026-01-07 14:32:52,913 - httpcore.http11 - DEBUG - send_request_body.complete
2026-01-07 14:32:52,913 - httpcore.http11 - DEBUG - receive_response_headers.started request=<Request [b'POST']>
