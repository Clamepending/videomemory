2026-01-08 13:50:46,115 - asyncio - DEBUG - Using selector: KqueueSelector
2026-01-08 13:50:49,941 - main - DEBUG - [DEBUG] main: Processing user input: count fingers
2026-01-08 13:50:49,942 - main - DEBUG - [DEBUG] main: About to call runner.run_async
2026-01-08 13:50:49,993 - google_adk.google.adk.models.google_llm - INFO - Sending out request, model: gemini-2.5-flash, backend: GoogleLLMVariant.GEMINI_API, stream: False
2026-01-08 13:50:49,993 - google_adk.google.adk.models.google_llm - DEBUG - 
LLM Request:
-----------------------------------------------------------
System Instruction:
You are a helpful and friendly system administrator. Be concise and clear in your responses. You have access to tools that can help you check available input devices on the system and manage tasks. When a user requests a task that requires an input device, you should automatically call list_input_devices_with_ids to find the appropriate device and its io_id. Do not ask the user for io_ids - always retrieve them yourself using the available tools. When selecting a device, prefer video cameras (camera category) when possible. Once you have the io_id, use add_task with the io_id to create tasks. Use list_tasks to view all tasks (optionally filtered by io_id). When a user asks a question about a task, first call list_tasks to find the relevant task_id, then call get_info_on ONCE with that task_id to get detailed information. Do not call get_info_on multiple times for the same task_id. Make sure to call get_info_on when answering a user's question about a task.Use remove_task to delete a task by its task_id. Use edit_task to update a task's description. This is especially useful when a user wants to amend an existing task, for example, to add an action to be triggered when a condition is met. When editing a task, preserve the original detection part and add the new action requirement. For example, if a task is 'Count claps' and the user wants to send an email when claps reach 1, edit it to 'Count claps and when it reaches 1 send email to [email]'. You can also use take_output_action to execute various actions like sending emails, opening/closing doors, or controlling lights by providing a natural language description of the action. IMPORTANT: When a user requests an action to be triggered based on a video feed event (e.g., 'send me an email when I clap', 'turn on lights when I wave'), you have two options: 1. If a relevant task already exists (e.g., 'Count claps'), use edit_task to amend it with the action. 2. If no relevant task exists, add a NEW task that combines both the detection and the action. 

You are an agent. Your internal name is "system_administrator". The description about you is "A helpful system administrator. It controls the system on behalf of the user.".
-----------------------------------------------------------
Config:
{'http_options': {'headers': {'x-goog-api-client': 'google-adk/1.21.0 gl-python/3.13.5', 'user-agent': 'google-adk/1.21.0 gl-python/3.13.5'}}, 'tools': [{}]}
-----------------------------------------------------------
Contents:
{"parts":[{"text":"count fingers"}],"role":"user"}
-----------------------------------------------------------
Functions:
list_input_devices_with_ids: {} 
add_task: {'io_id': {'type': <Type.STRING: 'STRING'>}, 'task_description': {'type': <Type.STRING: 'STRING'>}} 
list_tasks: {'io_id': {'nullable': True, 'type': <Type.STRING: 'STRING'>}} 
get_info_on: {'task_id': {'type': <Type.STRING: 'STRING'>}} 
remove_task: {'task_id': {'type': <Type.STRING: 'STRING'>}} 
edit_task: {'task_id': {'type': <Type.STRING: 'STRING'>}, 'new_description': {'type': <Type.STRING: 'STRING'>}} 
action_router: {'request': {'type': <Type.STRING: 'STRING'>}} 
-----------------------------------------------------------

2026-01-08 13:50:49,996 - httpcore.connection - DEBUG - connect_tcp.started host='generativelanguage.googleapis.com' port=443 local_address=None timeout=None socket_options=None
2026-01-08 13:50:50,011 - httpcore.connection - DEBUG - connect_tcp.complete return_value=<httpcore._backends.anyio.AnyIOStream object at 0x11ab863c0>
2026-01-08 13:50:50,011 - httpcore.connection - DEBUG - start_tls.started ssl_context=<ssl.SSLContext object at 0x108ddf2f0> server_hostname='generativelanguage.googleapis.com' timeout=None
2026-01-08 13:50:50,044 - httpcore.connection - DEBUG - start_tls.complete return_value=<httpcore._backends.anyio.AnyIOStream object at 0x11ab16350>
2026-01-08 13:50:50,044 - httpcore.http11 - DEBUG - send_request_headers.started request=<Request [b'POST']>
2026-01-08 13:50:50,044 - httpcore.http11 - DEBUG - send_request_headers.complete
2026-01-08 13:50:50,044 - httpcore.http11 - DEBUG - send_request_body.started request=<Request [b'POST']>
2026-01-08 13:50:50,044 - httpcore.http11 - DEBUG - send_request_body.complete
2026-01-08 13:50:50,044 - httpcore.http11 - DEBUG - receive_response_headers.started request=<Request [b'POST']>
2026-01-08 13:50:51,586 - httpcore.http11 - DEBUG - receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'Content-Type', b'application/json; charset=UTF-8'), (b'Vary', b'Origin'), (b'Vary', b'X-Origin'), (b'Vary', b'Referer'), (b'Content-Encoding', b'gzip'), (b'Date', b'Thu, 08 Jan 2026 21:50:51 GMT'), (b'Server', b'scaffolding on HTTPServer2'), (b'X-XSS-Protection', b'0'), (b'X-Frame-Options', b'SAMEORIGIN'), (b'X-Content-Type-Options', b'nosniff'), (b'Server-Timing', b'gfet4t7; dur=1518'), (b'Alt-Svc', b'h3=":443"; ma=2592000,h3-29=":443"; ma=2592000'), (b'Transfer-Encoding', b'chunked')])
2026-01-08 13:50:51,588 - httpx - INFO - HTTP Request: POST https://generativelanguage.googleapis.com/v1beta/models/gemini-2.5-flash:generateContent "HTTP/1.1 200 OK"
2026-01-08 13:50:51,589 - httpcore.http11 - DEBUG - receive_response_body.started request=<Request [b'POST']>
2026-01-08 13:50:51,590 - httpcore.http11 - DEBUG - receive_response_body.complete
2026-01-08 13:50:51,590 - httpcore.http11 - DEBUG - response_closed.started
2026-01-08 13:50:51,590 - httpcore.http11 - DEBUG - response_closed.complete
2026-01-08 13:50:51,592 - google_adk.google.adk.models.google_llm - INFO - Response received from the model.
2026-01-08 13:50:51,592 - google_genai.types - WARNING - Warning: there are non-text parts in the response: ['function_call'], returning concatenated text result from text parts. Check the full candidates.content.parts accessor to get the full model response.
2026-01-08 13:50:51,592 - google_adk.google.adk.models.google_llm - DEBUG - 
LLM Response:
-----------------------------------------------------------
Text:
None
-----------------------------------------------------------
Function calls:
name: list_input_devices_with_ids, args: {}
-----------------------------------------------------------
Raw response:
{"sdk_http_response":{"headers":{"content-type":"application/json; charset=UTF-8","vary":"Origin, X-Origin, Referer","content-encoding":"gzip","date":"Thu, 08 Jan 2026 21:50:51 GMT","server":"scaffolding on HTTPServer2","x-xss-protection":"0","x-frame-options":"SAMEORIGIN","x-content-type-options":"nosniff","server-timing":"gfet4t7; dur=1518","alt-svc":"h3=\":443\"; ma=2592000,h3-29=\":443\"; ma=2592000","transfer-encoding":"chunked"}},"candidates":[{"content":{"parts":[{"function_call":{"args":{},"name":"list_input_devices_with_ids"},"thought_signature":"CvEBAXLI2nwScjF98UZCRtrafqBZfpp1jAHJkaWxrgxt8JRpMHGes8dK-Te0yjhQw_GyGPyxa4EcxBxsXQYe4DOdnjdRKqYgA9ek-8a623yydU72CZRjYLsKOzvhqFJ4ck6ws8kJNs3g5omO6Q4sXEaRsdqerlllzLSUwml9GQla1V1zr7U8cHU8Nm-QRcS3hKUrcwjqYP_g_xco9D4G0GSN0OSdk2K4NMeAqGaL048cQ5D2KIOQhvoXrlLr4ufnH6SUPNEj_Soa2qdcNepFj1UU9ztafcwFO6sILW39k2RgyZFpC61QrgB3g1HdDyZhiE19xQ=="}],"role":"model"},"finish_reason":"STOP","index":0}],"model_version":"gemini-2.5-flash","response_id":"uyZgaaLMH4mPjMcPwvTwgA8","usage_metadata":{"candidates_token_count":16,"prompt_token_count":1181,"prompt_tokens_details":[{"modality":"TEXT","token_count":1181}],"thoughts_token_count":42,"total_token_count":1239}}
-----------------------------------------------------------

2026-01-08 13:50:51,594 - main - DEBUG - [DEBUG] main: Received event, is_final_response=False
2026-01-08 13:50:52,804 - main - DEBUG - [DEBUG] main: Received event, is_final_response=False
2026-01-08 13:50:52,819 - google_adk.google.adk.models.google_llm - INFO - Sending out request, model: gemini-2.5-flash, backend: GoogleLLMVariant.GEMINI_API, stream: False
2026-01-08 13:50:52,819 - google_adk.google.adk.models.google_llm - DEBUG - 
LLM Request:
-----------------------------------------------------------
System Instruction:
You are a helpful and friendly system administrator. Be concise and clear in your responses. You have access to tools that can help you check available input devices on the system and manage tasks. When a user requests a task that requires an input device, you should automatically call list_input_devices_with_ids to find the appropriate device and its io_id. Do not ask the user for io_ids - always retrieve them yourself using the available tools. When selecting a device, prefer video cameras (camera category) when possible. Once you have the io_id, use add_task with the io_id to create tasks. Use list_tasks to view all tasks (optionally filtered by io_id). When a user asks a question about a task, first call list_tasks to find the relevant task_id, then call get_info_on ONCE with that task_id to get detailed information. Do not call get_info_on multiple times for the same task_id. Make sure to call get_info_on when answering a user's question about a task.Use remove_task to delete a task by its task_id. Use edit_task to update a task's description. This is especially useful when a user wants to amend an existing task, for example, to add an action to be triggered when a condition is met. When editing a task, preserve the original detection part and add the new action requirement. For example, if a task is 'Count claps' and the user wants to send an email when claps reach 1, edit it to 'Count claps and when it reaches 1 send email to [email]'. You can also use take_output_action to execute various actions like sending emails, opening/closing doors, or controlling lights by providing a natural language description of the action. IMPORTANT: When a user requests an action to be triggered based on a video feed event (e.g., 'send me an email when I clap', 'turn on lights when I wave'), you have two options: 1. If a relevant task already exists (e.g., 'Count claps'), use edit_task to amend it with the action. 2. If no relevant task exists, add a NEW task that combines both the detection and the action. 

You are an agent. Your internal name is "system_administrator". The description about you is "A helpful system administrator. It controls the system on behalf of the user.".
-----------------------------------------------------------
Config:
{'http_options': {'headers': {'x-goog-api-client': 'google-adk/1.21.0 gl-python/3.13.5', 'user-agent': 'google-adk/1.21.0 gl-python/3.13.5'}}, 'tools': [{}]}
-----------------------------------------------------------
Contents:
{"parts":[{"text":"count fingers"}],"role":"user"}
{"parts":[{"function_call":{"args":{},"name":"list_input_devices_with_ids"},"thought_signature":"CvEBAXLI2nwScjF98UZCRtrafqBZfpp1jAHJkaWxrgxt8JRpMHGes8dK-Te0yjhQw_GyGPyxa4EcxBxsXQYe4DOdnjdRKqYgA9ek-8a623yydU72CZRjYLsKOzvhqFJ4ck6ws8kJNs3g5omO6Q4sXEaRsdqerlllzLSUwml9GQla1V1zr7U8cHU8Nm-QRcS3hKUrcwjqYP_g_xco9D4G0GSN0OSdk2K4NMeAqGaL048cQ5D2KIOQhvoXrlLr4ufnH6SUPNEj_Soa2qdcNepFj1UU9ztafcwFO6sILW39k2RgyZFpC61QrgB3g1HdDyZhiE19xQ=="}],"role":"model"}
{"parts":[{"function_response":{"name":"list_input_devices_with_ids","response":{"status":"success","input_devices":{"camera":[{"io_id":"ddeb3cd4","name":""},{"io_id":"9856d608","name":"FaceTime HD Camera"},{"io_id":"ea036130","name":"OBS Camera Extension"}]}}}}],"role":"user"}
-----------------------------------------------------------
Functions:
list_input_devices_with_ids: {} 
add_task: {'io_id': {'type': <Type.STRING: 'STRING'>}, 'task_description': {'type': <Type.STRING: 'STRING'>}} 
list_tasks: {'io_id': {'nullable': True, 'type': <Type.STRING: 'STRING'>}} 
get_info_on: {'task_id': {'type': <Type.STRING: 'STRING'>}} 
remove_task: {'task_id': {'type': <Type.STRING: 'STRING'>}} 
edit_task: {'task_id': {'type': <Type.STRING: 'STRING'>}, 'new_description': {'type': <Type.STRING: 'STRING'>}} 
action_router: {'request': {'type': <Type.STRING: 'STRING'>}} 
-----------------------------------------------------------

2026-01-08 13:50:52,820 - httpcore.connection - DEBUG - close.started
2026-01-08 13:50:52,820 - httpcore.connection - DEBUG - connect_tcp.started host='generativelanguage.googleapis.com' port=443 local_address=None timeout=None socket_options=None
2026-01-08 13:50:52,821 - httpcore.connection - DEBUG - close.complete
2026-01-08 13:50:52,829 - httpcore.connection - DEBUG - connect_tcp.complete return_value=<httpcore._backends.anyio.AnyIOStream object at 0x11ab14910>
2026-01-08 13:50:52,829 - httpcore.connection - DEBUG - start_tls.started ssl_context=<ssl.SSLContext object at 0x108dddfd0> server_hostname='generativelanguage.googleapis.com' timeout=None
2026-01-08 13:50:52,864 - httpcore.connection - DEBUG - start_tls.complete return_value=<httpcore._backends.anyio.AnyIOStream object at 0x11ab51f30>
2026-01-08 13:50:52,864 - httpcore.http11 - DEBUG - send_request_headers.started request=<Request [b'POST']>
2026-01-08 13:50:52,864 - httpcore.http11 - DEBUG - send_request_headers.complete
2026-01-08 13:50:52,864 - httpcore.http11 - DEBUG - send_request_body.started request=<Request [b'POST']>
2026-01-08 13:50:52,865 - httpcore.http11 - DEBUG - send_request_body.complete
2026-01-08 13:50:52,865 - httpcore.http11 - DEBUG - receive_response_headers.started request=<Request [b'POST']>
2026-01-08 13:50:53,850 - httpcore.http11 - DEBUG - receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'Content-Type', b'application/json; charset=UTF-8'), (b'Vary', b'Origin'), (b'Vary', b'X-Origin'), (b'Vary', b'Referer'), (b'Content-Encoding', b'gzip'), (b'Date', b'Thu, 08 Jan 2026 21:50:53 GMT'), (b'Server', b'scaffolding on HTTPServer2'), (b'X-XSS-Protection', b'0'), (b'X-Frame-Options', b'SAMEORIGIN'), (b'X-Content-Type-Options', b'nosniff'), (b'Server-Timing', b'gfet4t7; dur=975'), (b'Alt-Svc', b'h3=":443"; ma=2592000,h3-29=":443"; ma=2592000'), (b'Transfer-Encoding', b'chunked')])
2026-01-08 13:50:53,850 - httpx - INFO - HTTP Request: POST https://generativelanguage.googleapis.com/v1beta/models/gemini-2.5-flash:generateContent "HTTP/1.1 200 OK"
2026-01-08 13:50:53,851 - httpcore.http11 - DEBUG - receive_response_body.started request=<Request [b'POST']>
2026-01-08 13:50:53,852 - httpcore.http11 - DEBUG - receive_response_body.complete
2026-01-08 13:50:53,852 - httpcore.http11 - DEBUG - response_closed.started
2026-01-08 13:50:53,853 - httpcore.http11 - DEBUG - response_closed.complete
2026-01-08 13:50:53,855 - google_adk.google.adk.models.google_llm - INFO - Response received from the model.
2026-01-08 13:50:53,855 - google_adk.google.adk.models.google_llm - DEBUG - 
LLM Response:
-----------------------------------------------------------
Text:
None
-----------------------------------------------------------
Function calls:
name: add_task, args: {'task_description': 'Count fingers', 'io_id': '9856d608'}
-----------------------------------------------------------
Raw response:
{"sdk_http_response":{"headers":{"content-type":"application/json; charset=UTF-8","vary":"Origin, X-Origin, Referer","content-encoding":"gzip","date":"Thu, 08 Jan 2026 21:50:53 GMT","server":"scaffolding on HTTPServer2","x-xss-protection":"0","x-frame-options":"SAMEORIGIN","x-content-type-options":"nosniff","server-timing":"gfet4t7; dur=975","alt-svc":"h3=\":443\"; ma=2592000,h3-29=\":443\"; ma=2592000","transfer-encoding":"chunked"}},"candidates":[{"content":{"parts":[{"function_call":{"args":{"task_description":"Count fingers","io_id":"9856d608"},"name":"add_task"},"thought_signature":"CocCAXLI2nzJI-hjWy4vvShNrej2gr__n3qB2uH6jE68svMoqjjfv0x-QwIqlb3oi0QL3KrHfyMhHuJLq6kD1bRz5AHkwX5-KRrR8hUORGX0bGKnz1H-mHCDqa8YpOUXTAIvvYdV8nQ9Kj4wPlGFowNMTow992fhx6oOADkUcJ71sbrTQzc080K3SRV9ybqd63YWglxh_tgMtv83dke0UmcFFqmhMwvGDjtSPsyjLlpFEt6PsrzGMN1ivotlmt4qnP6MDbjhSVBpZYXNyEAjA85lKdnFYQBXkBZuviixlpedIqf_EKoOJqudlIDS3ZcYwd3Of5gfwvtwdoh_A4KZmw5oh9ODymTsqrc="}],"role":"model"},"finish_reason":"STOP","index":0}],"model_version":"gemini-2.5-flash","response_id":"vSZgafSAMKG-jMcP4KjXoQM","usage_metadata":{"cache_tokens_details":[{"modality":"TEXT","token_count":749}],"cached_content_token_count":749,"candidates_token_count":32,"prompt_token_count":1290,"prompt_tokens_details":[{"modality":"TEXT","token_count":1290}],"thoughts_token_count":61,"total_token_count":1383}}
-----------------------------------------------------------

2026-01-08 13:50:53,857 - main - DEBUG - [DEBUG] main: Received event, is_final_response=False
2026-01-08 13:50:54,258 - tasks - DEBUG - [DEBUG] add_task: About to call task_manager.add_task for io_id=9856d608, task=Count fingers
2026-01-08 13:50:54,630 - VideoStreamIngestor - INFO - Initialized Google GenAI client for camera index=0
2026-01-08 13:50:54,630 - VideoStreamIngestor - INFO - Initialized for camera index=0
2026-01-08 13:50:54,630 - TaskManager - DEBUG - [DEBUG] TaskManager.add_task: About to call ingestor.add_task for io_id=9856d608
2026-01-08 13:50:54,630 - VideoStreamIngestor - DEBUG - [DEBUG] VideoStreamIngestor.add_task: Called for task 'Count fingers', camera_index=0
2026-01-08 13:50:54,630 - VideoStreamIngestor - INFO - Added task 0 'Count fingers' for camera index=0
2026-01-08 13:50:54,630 - VideoStreamIngestor - DEBUG - [DEBUG] VideoStreamIngestor.add_task: Ingestor not running, scheduling start()
2026-01-08 13:50:54,630 - VideoStreamIngestor - DEBUG - [DEBUG] VideoStreamIngestor.add_task: Event loop is running, creating async task
2026-01-08 13:50:54,630 - VideoStreamIngestor - DEBUG - [DEBUG] VideoStreamIngestor.add_task: Async task created
2026-01-08 13:50:54,630 - TaskManager - DEBUG - [DEBUG] TaskManager.add_task: ingestor.add_task completed successfully
2026-01-08 13:50:54,631 - tasks - DEBUG - [DEBUG] add_task: task_manager.add_task returned: {'status': 'success', 'message': 'Task added successfully', 'task_id': 'bdb77119', 'io_id': '9856d608', 'task_description': 'Count fingers'}
2026-01-08 13:50:54,631 - tasks - INFO - [INFO] add_task: Successfully added task, returning result
2026-01-08 13:50:54,631 - VideoStreamIngestor - DEBUG - [DEBUG] VideoStreamIngestor.start_with_error_handling: About to call start()
2026-01-08 13:50:54,631 - VideoStreamIngestor - DEBUG - [DEBUG] VideoStreamIngestor.start: Called for camera_index=0
2026-01-08 13:50:54,631 - VideoStreamIngestor - DEBUG - [DEBUG] VideoStreamIngestor.start: About to create session video_ingestor_session_0
2026-01-08 13:50:54,631 - VideoStreamIngestor - INFO - Created session video_ingestor_session_0 for camera index=0
2026-01-08 13:50:54,631 - VideoStreamIngestor - INFO - Starting ingestor for camera index=0
2026-01-08 13:50:54,631 - VideoStreamIngestor - INFO - Started 3 processing loops for camera index=0
2026-01-08 13:50:54,631 - VideoStreamIngestor - INFO - Task status: ['capture_0', 'process_0', 'action_0']
2026-01-08 13:50:55,076 - VideoStreamIngestor - INFO - Started capture loop for camera index=0
2026-01-08 13:50:55,077 - VideoStreamIngestor - INFO - Started process loop for camera index=0
2026-01-08 13:50:55,077 - VideoStreamIngestor - DEBUG - Process loop: Frame got from process loop queue for camera index=0
2026-01-08 13:50:55,080 - VideoStreamIngestor - INFO - Started action loop for camera index=0
2026-01-08 13:50:55,081 - google_genai.models - INFO - AFC is enabled with max remote calls: 10.
2026-01-08 13:50:55,081 - main - DEBUG - [DEBUG] main: Received event, is_final_response=False
2026-01-08 13:50:55,083 - httpcore.connection - DEBUG - connect_tcp.started host='generativelanguage.googleapis.com' port=443 local_address=None timeout=None socket_options=None
2026-01-08 13:50:55,092 - httpcore.connection - DEBUG - connect_tcp.complete return_value=<httpcore._backends.sync.SyncStream object at 0x11ab01940>
2026-01-08 13:50:55,092 - httpcore.connection - DEBUG - start_tls.started ssl_context=<ssl.SSLContext object at 0x11ab78320> server_hostname='generativelanguage.googleapis.com' timeout=None
2026-01-08 13:50:55,093 - google_adk.google.adk.models.google_llm - INFO - Sending out request, model: gemini-2.5-flash, backend: GoogleLLMVariant.GEMINI_API, stream: False
2026-01-08 13:50:55,094 - google_adk.google.adk.models.google_llm - DEBUG - 
LLM Request:
-----------------------------------------------------------
System Instruction:
You are a helpful and friendly system administrator. Be concise and clear in your responses. You have access to tools that can help you check available input devices on the system and manage tasks. When a user requests a task that requires an input device, you should automatically call list_input_devices_with_ids to find the appropriate device and its io_id. Do not ask the user for io_ids - always retrieve them yourself using the available tools. When selecting a device, prefer video cameras (camera category) when possible. Once you have the io_id, use add_task with the io_id to create tasks. Use list_tasks to view all tasks (optionally filtered by io_id). When a user asks a question about a task, first call list_tasks to find the relevant task_id, then call get_info_on ONCE with that task_id to get detailed information. Do not call get_info_on multiple times for the same task_id. Make sure to call get_info_on when answering a user's question about a task.Use remove_task to delete a task by its task_id. Use edit_task to update a task's description. This is especially useful when a user wants to amend an existing task, for example, to add an action to be triggered when a condition is met. When editing a task, preserve the original detection part and add the new action requirement. For example, if a task is 'Count claps' and the user wants to send an email when claps reach 1, edit it to 'Count claps and when it reaches 1 send email to [email]'. You can also use take_output_action to execute various actions like sending emails, opening/closing doors, or controlling lights by providing a natural language description of the action. IMPORTANT: When a user requests an action to be triggered based on a video feed event (e.g., 'send me an email when I clap', 'turn on lights when I wave'), you have two options: 1. If a relevant task already exists (e.g., 'Count claps'), use edit_task to amend it with the action. 2. If no relevant task exists, add a NEW task that combines both the detection and the action. 

You are an agent. Your internal name is "system_administrator". The description about you is "A helpful system administrator. It controls the system on behalf of the user.".
-----------------------------------------------------------
Config:
{'http_options': {'headers': {'x-goog-api-client': 'google-adk/1.21.0 gl-python/3.13.5', 'user-agent': 'google-adk/1.21.0 gl-python/3.13.5'}}, 'tools': [{}]}
-----------------------------------------------------------
Contents:
{"parts":[{"text":"count fingers"}],"role":"user"}
{"parts":[{"function_call":{"args":{},"name":"list_input_devices_with_ids"},"thought_signature":"CvEBAXLI2nwScjF98UZCRtrafqBZfpp1jAHJkaWxrgxt8JRpMHGes8dK-Te0yjhQw_GyGPyxa4EcxBxsXQYe4DOdnjdRKqYgA9ek-8a623yydU72CZRjYLsKOzvhqFJ4ck6ws8kJNs3g5omO6Q4sXEaRsdqerlllzLSUwml9GQla1V1zr7U8cHU8Nm-QRcS3hKUrcwjqYP_g_xco9D4G0GSN0OSdk2K4NMeAqGaL048cQ5D2KIOQhvoXrlLr4ufnH6SUPNEj_Soa2qdcNepFj1UU9ztafcwFO6sILW39k2RgyZFpC61QrgB3g1HdDyZhiE19xQ=="}],"role":"model"}
{"parts":[{"function_response":{"name":"list_input_devices_with_ids","response":{"status":"success","input_devices":{"camera":[{"io_id":"ddeb3cd4","name":""},{"io_id":"9856d608","name":"FaceTime HD Camera"},{"io_id":"ea036130","name":"OBS Camera Extension"}]}}}}],"role":"user"}
{"parts":[{"function_call":{"args":{"task_description":"Count fingers","io_id":"9856d608"},"name":"add_task"},"thought_signature":"CocCAXLI2nzJI-hjWy4vvShNrej2gr__n3qB2uH6jE68svMoqjjfv0x-QwIqlb3oi0QL3KrHfyMhHuJLq6kD1bRz5AHkwX5-KRrR8hUORGX0bGKnz1H-mHCDqa8YpOUXTAIvvYdV8nQ9Kj4wPlGFowNMTow992fhx6oOADkUcJ71sbrTQzc080K3SRV9ybqd63YWglxh_tgMtv83dke0UmcFFqmhMwvGDjtSPsyjLlpFEt6PsrzGMN1ivotlmt4qnP6MDbjhSVBpZYXNyEAjA85lKdnFYQBXkBZuviixlpedIqf_EKoOJqudlIDS3ZcYwd3Of5gfwvtwdoh_A4KZmw5oh9ODymTsqrc="}],"role":"model"}
{"parts":[{"function_response":{"name":"add_task","response":{"status":"success","message":"Task added successfully","task_id":"bdb77119","io_id":"9856d608","task_description":"Count fingers","device_info":{"io_id":"9856d608","category":"camera","name":"FaceTime HD Camera"}}}}],"role":"user"}
-----------------------------------------------------------
Functions:
list_input_devices_with_ids: {} 
add_task: {'io_id': {'type': <Type.STRING: 'STRING'>}, 'task_description': {'type': <Type.STRING: 'STRING'>}} 
list_tasks: {'io_id': {'nullable': True, 'type': <Type.STRING: 'STRING'>}} 
get_info_on: {'task_id': {'type': <Type.STRING: 'STRING'>}} 
remove_task: {'task_id': {'type': <Type.STRING: 'STRING'>}} 
edit_task: {'task_id': {'type': <Type.STRING: 'STRING'>}, 'new_description': {'type': <Type.STRING: 'STRING'>}} 
action_router: {'request': {'type': <Type.STRING: 'STRING'>}} 
-----------------------------------------------------------

2026-01-08 13:50:55,095 - httpcore.connection - DEBUG - close.started
2026-01-08 13:50:55,095 - httpcore.connection - DEBUG - connect_tcp.started host='generativelanguage.googleapis.com' port=443 local_address=None timeout=None socket_options=None
2026-01-08 13:50:55,095 - httpcore.connection - DEBUG - close.complete
2026-01-08 13:50:55,095 - VideoStreamIngestor - DEBUG - [DEBUG] VideoStreamIngestor.start_with_error_handling: start() completed successfully
2026-01-08 13:50:55,105 - httpcore.connection - DEBUG - connect_tcp.complete return_value=<httpcore._backends.anyio.AnyIOStream object at 0x11ab509d0>
2026-01-08 13:50:55,105 - httpcore.connection - DEBUG - start_tls.started ssl_context=<ssl.SSLContext object at 0x11ab79d00> server_hostname='generativelanguage.googleapis.com' timeout=None
2026-01-08 13:50:55,126 - httpcore.connection - DEBUG - start_tls.complete return_value=<httpcore._backends.sync.SyncStream object at 0x108d8f110>
2026-01-08 13:50:55,127 - httpcore.http11 - DEBUG - send_request_headers.started request=<Request [b'POST']>
2026-01-08 13:50:55,127 - httpcore.http11 - DEBUG - send_request_headers.complete
2026-01-08 13:50:55,127 - httpcore.http11 - DEBUG - send_request_body.started request=<Request [b'POST']>
2026-01-08 13:50:55,127 - httpcore.http11 - DEBUG - send_request_body.complete
2026-01-08 13:50:55,127 - httpcore.http11 - DEBUG - receive_response_headers.started request=<Request [b'POST']>
2026-01-08 13:50:55,137 - httpcore.connection - DEBUG - start_tls.complete return_value=<httpcore._backends.anyio.AnyIOStream object at 0x1197bc290>
2026-01-08 13:50:55,138 - httpcore.http11 - DEBUG - send_request_headers.started request=<Request [b'POST']>
2026-01-08 13:50:55,138 - httpcore.http11 - DEBUG - send_request_headers.complete
2026-01-08 13:50:55,138 - httpcore.http11 - DEBUG - send_request_body.started request=<Request [b'POST']>
2026-01-08 13:50:55,138 - httpcore.http11 - DEBUG - send_request_body.complete
2026-01-08 13:50:55,138 - httpcore.http11 - DEBUG - receive_response_headers.started request=<Request [b'POST']>
2026-01-08 13:50:55,730 - httpcore.http11 - DEBUG - receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'Content-Type', b'application/json; charset=UTF-8'), (b'Vary', b'Origin'), (b'Vary', b'X-Origin'), (b'Vary', b'Referer'), (b'Content-Encoding', b'gzip'), (b'Date', b'Thu, 08 Jan 2026 21:50:55 GMT'), (b'Server', b'scaffolding on HTTPServer2'), (b'X-XSS-Protection', b'0'), (b'X-Frame-Options', b'SAMEORIGIN'), (b'X-Content-Type-Options', b'nosniff'), (b'Server-Timing', b'gfet4t7; dur=574'), (b'Alt-Svc', b'h3=":443"; ma=2592000,h3-29=":443"; ma=2592000'), (b'Transfer-Encoding', b'chunked')])
2026-01-08 13:50:55,731 - httpx - INFO - HTTP Request: POST https://generativelanguage.googleapis.com/v1beta/models/gemini-2.5-flash:generateContent "HTTP/1.1 200 OK"
2026-01-08 13:50:55,731 - httpcore.http11 - DEBUG - receive_response_body.started request=<Request [b'POST']>
2026-01-08 13:50:55,731 - httpcore.http11 - DEBUG - receive_response_body.complete
2026-01-08 13:50:55,731 - httpcore.http11 - DEBUG - response_closed.started
2026-01-08 13:50:55,731 - httpcore.http11 - DEBUG - response_closed.complete
2026-01-08 13:50:55,732 - google_adk.google.adk.models.google_llm - INFO - Response received from the model.
2026-01-08 13:50:55,732 - google_adk.google.adk.models.google_llm - DEBUG - 
LLM Response:
-----------------------------------------------------------
Text:
I've set up a task to count fingers using the FaceTime HD Camera. The task ID is `bdb77119`.
-----------------------------------------------------------
Function calls:

-----------------------------------------------------------
Raw response:
{"sdk_http_response":{"headers":{"content-type":"application/json; charset=UTF-8","vary":"Origin, X-Origin, Referer","content-encoding":"gzip","date":"Thu, 08 Jan 2026 21:50:55 GMT","server":"scaffolding on HTTPServer2","x-xss-protection":"0","x-frame-options":"SAMEORIGIN","x-content-type-options":"nosniff","server-timing":"gfet4t7; dur=574","alt-svc":"h3=\":443\"; ma=2592000,h3-29=\":443\"; ma=2592000","transfer-encoding":"chunked"}},"candidates":[{"content":{"parts":[{"text":"I've set up a task to count fingers using the FaceTime HD Camera. The task ID is `bdb77119`."}],"role":"model"},"finish_reason":"STOP","index":0}],"model_version":"gemini-2.5-flash","response_id":"vyZgacDDKMaPjMcPg6i3wA8","usage_metadata":{"cache_tokens_details":[{"modality":"TEXT","token_count":737}],"cached_content_token_count":737,"candidates_token_count":28,"prompt_token_count":1417,"prompt_tokens_details":[{"modality":"TEXT","token_count":1417}],"total_token_count":1445}}
-----------------------------------------------------------

2026-01-08 13:50:55,732 - main - DEBUG - [DEBUG] main: Received event, is_final_response=True
2026-01-08 13:50:55,732 - main - DEBUG - [DEBUG] main: Finished processing events, final_response_text=I've set up a task to count fingers using the FaceTime HD Camera. The task ID is `bdb77119`.
2026-01-08 13:50:55,732 - httpcore.connection - DEBUG - close.started
2026-01-08 13:50:55,733 - httpcore.connection - DEBUG - close.complete
2026-01-08 13:50:57,160 - httpcore.http11 - DEBUG - receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'Content-Type', b'application/json; charset=UTF-8'), (b'Vary', b'Origin'), (b'Vary', b'X-Origin'), (b'Vary', b'Referer'), (b'Content-Encoding', b'gzip'), (b'Date', b'Thu, 08 Jan 2026 21:50:57 GMT'), (b'Server', b'scaffolding on HTTPServer2'), (b'X-XSS-Protection', b'0'), (b'X-Frame-Options', b'SAMEORIGIN'), (b'X-Content-Type-Options', b'nosniff'), (b'Server-Timing', b'gfet4t7; dur=2023'), (b'Alt-Svc', b'h3=":443"; ma=2592000,h3-29=":443"; ma=2592000'), (b'Transfer-Encoding', b'chunked')])
2026-01-08 13:50:57,160 - httpx - INFO - HTTP Request: POST https://generativelanguage.googleapis.com/v1beta/models/gemini-2.5-flash:generateContent "HTTP/1.1 200 OK"
2026-01-08 13:50:57,161 - httpcore.http11 - DEBUG - receive_response_body.started request=<Request [b'POST']>
2026-01-08 13:50:57,161 - httpcore.http11 - DEBUG - receive_response_body.complete
2026-01-08 13:50:57,162 - httpcore.http11 - DEBUG - response_closed.started
2026-01-08 13:50:57,162 - httpcore.http11 - DEBUG - response_closed.complete
2026-01-08 13:50:57,165 - VideoStreamIngestor - DEBUG - Process loop: Frame got from process loop queue for camera index=0
2026-01-08 13:50:57,178 - google_genai.models - INFO - AFC is enabled with max remote calls: 10.
2026-01-08 13:50:57,181 - httpcore.http11 - DEBUG - send_request_headers.started request=<Request [b'POST']>
2026-01-08 13:50:57,181 - httpcore.http11 - DEBUG - send_request_headers.complete
2026-01-08 13:50:57,181 - httpcore.http11 - DEBUG - send_request_body.started request=<Request [b'POST']>
2026-01-08 13:50:57,201 - httpcore.http11 - DEBUG - send_request_body.complete
2026-01-08 13:50:57,201 - httpcore.http11 - DEBUG - receive_response_headers.started request=<Request [b'POST']>
2026-01-08 13:50:59,365 - httpcore.http11 - DEBUG - receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'Content-Type', b'application/json; charset=UTF-8'), (b'Vary', b'Origin'), (b'Vary', b'X-Origin'), (b'Vary', b'Referer'), (b'Content-Encoding', b'gzip'), (b'Date', b'Thu, 08 Jan 2026 21:50:59 GMT'), (b'Server', b'scaffolding on HTTPServer2'), (b'X-XSS-Protection', b'0'), (b'X-Frame-Options', b'SAMEORIGIN'), (b'X-Content-Type-Options', b'nosniff'), (b'Server-Timing', b'gfet4t7; dur=2080'), (b'Alt-Svc', b'h3=":443"; ma=2592000,h3-29=":443"; ma=2592000'), (b'Transfer-Encoding', b'chunked')])
2026-01-08 13:50:59,366 - httpx - INFO - HTTP Request: POST https://generativelanguage.googleapis.com/v1beta/models/gemini-2.5-flash:generateContent "HTTP/1.1 200 OK"
2026-01-08 13:50:59,366 - httpcore.http11 - DEBUG - receive_response_body.started request=<Request [b'POST']>
2026-01-08 13:50:59,366 - httpcore.http11 - DEBUG - receive_response_body.complete
2026-01-08 13:50:59,366 - httpcore.http11 - DEBUG - response_closed.started
2026-01-08 13:50:59,366 - httpcore.http11 - DEBUG - response_closed.complete
2026-01-08 13:50:59,366 - VideoStreamIngestor - DEBUG - Process loop: Frame got from process loop queue for camera index=0
2026-01-08 13:50:59,373 - google_genai.models - INFO - AFC is enabled with max remote calls: 10.
2026-01-08 13:50:59,375 - httpcore.http11 - DEBUG - send_request_headers.started request=<Request [b'POST']>
2026-01-08 13:50:59,375 - httpcore.http11 - DEBUG - send_request_headers.complete
2026-01-08 13:50:59,375 - httpcore.http11 - DEBUG - send_request_body.started request=<Request [b'POST']>
2026-01-08 13:50:59,375 - httpcore.http11 - DEBUG - send_request_body.complete
2026-01-08 13:50:59,375 - httpcore.http11 - DEBUG - receive_response_headers.started request=<Request [b'POST']>
2026-01-08 13:51:01,368 - httpcore.http11 - DEBUG - receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'Content-Type', b'application/json; charset=UTF-8'), (b'Vary', b'Origin'), (b'Vary', b'X-Origin'), (b'Vary', b'Referer'), (b'Content-Encoding', b'gzip'), (b'Date', b'Thu, 08 Jan 2026 21:51:01 GMT'), (b'Server', b'scaffolding on HTTPServer2'), (b'X-XSS-Protection', b'0'), (b'X-Frame-Options', b'SAMEORIGIN'), (b'X-Content-Type-Options', b'nosniff'), (b'Server-Timing', b'gfet4t7; dur=1983'), (b'Alt-Svc', b'h3=":443"; ma=2592000,h3-29=":443"; ma=2592000'), (b'Transfer-Encoding', b'chunked')])
2026-01-08 13:51:01,368 - httpx - INFO - HTTP Request: POST https://generativelanguage.googleapis.com/v1beta/models/gemini-2.5-flash:generateContent "HTTP/1.1 200 OK"
2026-01-08 13:51:01,368 - httpcore.http11 - DEBUG - receive_response_body.started request=<Request [b'POST']>
2026-01-08 13:51:01,368 - httpcore.http11 - DEBUG - receive_response_body.complete
2026-01-08 13:51:01,368 - httpcore.http11 - DEBUG - response_closed.started
2026-01-08 13:51:01,368 - httpcore.http11 - DEBUG - response_closed.complete
2026-01-08 13:51:01,369 - VideoStreamIngestor - DEBUG - Process loop: Frame got from process loop queue for camera index=0
2026-01-08 13:51:01,380 - google_genai.models - INFO - AFC is enabled with max remote calls: 10.
2026-01-08 13:51:01,382 - httpcore.http11 - DEBUG - send_request_headers.started request=<Request [b'POST']>
2026-01-08 13:51:01,383 - httpcore.http11 - DEBUG - send_request_headers.complete
2026-01-08 13:51:01,383 - httpcore.http11 - DEBUG - send_request_body.started request=<Request [b'POST']>
2026-01-08 13:51:01,383 - httpcore.http11 - DEBUG - send_request_body.complete
2026-01-08 13:51:01,383 - httpcore.http11 - DEBUG - receive_response_headers.started request=<Request [b'POST']>
2026-01-08 13:51:03,355 - httpcore.http11 - DEBUG - receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'Content-Type', b'application/json; charset=UTF-8'), (b'Vary', b'Origin'), (b'Vary', b'X-Origin'), (b'Vary', b'Referer'), (b'Content-Encoding', b'gzip'), (b'Date', b'Thu, 08 Jan 2026 21:51:03 GMT'), (b'Server', b'scaffolding on HTTPServer2'), (b'X-XSS-Protection', b'0'), (b'X-Frame-Options', b'SAMEORIGIN'), (b'X-Content-Type-Options', b'nosniff'), (b'Server-Timing', b'gfet4t7; dur=1963'), (b'Alt-Svc', b'h3=":443"; ma=2592000,h3-29=":443"; ma=2592000'), (b'Transfer-Encoding', b'chunked')])
2026-01-08 13:51:03,355 - httpx - INFO - HTTP Request: POST https://generativelanguage.googleapis.com/v1beta/models/gemini-2.5-flash:generateContent "HTTP/1.1 200 OK"
2026-01-08 13:51:03,355 - httpcore.http11 - DEBUG - receive_response_body.started request=<Request [b'POST']>
2026-01-08 13:51:03,355 - httpcore.http11 - DEBUG - receive_response_body.complete
2026-01-08 13:51:03,355 - httpcore.http11 - DEBUG - response_closed.started
2026-01-08 13:51:03,355 - httpcore.http11 - DEBUG - response_closed.complete
2026-01-08 13:51:03,356 - VideoStreamIngestor - DEBUG - Process loop: Frame got from process loop queue for camera index=0
2026-01-08 13:51:03,366 - google_genai.models - INFO - AFC is enabled with max remote calls: 10.
2026-01-08 13:51:03,368 - httpcore.http11 - DEBUG - send_request_headers.started request=<Request [b'POST']>
2026-01-08 13:51:03,369 - httpcore.http11 - DEBUG - send_request_headers.complete
2026-01-08 13:51:03,369 - httpcore.http11 - DEBUG - send_request_body.started request=<Request [b'POST']>
2026-01-08 13:51:03,369 - httpcore.http11 - DEBUG - send_request_body.complete
2026-01-08 13:51:03,369 - httpcore.http11 - DEBUG - receive_response_headers.started request=<Request [b'POST']>
2026-01-08 13:51:08,846 - httpcore.http11 - DEBUG - receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'Content-Type', b'application/json; charset=UTF-8'), (b'Vary', b'Origin'), (b'Vary', b'X-Origin'), (b'Vary', b'Referer'), (b'Content-Encoding', b'gzip'), (b'Date', b'Thu, 08 Jan 2026 21:51:08 GMT'), (b'Server', b'scaffolding on HTTPServer2'), (b'X-XSS-Protection', b'0'), (b'X-Frame-Options', b'SAMEORIGIN'), (b'X-Content-Type-Options', b'nosniff'), (b'Server-Timing', b'gfet4t7; dur=5468'), (b'Alt-Svc', b'h3=":443"; ma=2592000,h3-29=":443"; ma=2592000'), (b'Transfer-Encoding', b'chunked')])
2026-01-08 13:51:08,847 - httpx - INFO - HTTP Request: POST https://generativelanguage.googleapis.com/v1beta/models/gemini-2.5-flash:generateContent "HTTP/1.1 200 OK"
2026-01-08 13:51:08,851 - httpcore.http11 - DEBUG - receive_response_body.started request=<Request [b'POST']>
2026-01-08 13:51:08,851 - httpcore.http11 - DEBUG - receive_response_body.complete
2026-01-08 13:51:08,851 - httpcore.http11 - DEBUG - response_closed.started
2026-01-08 13:51:08,851 - httpcore.http11 - DEBUG - response_closed.complete
2026-01-08 13:51:08,852 - VideoStreamIngestor - DEBUG - Process loop: Frame got from process loop queue for camera index=0
2026-01-08 13:51:08,860 - google_genai.models - INFO - AFC is enabled with max remote calls: 10.
2026-01-08 13:51:08,862 - httpcore.http11 - DEBUG - send_request_headers.started request=<Request [b'POST']>
2026-01-08 13:51:08,863 - httpcore.http11 - DEBUG - send_request_headers.complete
2026-01-08 13:51:08,863 - httpcore.http11 - DEBUG - send_request_body.started request=<Request [b'POST']>
2026-01-08 13:51:08,863 - httpcore.http11 - DEBUG - send_request_body.complete
2026-01-08 13:51:08,864 - httpcore.http11 - DEBUG - receive_response_headers.started request=<Request [b'POST']>
2026-01-08 13:51:11,715 - main - DEBUG - [DEBUG] main: Processing user input: how many fingers?
2026-01-08 13:51:11,715 - main - DEBUG - [DEBUG] main: About to call runner.run_async
2026-01-08 13:51:11,739 - google_adk.google.adk.models.google_llm - INFO - Sending out request, model: gemini-2.5-flash, backend: GoogleLLMVariant.GEMINI_API, stream: False
2026-01-08 13:51:11,739 - google_adk.google.adk.models.google_llm - DEBUG - 
LLM Request:
-----------------------------------------------------------
System Instruction:
You are a helpful and friendly system administrator. Be concise and clear in your responses. You have access to tools that can help you check available input devices on the system and manage tasks. When a user requests a task that requires an input device, you should automatically call list_input_devices_with_ids to find the appropriate device and its io_id. Do not ask the user for io_ids - always retrieve them yourself using the available tools. When selecting a device, prefer video cameras (camera category) when possible. Once you have the io_id, use add_task with the io_id to create tasks. Use list_tasks to view all tasks (optionally filtered by io_id). When a user asks a question about a task, first call list_tasks to find the relevant task_id, then call get_info_on ONCE with that task_id to get detailed information. Do not call get_info_on multiple times for the same task_id. Make sure to call get_info_on when answering a user's question about a task.Use remove_task to delete a task by its task_id. Use edit_task to update a task's description. This is especially useful when a user wants to amend an existing task, for example, to add an action to be triggered when a condition is met. When editing a task, preserve the original detection part and add the new action requirement. For example, if a task is 'Count claps' and the user wants to send an email when claps reach 1, edit it to 'Count claps and when it reaches 1 send email to [email]'. You can also use take_output_action to execute various actions like sending emails, opening/closing doors, or controlling lights by providing a natural language description of the action. IMPORTANT: When a user requests an action to be triggered based on a video feed event (e.g., 'send me an email when I clap', 'turn on lights when I wave'), you have two options: 1. If a relevant task already exists (e.g., 'Count claps'), use edit_task to amend it with the action. 2. If no relevant task exists, add a NEW task that combines both the detection and the action. 

You are an agent. Your internal name is "system_administrator". The description about you is "A helpful system administrator. It controls the system on behalf of the user.".
-----------------------------------------------------------
Config:
{'http_options': {'headers': {'x-goog-api-client': 'google-adk/1.21.0 gl-python/3.13.5', 'user-agent': 'google-adk/1.21.0 gl-python/3.13.5'}}, 'tools': [{}]}
-----------------------------------------------------------
Contents:
{"parts":[{"text":"count fingers"}],"role":"user"}
{"parts":[{"function_call":{"args":{},"name":"list_input_devices_with_ids"},"thought_signature":"CvEBAXLI2nwScjF98UZCRtrafqBZfpp1jAHJkaWxrgxt8JRpMHGes8dK-Te0yjhQw_GyGPyxa4EcxBxsXQYe4DOdnjdRKqYgA9ek-8a623yydU72CZRjYLsKOzvhqFJ4ck6ws8kJNs3g5omO6Q4sXEaRsdqerlllzLSUwml9GQla1V1zr7U8cHU8Nm-QRcS3hKUrcwjqYP_g_xco9D4G0GSN0OSdk2K4NMeAqGaL048cQ5D2KIOQhvoXrlLr4ufnH6SUPNEj_Soa2qdcNepFj1UU9ztafcwFO6sILW39k2RgyZFpC61QrgB3g1HdDyZhiE19xQ=="}],"role":"model"}
{"parts":[{"function_response":{"name":"list_input_devices_with_ids","response":{"status":"success","input_devices":{"camera":[{"io_id":"ddeb3cd4","name":""},{"io_id":"9856d608","name":"FaceTime HD Camera"},{"io_id":"ea036130","name":"OBS Camera Extension"}]}}}}],"role":"user"}
{"parts":[{"function_call":{"args":{"task_description":"Count fingers","io_id":"9856d608"},"name":"add_task"},"thought_signature":"CocCAXLI2nzJI-hjWy4vvShNrej2gr__n3qB2uH6jE68svMoqjjfv0x-QwIqlb3oi0QL3KrHfyMhHuJLq6kD1bRz5AHkwX5-KRrR8hUORGX0bGKnz1H-mHCDqa8YpOUXTAIvvYdV8nQ9Kj4wPlGFowNMTow992fhx6oOADkUcJ71sbrTQzc080K3SRV9ybqd63YWglxh_tgMtv83dke0UmcFFqmhMwvGDjtSPsyjLlpFEt6PsrzGMN1ivotlmt4qnP6MDbjhSVBpZYXNyEAjA85lKdnFYQBXkBZuviixlpedIqf_EKoOJqudlIDS3ZcYwd3Of5gfwvtwdoh_A4KZmw5oh9ODymTsqrc="}],"role":"model"}
{"parts":[{"function_response":{"name":"add_task","response":{"status":"success","message":"Task added successfully","task_id":"bdb77119","io_id":"9856d608","task_description":"Count fingers","device_info":{"io_id":"9856d608","category":"camera","name":"FaceTime HD Camera"}}}}],"role":"user"}
{"parts":[{"text":"I've set up a task to count fingers using the FaceTime HD Camera. The task ID is `bdb77119`."}],"role":"model"}
{"parts":[{"text":"how many fingers?"}],"role":"user"}
-----------------------------------------------------------
Functions:
list_input_devices_with_ids: {} 
add_task: {'io_id': {'type': <Type.STRING: 'STRING'>}, 'task_description': {'type': <Type.STRING: 'STRING'>}} 
list_tasks: {'io_id': {'nullable': True, 'type': <Type.STRING: 'STRING'>}} 
get_info_on: {'task_id': {'type': <Type.STRING: 'STRING'>}} 
remove_task: {'task_id': {'type': <Type.STRING: 'STRING'>}} 
edit_task: {'task_id': {'type': <Type.STRING: 'STRING'>}, 'new_description': {'type': <Type.STRING: 'STRING'>}} 
action_router: {'request': {'type': <Type.STRING: 'STRING'>}} 
-----------------------------------------------------------

2026-01-08 13:51:11,744 - httpcore.connection - DEBUG - connect_tcp.started host='generativelanguage.googleapis.com' port=443 local_address=None timeout=None socket_options=None
2026-01-08 13:51:11,752 - httpcore.http11 - DEBUG - receive_response_headers.complete return_value=(b'HTTP/1.1', 503, b'Service Unavailable', [(b'Vary', b'Origin'), (b'Vary', b'X-Origin'), (b'Vary', b'Referer'), (b'Content-Type', b'application/json; charset=UTF-8'), (b'Content-Encoding', b'gzip'), (b'Date', b'Thu, 08 Jan 2026 21:51:11 GMT'), (b'Server', b'scaffolding on HTTPServer2'), (b'X-XSS-Protection', b'0'), (b'X-Frame-Options', b'SAMEORIGIN'), (b'X-Content-Type-Options', b'nosniff'), (b'Server-Timing', b'gfet4t7; dur=2785'), (b'Alt-Svc', b'h3=":443"; ma=2592000,h3-29=":443"; ma=2592000'), (b'Transfer-Encoding', b'chunked')])
2026-01-08 13:51:11,752 - httpx - INFO - HTTP Request: POST https://generativelanguage.googleapis.com/v1beta/models/gemini-2.5-flash:generateContent "HTTP/1.1 503 Service Unavailable"
2026-01-08 13:51:11,752 - httpcore.http11 - DEBUG - receive_response_body.started request=<Request [b'POST']>
2026-01-08 13:51:11,752 - httpcore.http11 - DEBUG - receive_response_body.complete
2026-01-08 13:51:11,752 - httpcore.http11 - DEBUG - response_closed.started
2026-01-08 13:51:11,752 - httpcore.http11 - DEBUG - response_closed.complete
2026-01-08 13:51:11,752 - VideoStreamIngestor - ERROR - LLM inference error: 503 UNAVAILABLE. {'error': {'code': 503, 'message': 'The model is overloaded. Please try again later.', 'status': 'UNAVAILABLE'}}
Traceback (most recent call last):
  File "/Users/mark/Desktop/projects/videomemory/AgentDevelopmentKit_exploration/videomemory/system/stream_ingestors/video_stream_ingestor.py", line 401, in _run_ml_inference
    response = await asyncio.to_thread(_sync_generate_content)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/opt/homebrew/Cellar/python@3.13/3.13.5/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/threads.py", line 25, in to_thread
    return await loop.run_in_executor(None, func_call)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/opt/homebrew/Cellar/python@3.13/3.13.5/Frameworks/Python.framework/Versions/3.13/lib/python3.13/concurrent/futures/thread.py", line 59, in run
    result = self.fn(*self.args, **self.kwargs)
  File "/Users/mark/Desktop/projects/videomemory/AgentDevelopmentKit_exploration/videomemory/system/stream_ingestors/video_stream_ingestor.py", line 391, in _sync_generate_content
    return self._genai_client.models.generate_content(
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^
        model="gemini-2.5-flash",
        ^^^^^^^^^^^^^^^^^^^^^^^^^
    ...<4 lines>...
        )
        ^
    )
    ^
  File "/Users/mark/Desktop/projects/videomemory/.venv/lib/python3.13/site-packages/google/genai/models.py", line 5203, in generate_content
    response = self._generate_content(
        model=model, contents=contents, config=parsed_config
    )
  File "/Users/mark/Desktop/projects/videomemory/.venv/lib/python3.13/site-packages/google/genai/models.py", line 3985, in _generate_content
    response = self._api_client.request(
        'post', path, request_dict, http_options
    )
  File "/Users/mark/Desktop/projects/videomemory/.venv/lib/python3.13/site-packages/google/genai/_api_client.py", line 1388, in request
    response = self._request(http_request, http_options, stream=False)
  File "/Users/mark/Desktop/projects/videomemory/.venv/lib/python3.13/site-packages/google/genai/_api_client.py", line 1224, in _request
    return self._retry(self._request_once, http_request, stream)  # type: ignore[no-any-return]
           ~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/mark/Desktop/projects/videomemory/.venv/lib/python3.13/site-packages/tenacity/__init__.py", line 477, in __call__
    do = self.iter(retry_state=retry_state)
  File "/Users/mark/Desktop/projects/videomemory/.venv/lib/python3.13/site-packages/tenacity/__init__.py", line 378, in iter
    result = action(retry_state)
  File "/Users/mark/Desktop/projects/videomemory/.venv/lib/python3.13/site-packages/tenacity/__init__.py", line 420, in exc_check
    raise retry_exc.reraise()
          ~~~~~~~~~~~~~~~~~^^
  File "/Users/mark/Desktop/projects/videomemory/.venv/lib/python3.13/site-packages/tenacity/__init__.py", line 187, in reraise
    raise self.last_attempt.result()
          ~~~~~~~~~~~~~~~~~~~~~~~~^^
  File "/opt/homebrew/Cellar/python@3.13/3.13.5/Frameworks/Python.framework/Versions/3.13/lib/python3.13/concurrent/futures/_base.py", line 449, in result
    return self.__get_result()
           ~~~~~~~~~~~~~~~~~^^
  File "/opt/homebrew/Cellar/python@3.13/3.13.5/Frameworks/Python.framework/Versions/3.13/lib/python3.13/concurrent/futures/_base.py", line 401, in __get_result
    raise self._exception
  File "/Users/mark/Desktop/projects/videomemory/.venv/lib/python3.13/site-packages/tenacity/__init__.py", line 480, in __call__
    result = fn(*args, **kwargs)
  File "/Users/mark/Desktop/projects/videomemory/.venv/lib/python3.13/site-packages/google/genai/_api_client.py", line 1201, in _request_once
    errors.APIError.raise_for_response(response)
    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^
  File "/Users/mark/Desktop/projects/videomemory/.venv/lib/python3.13/site-packages/google/genai/errors.py", line 121, in raise_for_response
    cls.raise_error(response.status_code, response_json, response)
    ~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/mark/Desktop/projects/videomemory/.venv/lib/python3.13/site-packages/google/genai/errors.py", line 148, in raise_error
    raise ServerError(status_code, response_json, response)
google.genai.errors.ServerError: 503 UNAVAILABLE. {'error': {'code': 503, 'message': 'The model is overloaded. Please try again later.', 'status': 'UNAVAILABLE'}}
2026-01-08 13:51:11,758 - VideoStreamIngestor - DEBUG - Process loop: Frame got from process loop queue for camera index=0
2026-01-08 13:51:11,767 - google_genai.models - INFO - AFC is enabled with max remote calls: 10.
2026-01-08 13:51:11,769 - httpcore.http11 - DEBUG - send_request_headers.started request=<Request [b'POST']>
2026-01-08 13:51:11,769 - httpcore.connection - DEBUG - connect_tcp.complete return_value=<httpcore._backends.anyio.AnyIOStream object at 0x11ab5e9c0>
2026-01-08 13:51:11,769 - httpcore.connection - DEBUG - start_tls.started ssl_context=<ssl.SSLContext object at 0x11ab79eb0> server_hostname='generativelanguage.googleapis.com' timeout=None
2026-01-08 13:51:11,769 - httpcore.http11 - DEBUG - send_request_headers.complete
2026-01-08 13:51:11,769 - httpcore.http11 - DEBUG - send_request_body.started request=<Request [b'POST']>
2026-01-08 13:51:11,770 - httpcore.http11 - DEBUG - send_request_body.complete
2026-01-08 13:51:11,770 - httpcore.http11 - DEBUG - receive_response_headers.started request=<Request [b'POST']>
2026-01-08 13:51:11,803 - httpcore.connection - DEBUG - start_tls.complete return_value=<httpcore._backends.anyio.AnyIOStream object at 0x11ab5e8b0>
2026-01-08 13:51:11,804 - httpcore.http11 - DEBUG - send_request_headers.started request=<Request [b'POST']>
2026-01-08 13:51:11,804 - httpcore.http11 - DEBUG - send_request_headers.complete
2026-01-08 13:51:11,804 - httpcore.http11 - DEBUG - send_request_body.started request=<Request [b'POST']>
2026-01-08 13:51:11,804 - httpcore.http11 - DEBUG - send_request_body.complete
2026-01-08 13:51:11,804 - httpcore.http11 - DEBUG - receive_response_headers.started request=<Request [b'POST']>
2026-01-08 13:51:13,037 - httpcore.http11 - DEBUG - receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'Content-Type', b'application/json; charset=UTF-8'), (b'Vary', b'Origin'), (b'Vary', b'X-Origin'), (b'Vary', b'Referer'), (b'Content-Encoding', b'gzip'), (b'Date', b'Thu, 08 Jan 2026 21:51:13 GMT'), (b'Server', b'scaffolding on HTTPServer2'), (b'X-XSS-Protection', b'0'), (b'X-Frame-Options', b'SAMEORIGIN'), (b'X-Content-Type-Options', b'nosniff'), (b'Server-Timing', b'gfet4t7; dur=1222'), (b'Alt-Svc', b'h3=":443"; ma=2592000,h3-29=":443"; ma=2592000'), (b'Transfer-Encoding', b'chunked')])
2026-01-08 13:51:13,038 - httpx - INFO - HTTP Request: POST https://generativelanguage.googleapis.com/v1beta/models/gemini-2.5-flash:generateContent "HTTP/1.1 200 OK"
2026-01-08 13:51:13,038 - httpcore.http11 - DEBUG - receive_response_body.started request=<Request [b'POST']>
2026-01-08 13:51:13,039 - httpcore.http11 - DEBUG - receive_response_body.complete
2026-01-08 13:51:13,039 - httpcore.http11 - DEBUG - response_closed.started
2026-01-08 13:51:13,039 - httpcore.http11 - DEBUG - response_closed.complete
2026-01-08 13:51:13,041 - google_adk.google.adk.models.google_llm - INFO - Response received from the model.
2026-01-08 13:51:13,041 - google_adk.google.adk.models.google_llm - DEBUG - 
LLM Response:
-----------------------------------------------------------
Text:
None
-----------------------------------------------------------
Function calls:
name: get_info_on, args: {'task_id': 'bdb77119'}
-----------------------------------------------------------
Raw response:
{"sdk_http_response":{"headers":{"content-type":"application/json; charset=UTF-8","vary":"Origin, X-Origin, Referer","content-encoding":"gzip","date":"Thu, 08 Jan 2026 21:51:13 GMT","server":"scaffolding on HTTPServer2","x-xss-protection":"0","x-frame-options":"SAMEORIGIN","x-content-type-options":"nosniff","server-timing":"gfet4t7; dur=1222","alt-svc":"h3=\":443\"; ma=2592000,h3-29=\":443\"; ma=2592000","transfer-encoding":"chunked"}},"candidates":[{"content":{"parts":[{"function_call":{"args":{"task_id":"bdb77119"},"name":"get_info_on"},"thought_signature":"Cp8DAXLI2nw96WHxAWHcf04LpU44iaacXf2I7oevjJgtNQWA5KN7N3dxUO_AbwTiFxsXOH9FhO75iEZI0BDlXV-FX9gwTjf2yyXplfxl6LnNytM75-gbfMUSR9da48WiHEcJ1sfBbJ3eGlVewfyWQO-rKfI_k27QQNLHxOnoJ2a_XCjWIdgk0QFKS2r7FK9rlj1DCt5qSvjcB93xpJle6QCd5WR98OycUlRfaPjYW_EQa6RbOnfFPekgKvTH8g5r7_oHqffo1deHaiC3RVFDRBPzCwdmJYcNN2xlyMJV9P7fsn4bt736i2QsgNN0mw_JRb5tXtTBrSTaOPs6_Mu7wunZUtEmf8JADq1O0ILXwHIh2j92jKGR2zp5sJYDr_jmFkHQrmde_JygrdMNc77ENlWNDtCH0x67P1YgFOI6nsNE4OI84DybmL4gR6yrpMu_49SrUCf3bxDXqpp1zO76SiqAhTISI2EYs0N_Zf2HDmvgB9k1Kh6DqJLG339qHqZWEqtbYqJsagnSx1cz0hCuO7xTzw2rxRlTuUTOMM48iTYXDw=="}],"role":"model"},"finish_reason":"STOP","index":0}],"model_version":"gemini-2.5-flash","response_id":"0CZgaeOPPISM_PUPqumk0A4","usage_metadata":{"candidates_token_count":24,"prompt_token_count":1451,"prompt_tokens_details":[{"modality":"TEXT","token_count":1451}],"thoughts_token_count":112,"total_token_count":1587}}
-----------------------------------------------------------

2026-01-08 13:51:13,042 - main - DEBUG - [DEBUG] main: Received event, is_final_response=False
2026-01-08 13:51:13,043 - main - DEBUG - [DEBUG] main: Received event, is_final_response=False
2026-01-08 13:51:13,065 - google_adk.google.adk.models.google_llm - INFO - Sending out request, model: gemini-2.5-flash, backend: GoogleLLMVariant.GEMINI_API, stream: False
2026-01-08 13:51:13,066 - google_adk.google.adk.models.google_llm - DEBUG - 
LLM Request:
-----------------------------------------------------------
System Instruction:
You are a helpful and friendly system administrator. Be concise and clear in your responses. You have access to tools that can help you check available input devices on the system and manage tasks. When a user requests a task that requires an input device, you should automatically call list_input_devices_with_ids to find the appropriate device and its io_id. Do not ask the user for io_ids - always retrieve them yourself using the available tools. When selecting a device, prefer video cameras (camera category) when possible. Once you have the io_id, use add_task with the io_id to create tasks. Use list_tasks to view all tasks (optionally filtered by io_id). When a user asks a question about a task, first call list_tasks to find the relevant task_id, then call get_info_on ONCE with that task_id to get detailed information. Do not call get_info_on multiple times for the same task_id. Make sure to call get_info_on when answering a user's question about a task.Use remove_task to delete a task by its task_id. Use edit_task to update a task's description. This is especially useful when a user wants to amend an existing task, for example, to add an action to be triggered when a condition is met. When editing a task, preserve the original detection part and add the new action requirement. For example, if a task is 'Count claps' and the user wants to send an email when claps reach 1, edit it to 'Count claps and when it reaches 1 send email to [email]'. You can also use take_output_action to execute various actions like sending emails, opening/closing doors, or controlling lights by providing a natural language description of the action. IMPORTANT: When a user requests an action to be triggered based on a video feed event (e.g., 'send me an email when I clap', 'turn on lights when I wave'), you have two options: 1. If a relevant task already exists (e.g., 'Count claps'), use edit_task to amend it with the action. 2. If no relevant task exists, add a NEW task that combines both the detection and the action. 

You are an agent. Your internal name is "system_administrator". The description about you is "A helpful system administrator. It controls the system on behalf of the user.".
-----------------------------------------------------------
Config:
{'http_options': {'headers': {'x-goog-api-client': 'google-adk/1.21.0 gl-python/3.13.5', 'user-agent': 'google-adk/1.21.0 gl-python/3.13.5'}}, 'tools': [{}]}
-----------------------------------------------------------
Contents:
{"parts":[{"text":"count fingers"}],"role":"user"}
{"parts":[{"function_call":{"args":{},"name":"list_input_devices_with_ids"},"thought_signature":"CvEBAXLI2nwScjF98UZCRtrafqBZfpp1jAHJkaWxrgxt8JRpMHGes8dK-Te0yjhQw_GyGPyxa4EcxBxsXQYe4DOdnjdRKqYgA9ek-8a623yydU72CZRjYLsKOzvhqFJ4ck6ws8kJNs3g5omO6Q4sXEaRsdqerlllzLSUwml9GQla1V1zr7U8cHU8Nm-QRcS3hKUrcwjqYP_g_xco9D4G0GSN0OSdk2K4NMeAqGaL048cQ5D2KIOQhvoXrlLr4ufnH6SUPNEj_Soa2qdcNepFj1UU9ztafcwFO6sILW39k2RgyZFpC61QrgB3g1HdDyZhiE19xQ=="}],"role":"model"}
{"parts":[{"function_response":{"name":"list_input_devices_with_ids","response":{"status":"success","input_devices":{"camera":[{"io_id":"ddeb3cd4","name":""},{"io_id":"9856d608","name":"FaceTime HD Camera"},{"io_id":"ea036130","name":"OBS Camera Extension"}]}}}}],"role":"user"}
{"parts":[{"function_call":{"args":{"task_description":"Count fingers","io_id":"9856d608"},"name":"add_task"},"thought_signature":"CocCAXLI2nzJI-hjWy4vvShNrej2gr__n3qB2uH6jE68svMoqjjfv0x-QwIqlb3oi0QL3KrHfyMhHuJLq6kD1bRz5AHkwX5-KRrR8hUORGX0bGKnz1H-mHCDqa8YpOUXTAIvvYdV8nQ9Kj4wPlGFowNMTow992fhx6oOADkUcJ71sbrTQzc080K3SRV9ybqd63YWglxh_tgMtv83dke0UmcFFqmhMwvGDjtSPsyjLlpFEt6PsrzGMN1ivotlmt4qnP6MDbjhSVBpZYXNyEAjA85lKdnFYQBXkBZuviixlpedIqf_EKoOJqudlIDS3ZcYwd3Of5gfwvtwdoh_A4KZmw5oh9ODymTsqrc="}],"role":"model"}
{"parts":[{"function_response":{"name":"add_task","response":{"status":"success","message":"Task added successfully","task_id":"bdb77119","io_id":"9856d608","task_description":"Count fingers","device_info":{"io_id":"9856d608","category":"camera","name":"FaceTime HD Camera"}}}}],"role":"user"}
{"parts":[{"text":"I've set up a task to count fingers using the FaceTime HD Camera. The task ID is `bdb77119`."}],"role":"model"}
{"parts":[{"text":"how many fingers?"}],"role":"user"}
{"parts":[{"function_call":{"args":{"task_id":"bdb77119"},"name":"get_info_on"},"thought_signature":"Cp8DAXLI2nw96WHxAWHcf04LpU44iaacXf2I7oevjJgtNQWA5KN7N3dxUO_AbwTiFxsXOH9FhO75iEZI0BDlXV-FX9gwTjf2yyXplfxl6LnNytM75-gbfMUSR9da48WiHEcJ1sfBbJ3eGlVewfyWQO-rKfI_k27QQNLHxOnoJ2a_XCjWIdgk0QFKS2r7FK9rlj1DCt5qSvjcB93xpJle6QCd5WR98OycUlRfaPjYW_EQa6RbOnfFPekgKvTH8g5r7_oHqffo1deHaiC3RVFDRBPzCwdmJYcNN2xlyMJV9P7fsn4bt736i2QsgNN0mw_JRb5tXtTBrSTaOPs6_Mu7wunZUtEmf8JADq1O0ILXwHIh2j92jKGR2zp5sJYDr_jmFkHQrmde_JygrdMNc77ENlWNDtCH0x67P1YgFOI6nsNE4OI84DybmL4gR6yrpMu_49SrUCf3bxDXqpp1zO76SiqAhTISI2EYs0N_Zf2HDmvgB9k1Kh6DqJLG339qHqZWEqtbYqJsagnSx1cz0hCuO7xTzw2rxRlTuUTOMM48iTYXDw=="}],"role":"model"}
{"parts":[{"function_response":{"name":"get_info_on","response":{"status":"success","task":{"task_number":0,"task_id":"bdb77119","task_desc":"Count fingers","task_note":[{"content":"No fingers are visible in the image.","timestamp":"2026-01-08 13:50:57"},{"content":"Two fingers are visible in the image.","timestamp":"2026-01-08 13:51:03"},{"content":"At least 4 fingers are visible in the image.","timestamp":"2026-01-08 13:51:08"}],"done":false,"io_id":"9856d608"}}}}],"role":"user"}
-----------------------------------------------------------
Functions:
list_input_devices_with_ids: {} 
add_task: {'io_id': {'type': <Type.STRING: 'STRING'>}, 'task_description': {'type': <Type.STRING: 'STRING'>}} 
list_tasks: {'io_id': {'nullable': True, 'type': <Type.STRING: 'STRING'>}} 
get_info_on: {'task_id': {'type': <Type.STRING: 'STRING'>}} 
remove_task: {'task_id': {'type': <Type.STRING: 'STRING'>}} 
edit_task: {'task_id': {'type': <Type.STRING: 'STRING'>}, 'new_description': {'type': <Type.STRING: 'STRING'>}} 
action_router: {'request': {'type': <Type.STRING: 'STRING'>}} 
-----------------------------------------------------------

2026-01-08 13:51:13,068 - httpcore.connection - DEBUG - close.started
2026-01-08 13:51:13,069 - httpcore.connection - DEBUG - connect_tcp.started host='generativelanguage.googleapis.com' port=443 local_address=None timeout=None socket_options=None
2026-01-08 13:51:13,069 - httpcore.connection - DEBUG - close.complete
2026-01-08 13:51:13,078 - httpcore.connection - DEBUG - connect_tcp.complete return_value=<httpcore._backends.anyio.AnyIOStream object at 0x11ab9ad50>
2026-01-08 13:51:13,078 - httpcore.connection - DEBUG - start_tls.started ssl_context=<ssl.SSLContext object at 0x11ab79880> server_hostname='generativelanguage.googleapis.com' timeout=None
2026-01-08 13:51:13,111 - httpcore.connection - DEBUG - start_tls.complete return_value=<httpcore._backends.anyio.AnyIOStream object at 0x11ab9aa50>
2026-01-08 13:51:13,111 - httpcore.http11 - DEBUG - send_request_headers.started request=<Request [b'POST']>
2026-01-08 13:51:13,111 - httpcore.http11 - DEBUG - send_request_headers.complete
2026-01-08 13:51:13,111 - httpcore.http11 - DEBUG - send_request_body.started request=<Request [b'POST']>
2026-01-08 13:51:13,112 - httpcore.http11 - DEBUG - send_request_body.complete
2026-01-08 13:51:13,112 - httpcore.http11 - DEBUG - receive_response_headers.started request=<Request [b'POST']>
2026-01-08 13:51:13,705 - httpcore.http11 - DEBUG - receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'Content-Type', b'application/json; charset=UTF-8'), (b'Vary', b'Origin'), (b'Vary', b'X-Origin'), (b'Vary', b'Referer'), (b'Content-Encoding', b'gzip'), (b'Date', b'Thu, 08 Jan 2026 21:51:13 GMT'), (b'Server', b'scaffolding on HTTPServer2'), (b'X-XSS-Protection', b'0'), (b'X-Frame-Options', b'SAMEORIGIN'), (b'X-Content-Type-Options', b'nosniff'), (b'Server-Timing', b'gfet4t7; dur=537'), (b'Alt-Svc', b'h3=":443"; ma=2592000,h3-29=":443"; ma=2592000'), (b'Transfer-Encoding', b'chunked')])
2026-01-08 13:51:13,706 - httpx - INFO - HTTP Request: POST https://generativelanguage.googleapis.com/v1beta/models/gemini-2.5-flash:generateContent "HTTP/1.1 200 OK"
2026-01-08 13:51:13,706 - httpcore.http11 - DEBUG - receive_response_body.started request=<Request [b'POST']>
2026-01-08 13:51:13,708 - httpcore.http11 - DEBUG - receive_response_body.complete
2026-01-08 13:51:13,708 - httpcore.http11 - DEBUG - response_closed.started
2026-01-08 13:51:13,708 - httpcore.http11 - DEBUG - response_closed.complete
2026-01-08 13:51:13,710 - google_adk.google.adk.models.google_llm - INFO - Response received from the model.
2026-01-08 13:51:13,710 - google_adk.google.adk.models.google_llm - DEBUG - 
LLM Response:
-----------------------------------------------------------
Text:
The latest count shows at least 4 fingers are visible.
-----------------------------------------------------------
Function calls:

-----------------------------------------------------------
Raw response:
{"sdk_http_response":{"headers":{"content-type":"application/json; charset=UTF-8","vary":"Origin, X-Origin, Referer","content-encoding":"gzip","date":"Thu, 08 Jan 2026 21:51:13 GMT","server":"scaffolding on HTTPServer2","x-xss-protection":"0","x-frame-options":"SAMEORIGIN","x-content-type-options":"nosniff","server-timing":"gfet4t7; dur=537","alt-svc":"h3=\":443\"; ma=2592000,h3-29=\":443\"; ma=2592000","transfer-encoding":"chunked"}},"candidates":[{"content":{"parts":[{"text":"The latest count shows at least 4 fingers are visible."}],"role":"model"},"finish_reason":"STOP","index":0}],"model_version":"gemini-2.5-flash","response_id":"0SZgadTGJLfg_uMPksqAyA0","usage_metadata":{"cache_tokens_details":[{"modality":"TEXT","token_count":760}],"cached_content_token_count":760,"candidates_token_count":12,"prompt_token_count":1662,"prompt_tokens_details":[{"modality":"TEXT","token_count":1662}],"total_token_count":1674}}
-----------------------------------------------------------

2026-01-08 13:51:13,711 - main - DEBUG - [DEBUG] main: Received event, is_final_response=True
2026-01-08 13:51:13,712 - main - DEBUG - [DEBUG] main: Finished processing events, final_response_text=The latest count shows at least 4 fingers are visible.
2026-01-08 13:51:13,712 - httpcore.connection - DEBUG - close.started
2026-01-08 13:51:13,713 - httpcore.connection - DEBUG - close.complete
2026-01-08 13:51:14,210 - httpcore.http11 - DEBUG - receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'Content-Type', b'application/json; charset=UTF-8'), (b'Vary', b'Origin'), (b'Vary', b'X-Origin'), (b'Vary', b'Referer'), (b'Content-Encoding', b'gzip'), (b'Date', b'Thu, 08 Jan 2026 21:51:14 GMT'), (b'Server', b'scaffolding on HTTPServer2'), (b'X-XSS-Protection', b'0'), (b'X-Frame-Options', b'SAMEORIGIN'), (b'X-Content-Type-Options', b'nosniff'), (b'Server-Timing', b'gfet4t7; dur=2433'), (b'Alt-Svc', b'h3=":443"; ma=2592000,h3-29=":443"; ma=2592000'), (b'Transfer-Encoding', b'chunked')])
2026-01-08 13:51:14,211 - httpx - INFO - HTTP Request: POST https://generativelanguage.googleapis.com/v1beta/models/gemini-2.5-flash:generateContent "HTTP/1.1 200 OK"
2026-01-08 13:51:14,211 - httpcore.http11 - DEBUG - receive_response_body.started request=<Request [b'POST']>
2026-01-08 13:51:14,211 - httpcore.http11 - DEBUG - receive_response_body.complete
2026-01-08 13:51:14,212 - httpcore.http11 - DEBUG - response_closed.started
2026-01-08 13:51:14,212 - httpcore.http11 - DEBUG - response_closed.complete
2026-01-08 13:51:14,214 - VideoStreamIngestor - DEBUG - Process loop: Frame got from process loop queue for camera index=0
2026-01-08 13:51:14,228 - google_genai.models - INFO - AFC is enabled with max remote calls: 10.
2026-01-08 13:51:14,232 - httpcore.http11 - DEBUG - send_request_headers.started request=<Request [b'POST']>
2026-01-08 13:51:14,232 - httpcore.http11 - DEBUG - send_request_headers.complete
2026-01-08 13:51:14,232 - httpcore.http11 - DEBUG - send_request_body.started request=<Request [b'POST']>
2026-01-08 13:51:14,233 - httpcore.http11 - DEBUG - send_request_body.complete
2026-01-08 13:51:14,233 - httpcore.http11 - DEBUG - receive_response_headers.started request=<Request [b'POST']>
2026-01-08 13:51:17,081 - httpcore.http11 - DEBUG - receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'Content-Type', b'application/json; charset=UTF-8'), (b'Vary', b'Origin'), (b'Vary', b'X-Origin'), (b'Vary', b'Referer'), (b'Content-Encoding', b'gzip'), (b'Date', b'Thu, 08 Jan 2026 21:51:17 GMT'), (b'Server', b'scaffolding on HTTPServer2'), (b'X-XSS-Protection', b'0'), (b'X-Frame-Options', b'SAMEORIGIN'), (b'X-Content-Type-Options', b'nosniff'), (b'Server-Timing', b'gfet4t7; dur=2812'), (b'Alt-Svc', b'h3=":443"; ma=2592000,h3-29=":443"; ma=2592000'), (b'Transfer-Encoding', b'chunked')])
2026-01-08 13:51:17,082 - httpx - INFO - HTTP Request: POST https://generativelanguage.googleapis.com/v1beta/models/gemini-2.5-flash:generateContent "HTTP/1.1 200 OK"
2026-01-08 13:51:17,082 - httpcore.http11 - DEBUG - receive_response_body.started request=<Request [b'POST']>
2026-01-08 13:51:17,083 - httpcore.http11 - DEBUG - receive_response_body.complete
2026-01-08 13:51:17,083 - httpcore.http11 - DEBUG - response_closed.started
2026-01-08 13:51:17,083 - httpcore.http11 - DEBUG - response_closed.complete
2026-01-08 13:51:17,086 - VideoStreamIngestor - DEBUG - Process loop: Frame got from process loop queue for camera index=0
2026-01-08 13:51:17,101 - google_genai.models - INFO - AFC is enabled with max remote calls: 10.
2026-01-08 13:51:17,105 - httpcore.http11 - DEBUG - send_request_headers.started request=<Request [b'POST']>
2026-01-08 13:51:17,105 - httpcore.http11 - DEBUG - send_request_headers.complete
2026-01-08 13:51:17,105 - httpcore.http11 - DEBUG - send_request_body.started request=<Request [b'POST']>
2026-01-08 13:51:17,106 - httpcore.http11 - DEBUG - send_request_body.complete
2026-01-08 13:51:17,106 - httpcore.http11 - DEBUG - receive_response_headers.started request=<Request [b'POST']>
2026-01-08 13:51:18,625 - httpcore.http11 - DEBUG - receive_response_headers.complete return_value=(b'HTTP/1.1', 503, b'Service Unavailable', [(b'Vary', b'Origin'), (b'Vary', b'X-Origin'), (b'Vary', b'Referer'), (b'Content-Type', b'application/json; charset=UTF-8'), (b'Content-Encoding', b'gzip'), (b'Date', b'Thu, 08 Jan 2026 21:51:18 GMT'), (b'Server', b'scaffolding on HTTPServer2'), (b'X-XSS-Protection', b'0'), (b'X-Frame-Options', b'SAMEORIGIN'), (b'X-Content-Type-Options', b'nosniff'), (b'Server-Timing', b'gfet4t7; dur=1509'), (b'Alt-Svc', b'h3=":443"; ma=2592000,h3-29=":443"; ma=2592000'), (b'Transfer-Encoding', b'chunked')])
2026-01-08 13:51:18,625 - httpx - INFO - HTTP Request: POST https://generativelanguage.googleapis.com/v1beta/models/gemini-2.5-flash:generateContent "HTTP/1.1 503 Service Unavailable"
2026-01-08 13:51:18,625 - httpcore.http11 - DEBUG - receive_response_body.started request=<Request [b'POST']>
2026-01-08 13:51:18,625 - httpcore.http11 - DEBUG - receive_response_body.complete
2026-01-08 13:51:18,626 - httpcore.http11 - DEBUG - response_closed.started
2026-01-08 13:51:18,626 - httpcore.http11 - DEBUG - response_closed.complete
2026-01-08 13:51:18,626 - VideoStreamIngestor - ERROR - LLM inference error: 503 UNAVAILABLE. {'error': {'code': 503, 'message': 'The model is overloaded. Please try again later.', 'status': 'UNAVAILABLE'}}
Traceback (most recent call last):
  File "/Users/mark/Desktop/projects/videomemory/AgentDevelopmentKit_exploration/videomemory/system/stream_ingestors/video_stream_ingestor.py", line 401, in _run_ml_inference
    response = await asyncio.to_thread(_sync_generate_content)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/opt/homebrew/Cellar/python@3.13/3.13.5/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/threads.py", line 25, in to_thread
    return await loop.run_in_executor(None, func_call)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/opt/homebrew/Cellar/python@3.13/3.13.5/Frameworks/Python.framework/Versions/3.13/lib/python3.13/concurrent/futures/thread.py", line 59, in run
    result = self.fn(*self.args, **self.kwargs)
  File "/Users/mark/Desktop/projects/videomemory/AgentDevelopmentKit_exploration/videomemory/system/stream_ingestors/video_stream_ingestor.py", line 391, in _sync_generate_content
    return self._genai_client.models.generate_content(
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^
        model="gemini-2.5-flash",
        ^^^^^^^^^^^^^^^^^^^^^^^^^
    ...<4 lines>...
        )
        ^
    )
    ^
  File "/Users/mark/Desktop/projects/videomemory/.venv/lib/python3.13/site-packages/google/genai/models.py", line 5203, in generate_content
    response = self._generate_content(
        model=model, contents=contents, config=parsed_config
    )
  File "/Users/mark/Desktop/projects/videomemory/.venv/lib/python3.13/site-packages/google/genai/models.py", line 3985, in _generate_content
    response = self._api_client.request(
        'post', path, request_dict, http_options
    )
  File "/Users/mark/Desktop/projects/videomemory/.venv/lib/python3.13/site-packages/google/genai/_api_client.py", line 1388, in request
    response = self._request(http_request, http_options, stream=False)
  File "/Users/mark/Desktop/projects/videomemory/.venv/lib/python3.13/site-packages/google/genai/_api_client.py", line 1224, in _request
    return self._retry(self._request_once, http_request, stream)  # type: ignore[no-any-return]
           ~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/mark/Desktop/projects/videomemory/.venv/lib/python3.13/site-packages/tenacity/__init__.py", line 477, in __call__
    do = self.iter(retry_state=retry_state)
  File "/Users/mark/Desktop/projects/videomemory/.venv/lib/python3.13/site-packages/tenacity/__init__.py", line 378, in iter
    result = action(retry_state)
  File "/Users/mark/Desktop/projects/videomemory/.venv/lib/python3.13/site-packages/tenacity/__init__.py", line 420, in exc_check
    raise retry_exc.reraise()
          ~~~~~~~~~~~~~~~~~^^
  File "/Users/mark/Desktop/projects/videomemory/.venv/lib/python3.13/site-packages/tenacity/__init__.py", line 187, in reraise
    raise self.last_attempt.result()
          ~~~~~~~~~~~~~~~~~~~~~~~~^^
  File "/opt/homebrew/Cellar/python@3.13/3.13.5/Frameworks/Python.framework/Versions/3.13/lib/python3.13/concurrent/futures/_base.py", line 449, in result
    return self.__get_result()
           ~~~~~~~~~~~~~~~~~^^
  File "/opt/homebrew/Cellar/python@3.13/3.13.5/Frameworks/Python.framework/Versions/3.13/lib/python3.13/concurrent/futures/_base.py", line 401, in __get_result
    raise self._exception
  File "/Users/mark/Desktop/projects/videomemory/.venv/lib/python3.13/site-packages/tenacity/__init__.py", line 480, in __call__
    result = fn(*args, **kwargs)
  File "/Users/mark/Desktop/projects/videomemory/.venv/lib/python3.13/site-packages/google/genai/_api_client.py", line 1201, in _request_once
    errors.APIError.raise_for_response(response)
    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^
  File "/Users/mark/Desktop/projects/videomemory/.venv/lib/python3.13/site-packages/google/genai/errors.py", line 121, in raise_for_response
    cls.raise_error(response.status_code, response_json, response)
    ~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/mark/Desktop/projects/videomemory/.venv/lib/python3.13/site-packages/google/genai/errors.py", line 148, in raise_error
    raise ServerError(status_code, response_json, response)
google.genai.errors.ServerError: 503 UNAVAILABLE. {'error': {'code': 503, 'message': 'The model is overloaded. Please try again later.', 'status': 'UNAVAILABLE'}}
2026-01-08 13:51:18,628 - VideoStreamIngestor - DEBUG - Process loop: Frame got from process loop queue for camera index=0
2026-01-08 13:51:18,637 - google_genai.models - INFO - AFC is enabled with max remote calls: 10.
2026-01-08 13:51:18,640 - httpcore.http11 - DEBUG - send_request_headers.started request=<Request [b'POST']>
2026-01-08 13:51:18,640 - httpcore.http11 - DEBUG - send_request_headers.complete
2026-01-08 13:51:18,640 - httpcore.http11 - DEBUG - send_request_body.started request=<Request [b'POST']>
2026-01-08 13:51:18,641 - httpcore.http11 - DEBUG - send_request_body.complete
2026-01-08 13:51:18,641 - httpcore.http11 - DEBUG - receive_response_headers.started request=<Request [b'POST']>
2026-01-08 13:51:22,923 - httpcore.http11 - DEBUG - receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'Content-Type', b'application/json; charset=UTF-8'), (b'Vary', b'Origin'), (b'Vary', b'X-Origin'), (b'Vary', b'Referer'), (b'Content-Encoding', b'gzip'), (b'Date', b'Thu, 08 Jan 2026 21:51:22 GMT'), (b'Server', b'scaffolding on HTTPServer2'), (b'X-XSS-Protection', b'0'), (b'X-Frame-Options', b'SAMEORIGIN'), (b'X-Content-Type-Options', b'nosniff'), (b'Server-Timing', b'gfet4t7; dur=4275'), (b'Alt-Svc', b'h3=":443"; ma=2592000,h3-29=":443"; ma=2592000'), (b'Transfer-Encoding', b'chunked')])
2026-01-08 13:51:22,924 - httpx - INFO - HTTP Request: POST https://generativelanguage.googleapis.com/v1beta/models/gemini-2.5-flash:generateContent "HTTP/1.1 200 OK"
2026-01-08 13:51:22,924 - httpcore.http11 - DEBUG - receive_response_body.started request=<Request [b'POST']>
2026-01-08 13:51:22,925 - httpcore.http11 - DEBUG - receive_response_body.complete
2026-01-08 13:51:22,925 - httpcore.http11 - DEBUG - response_closed.started
2026-01-08 13:51:22,925 - httpcore.http11 - DEBUG - response_closed.complete
2026-01-08 13:51:22,927 - VideoStreamIngestor - DEBUG - Process loop: Frame got from process loop queue for camera index=0
2026-01-08 13:51:22,942 - google_genai.models - INFO - AFC is enabled with max remote calls: 10.
2026-01-08 13:51:22,946 - httpcore.http11 - DEBUG - send_request_headers.started request=<Request [b'POST']>
2026-01-08 13:51:22,946 - httpcore.http11 - DEBUG - send_request_headers.complete
2026-01-08 13:51:22,946 - httpcore.http11 - DEBUG - send_request_body.started request=<Request [b'POST']>
2026-01-08 13:51:22,947 - httpcore.http11 - DEBUG - send_request_body.complete
2026-01-08 13:51:22,947 - httpcore.http11 - DEBUG - receive_response_headers.started request=<Request [b'POST']>
2026-01-08 13:51:25,622 - httpcore.http11 - DEBUG - receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'Content-Type', b'application/json; charset=UTF-8'), (b'Vary', b'Origin'), (b'Vary', b'X-Origin'), (b'Vary', b'Referer'), (b'Content-Encoding', b'gzip'), (b'Date', b'Thu, 08 Jan 2026 21:51:25 GMT'), (b'Server', b'scaffolding on HTTPServer2'), (b'X-XSS-Protection', b'0'), (b'X-Frame-Options', b'SAMEORIGIN'), (b'X-Content-Type-Options', b'nosniff'), (b'Server-Timing', b'gfet4t7; dur=2628'), (b'Alt-Svc', b'h3=":443"; ma=2592000,h3-29=":443"; ma=2592000'), (b'Transfer-Encoding', b'chunked')])
2026-01-08 13:51:25,622 - httpx - INFO - HTTP Request: POST https://generativelanguage.googleapis.com/v1beta/models/gemini-2.5-flash:generateContent "HTTP/1.1 200 OK"
2026-01-08 13:51:25,622 - httpcore.http11 - DEBUG - receive_response_body.started request=<Request [b'POST']>
2026-01-08 13:51:25,623 - httpcore.http11 - DEBUG - receive_response_body.complete
2026-01-08 13:51:25,623 - httpcore.http11 - DEBUG - response_closed.started
2026-01-08 13:51:25,623 - httpcore.http11 - DEBUG - response_closed.complete
2026-01-08 13:51:25,628 - VideoStreamIngestor - DEBUG - Process loop: Frame got from process loop queue for camera index=0
2026-01-08 13:51:25,638 - google_genai.models - INFO - AFC is enabled with max remote calls: 10.
2026-01-08 13:51:25,641 - httpcore.http11 - DEBUG - send_request_headers.started request=<Request [b'POST']>
2026-01-08 13:51:25,641 - httpcore.http11 - DEBUG - send_request_headers.complete
2026-01-08 13:51:25,641 - httpcore.http11 - DEBUG - send_request_body.started request=<Request [b'POST']>
2026-01-08 13:51:25,642 - httpcore.http11 - DEBUG - send_request_body.complete
2026-01-08 13:51:25,642 - httpcore.http11 - DEBUG - receive_response_headers.started request=<Request [b'POST']>
2026-01-08 13:51:30,353 - httpcore.http11 - DEBUG - receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'Content-Type', b'application/json; charset=UTF-8'), (b'Vary', b'Origin'), (b'Vary', b'X-Origin'), (b'Vary', b'Referer'), (b'Content-Encoding', b'gzip'), (b'Date', b'Thu, 08 Jan 2026 21:51:30 GMT'), (b'Server', b'scaffolding on HTTPServer2'), (b'X-XSS-Protection', b'0'), (b'X-Frame-Options', b'SAMEORIGIN'), (b'X-Content-Type-Options', b'nosniff'), (b'Server-Timing', b'gfet4t7; dur=4704'), (b'Alt-Svc', b'h3=":443"; ma=2592000,h3-29=":443"; ma=2592000'), (b'Transfer-Encoding', b'chunked')])
2026-01-08 13:51:30,353 - httpx - INFO - HTTP Request: POST https://generativelanguage.googleapis.com/v1beta/models/gemini-2.5-flash:generateContent "HTTP/1.1 200 OK"
2026-01-08 13:51:30,353 - httpcore.http11 - DEBUG - receive_response_body.started request=<Request [b'POST']>
2026-01-08 13:51:30,355 - httpcore.http11 - DEBUG - receive_response_body.complete
2026-01-08 13:51:30,356 - httpcore.http11 - DEBUG - response_closed.started
2026-01-08 13:51:30,356 - httpcore.http11 - DEBUG - response_closed.complete
2026-01-08 13:51:30,357 - VideoStreamIngestor - DEBUG - Process loop: Frame got from process loop queue for camera index=0
2026-01-08 13:51:30,368 - google_genai.models - INFO - AFC is enabled with max remote calls: 10.
2026-01-08 13:51:30,371 - httpcore.http11 - DEBUG - send_request_headers.started request=<Request [b'POST']>
2026-01-08 13:51:30,372 - httpcore.http11 - DEBUG - send_request_headers.complete
2026-01-08 13:51:30,372 - httpcore.http11 - DEBUG - send_request_body.started request=<Request [b'POST']>
2026-01-08 13:51:30,372 - httpcore.http11 - DEBUG - send_request_body.complete
2026-01-08 13:51:30,372 - httpcore.http11 - DEBUG - receive_response_headers.started request=<Request [b'POST']>
2026-01-08 13:51:36,846 - httpcore.http11 - DEBUG - receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'Content-Type', b'application/json; charset=UTF-8'), (b'Vary', b'Origin'), (b'Vary', b'X-Origin'), (b'Vary', b'Referer'), (b'Content-Encoding', b'gzip'), (b'Date', b'Thu, 08 Jan 2026 21:51:36 GMT'), (b'Server', b'scaffolding on HTTPServer2'), (b'X-XSS-Protection', b'0'), (b'X-Frame-Options', b'SAMEORIGIN'), (b'X-Content-Type-Options', b'nosniff'), (b'Server-Timing', b'gfet4t7; dur=6404'), (b'Alt-Svc', b'h3=":443"; ma=2592000,h3-29=":443"; ma=2592000'), (b'Transfer-Encoding', b'chunked')])
2026-01-08 13:51:36,847 - httpx - INFO - HTTP Request: POST https://generativelanguage.googleapis.com/v1beta/models/gemini-2.5-flash:generateContent "HTTP/1.1 200 OK"
2026-01-08 13:51:36,847 - httpcore.http11 - DEBUG - receive_response_body.started request=<Request [b'POST']>
2026-01-08 13:51:36,847 - httpcore.http11 - DEBUG - receive_response_body.complete
2026-01-08 13:51:36,847 - httpcore.http11 - DEBUG - response_closed.started
2026-01-08 13:51:36,848 - httpcore.http11 - DEBUG - response_closed.complete
2026-01-08 13:51:36,849 - VideoStreamIngestor - DEBUG - Process loop: Frame got from process loop queue for camera index=0
2026-01-08 13:51:36,863 - google_genai.models - INFO - AFC is enabled with max remote calls: 10.
2026-01-08 13:51:36,866 - httpcore.http11 - DEBUG - send_request_headers.started request=<Request [b'POST']>
2026-01-08 13:51:36,866 - httpcore.http11 - DEBUG - send_request_headers.complete
2026-01-08 13:51:36,866 - httpcore.http11 - DEBUG - send_request_body.started request=<Request [b'POST']>
2026-01-08 13:51:36,867 - httpcore.http11 - DEBUG - send_request_body.complete
2026-01-08 13:51:36,867 - httpcore.http11 - DEBUG - receive_response_headers.started request=<Request [b'POST']>
2026-01-08 13:51:38,893 - httpcore.http11 - DEBUG - receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'Content-Type', b'application/json; charset=UTF-8'), (b'Vary', b'Origin'), (b'Vary', b'X-Origin'), (b'Vary', b'Referer'), (b'Content-Encoding', b'gzip'), (b'Date', b'Thu, 08 Jan 2026 21:51:38 GMT'), (b'Server', b'scaffolding on HTTPServer2'), (b'X-XSS-Protection', b'0'), (b'X-Frame-Options', b'SAMEORIGIN'), (b'X-Content-Type-Options', b'nosniff'), (b'Server-Timing', b'gfet4t7; dur=2003'), (b'Alt-Svc', b'h3=":443"; ma=2592000,h3-29=":443"; ma=2592000'), (b'Transfer-Encoding', b'chunked')])
2026-01-08 13:51:38,893 - httpx - INFO - HTTP Request: POST https://generativelanguage.googleapis.com/v1beta/models/gemini-2.5-flash:generateContent "HTTP/1.1 200 OK"
2026-01-08 13:51:38,893 - httpcore.http11 - DEBUG - receive_response_body.started request=<Request [b'POST']>
2026-01-08 13:51:38,904 - httpcore.http11 - DEBUG - receive_response_body.complete
2026-01-08 13:51:38,904 - httpcore.http11 - DEBUG - response_closed.started
2026-01-08 13:51:38,904 - httpcore.http11 - DEBUG - response_closed.complete
2026-01-08 13:51:38,905 - VideoStreamIngestor - DEBUG - Process loop: Frame got from process loop queue for camera index=0
2026-01-08 13:51:38,915 - google_genai.models - INFO - AFC is enabled with max remote calls: 10.
2026-01-08 13:51:38,918 - httpcore.http11 - DEBUG - send_request_headers.started request=<Request [b'POST']>
2026-01-08 13:51:38,918 - httpcore.http11 - DEBUG - send_request_headers.complete
2026-01-08 13:51:38,918 - httpcore.http11 - DEBUG - send_request_body.started request=<Request [b'POST']>
2026-01-08 13:51:38,919 - httpcore.http11 - DEBUG - send_request_body.complete
2026-01-08 13:51:38,919 - httpcore.http11 - DEBUG - receive_response_headers.started request=<Request [b'POST']>
2026-01-08 13:51:39,018 - main - DEBUG - [DEBUG] main: Processing user input: how many fingers?
2026-01-08 13:51:39,019 - main - DEBUG - [DEBUG] main: About to call runner.run_async
2026-01-08 13:51:39,040 - google_adk.google.adk.models.google_llm - INFO - Sending out request, model: gemini-2.5-flash, backend: GoogleLLMVariant.GEMINI_API, stream: False
2026-01-08 13:51:39,040 - google_adk.google.adk.models.google_llm - DEBUG - 
LLM Request:
-----------------------------------------------------------
System Instruction:
You are a helpful and friendly system administrator. Be concise and clear in your responses. You have access to tools that can help you check available input devices on the system and manage tasks. When a user requests a task that requires an input device, you should automatically call list_input_devices_with_ids to find the appropriate device and its io_id. Do not ask the user for io_ids - always retrieve them yourself using the available tools. When selecting a device, prefer video cameras (camera category) when possible. Once you have the io_id, use add_task with the io_id to create tasks. Use list_tasks to view all tasks (optionally filtered by io_id). When a user asks a question about a task, first call list_tasks to find the relevant task_id, then call get_info_on ONCE with that task_id to get detailed information. Do not call get_info_on multiple times for the same task_id. Make sure to call get_info_on when answering a user's question about a task.Use remove_task to delete a task by its task_id. Use edit_task to update a task's description. This is especially useful when a user wants to amend an existing task, for example, to add an action to be triggered when a condition is met. When editing a task, preserve the original detection part and add the new action requirement. For example, if a task is 'Count claps' and the user wants to send an email when claps reach 1, edit it to 'Count claps and when it reaches 1 send email to [email]'. You can also use take_output_action to execute various actions like sending emails, opening/closing doors, or controlling lights by providing a natural language description of the action. IMPORTANT: When a user requests an action to be triggered based on a video feed event (e.g., 'send me an email when I clap', 'turn on lights when I wave'), you have two options: 1. If a relevant task already exists (e.g., 'Count claps'), use edit_task to amend it with the action. 2. If no relevant task exists, add a NEW task that combines both the detection and the action. 

You are an agent. Your internal name is "system_administrator". The description about you is "A helpful system administrator. It controls the system on behalf of the user.".
-----------------------------------------------------------
Config:
{'http_options': {'headers': {'x-goog-api-client': 'google-adk/1.21.0 gl-python/3.13.5', 'user-agent': 'google-adk/1.21.0 gl-python/3.13.5'}}, 'tools': [{}]}
-----------------------------------------------------------
Contents:
{"parts":[{"text":"count fingers"}],"role":"user"}
{"parts":[{"function_call":{"args":{},"name":"list_input_devices_with_ids"},"thought_signature":"CvEBAXLI2nwScjF98UZCRtrafqBZfpp1jAHJkaWxrgxt8JRpMHGes8dK-Te0yjhQw_GyGPyxa4EcxBxsXQYe4DOdnjdRKqYgA9ek-8a623yydU72CZRjYLsKOzvhqFJ4ck6ws8kJNs3g5omO6Q4sXEaRsdqerlllzLSUwml9GQla1V1zr7U8cHU8Nm-QRcS3hKUrcwjqYP_g_xco9D4G0GSN0OSdk2K4NMeAqGaL048cQ5D2KIOQhvoXrlLr4ufnH6SUPNEj_Soa2qdcNepFj1UU9ztafcwFO6sILW39k2RgyZFpC61QrgB3g1HdDyZhiE19xQ=="}],"role":"model"}
{"parts":[{"function_response":{"name":"list_input_devices_with_ids","response":{"status":"success","input_devices":{"camera":[{"io_id":"ddeb3cd4","name":""},{"io_id":"9856d608","name":"FaceTime HD Camera"},{"io_id":"ea036130","name":"OBS Camera Extension"}]}}}}],"role":"user"}
{"parts":[{"function_call":{"args":{"task_description":"Count fingers","io_id":"9856d608"},"name":"add_task"},"thought_signature":"CocCAXLI2nzJI-hjWy4vvShNrej2gr__n3qB2uH6jE68svMoqjjfv0x-QwIqlb3oi0QL3KrHfyMhHuJLq6kD1bRz5AHkwX5-KRrR8hUORGX0bGKnz1H-mHCDqa8YpOUXTAIvvYdV8nQ9Kj4wPlGFowNMTow992fhx6oOADkUcJ71sbrTQzc080K3SRV9ybqd63YWglxh_tgMtv83dke0UmcFFqmhMwvGDjtSPsyjLlpFEt6PsrzGMN1ivotlmt4qnP6MDbjhSVBpZYXNyEAjA85lKdnFYQBXkBZuviixlpedIqf_EKoOJqudlIDS3ZcYwd3Of5gfwvtwdoh_A4KZmw5oh9ODymTsqrc="}],"role":"model"}
{"parts":[{"function_response":{"name":"add_task","response":{"status":"success","message":"Task added successfully","task_id":"bdb77119","io_id":"9856d608","task_description":"Count fingers","device_info":{"io_id":"9856d608","category":"camera","name":"FaceTime HD Camera"}}}}],"role":"user"}
{"parts":[{"text":"I've set up a task to count fingers using the FaceTime HD Camera. The task ID is `bdb77119`."}],"role":"model"}
{"parts":[{"text":"how many fingers?"}],"role":"user"}
{"parts":[{"function_call":{"args":{"task_id":"bdb77119"},"name":"get_info_on"},"thought_signature":"Cp8DAXLI2nw96WHxAWHcf04LpU44iaacXf2I7oevjJgtNQWA5KN7N3dxUO_AbwTiFxsXOH9FhO75iEZI0BDlXV-FX9gwTjf2yyXplfxl6LnNytM75-gbfMUSR9da48WiHEcJ1sfBbJ3eGlVewfyWQO-rKfI_k27QQNLHxOnoJ2a_XCjWIdgk0QFKS2r7FK9rlj1DCt5qSvjcB93xpJle6QCd5WR98OycUlRfaPjYW_EQa6RbOnfFPekgKvTH8g5r7_oHqffo1deHaiC3RVFDRBPzCwdmJYcNN2xlyMJV9P7fsn4bt736i2QsgNN0mw_JRb5tXtTBrSTaOPs6_Mu7wunZUtEmf8JADq1O0ILXwHIh2j92jKGR2zp5sJYDr_jmFkHQrmde_JygrdMNc77ENlWNDtCH0x67P1YgFOI6nsNE4OI84DybmL4gR6yrpMu_49SrUCf3bxDXqpp1zO76SiqAhTISI2EYs0N_Zf2HDmvgB9k1Kh6DqJLG339qHqZWEqtbYqJsagnSx1cz0hCuO7xTzw2rxRlTuUTOMM48iTYXDw=="}],"role":"model"}
{"parts":[{"function_response":{"name":"get_info_on","response":{"status":"success","task":{"task_number":0,"task_id":"bdb77119","task_desc":"Count fingers","task_note":[{"content":"No fingers are visible in the image.","timestamp":"2026-01-08 13:50:57"},{"content":"Two fingers are visible in the image.","timestamp":"2026-01-08 13:51:03"},{"content":"At least 4 fingers are visible in the image.","timestamp":"2026-01-08 13:51:08"}],"done":false,"io_id":"9856d608"}}}}],"role":"user"}
{"parts":[{"text":"The latest count shows at least 4 fingers are visible."}],"role":"model"}
{"parts":[{"text":"how many fingers?"}],"role":"user"}
-----------------------------------------------------------
Functions:
list_input_devices_with_ids: {} 
add_task: {'io_id': {'type': <Type.STRING: 'STRING'>}, 'task_description': {'type': <Type.STRING: 'STRING'>}} 
list_tasks: {'io_id': {'nullable': True, 'type': <Type.STRING: 'STRING'>}} 
get_info_on: {'task_id': {'type': <Type.STRING: 'STRING'>}} 
remove_task: {'task_id': {'type': <Type.STRING: 'STRING'>}} 
edit_task: {'task_id': {'type': <Type.STRING: 'STRING'>}, 'new_description': {'type': <Type.STRING: 'STRING'>}} 
action_router: {'request': {'type': <Type.STRING: 'STRING'>}} 
-----------------------------------------------------------

2026-01-08 13:51:39,043 - httpcore.connection - DEBUG - connect_tcp.started host='generativelanguage.googleapis.com' port=443 local_address=None timeout=None socket_options=None
2026-01-08 13:51:39,052 - httpcore.connection - DEBUG - connect_tcp.complete return_value=<httpcore._backends.anyio.AnyIOStream object at 0x11abae7b0>
2026-01-08 13:51:39,052 - httpcore.connection - DEBUG - start_tls.started ssl_context=<ssl.SSLContext object at 0x11ab7bb60> server_hostname='generativelanguage.googleapis.com' timeout=None
2026-01-08 13:51:39,084 - httpcore.connection - DEBUG - start_tls.complete return_value=<httpcore._backends.anyio.AnyIOStream object at 0x11abaf7a0>
2026-01-08 13:51:39,085 - httpcore.http11 - DEBUG - send_request_headers.started request=<Request [b'POST']>
2026-01-08 13:51:39,085 - httpcore.http11 - DEBUG - send_request_headers.complete
2026-01-08 13:51:39,085 - httpcore.http11 - DEBUG - send_request_body.started request=<Request [b'POST']>
2026-01-08 13:51:39,085 - httpcore.http11 - DEBUG - send_request_body.complete
2026-01-08 13:51:39,085 - httpcore.http11 - DEBUG - receive_response_headers.started request=<Request [b'POST']>
2026-01-08 13:51:40,355 - httpcore.http11 - DEBUG - receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'Content-Type', b'application/json; charset=UTF-8'), (b'Vary', b'Origin'), (b'Vary', b'X-Origin'), (b'Vary', b'Referer'), (b'Content-Encoding', b'gzip'), (b'Date', b'Thu, 08 Jan 2026 21:51:40 GMT'), (b'Server', b'scaffolding on HTTPServer2'), (b'X-XSS-Protection', b'0'), (b'X-Frame-Options', b'SAMEORIGIN'), (b'X-Content-Type-Options', b'nosniff'), (b'Server-Timing', b'gfet4t7; dur=1264'), (b'Alt-Svc', b'h3=":443"; ma=2592000,h3-29=":443"; ma=2592000'), (b'Transfer-Encoding', b'chunked')])
2026-01-08 13:51:40,356 - httpx - INFO - HTTP Request: POST https://generativelanguage.googleapis.com/v1beta/models/gemini-2.5-flash:generateContent "HTTP/1.1 200 OK"
2026-01-08 13:51:40,356 - httpcore.http11 - DEBUG - receive_response_body.started request=<Request [b'POST']>
2026-01-08 13:51:40,356 - httpcore.http11 - DEBUG - receive_response_body.complete
2026-01-08 13:51:40,356 - httpcore.http11 - DEBUG - response_closed.started
2026-01-08 13:51:40,356 - httpcore.http11 - DEBUG - response_closed.complete
2026-01-08 13:51:40,357 - google_adk.google.adk.models.google_llm - INFO - Response received from the model.
2026-01-08 13:51:40,357 - google_adk.google.adk.models.google_llm - DEBUG - 
LLM Response:
-----------------------------------------------------------
Text:
None
-----------------------------------------------------------
Function calls:
name: get_info_on, args: {'task_id': 'bdb77119'}
-----------------------------------------------------------
Raw response:
{"sdk_http_response":{"headers":{"content-type":"application/json; charset=UTF-8","vary":"Origin, X-Origin, Referer","content-encoding":"gzip","date":"Thu, 08 Jan 2026 21:51:40 GMT","server":"scaffolding on HTTPServer2","x-xss-protection":"0","x-frame-options":"SAMEORIGIN","x-content-type-options":"nosniff","server-timing":"gfet4t7; dur=1264","alt-svc":"h3=\":443\"; ma=2592000,h3-29=\":443\"; ma=2592000","transfer-encoding":"chunked"}},"candidates":[{"content":{"parts":[{"function_call":{"args":{"task_id":"bdb77119"},"name":"get_info_on"},"thought_signature":"CqAEAXLI2nyBjhXxPrD6d6vBJARjFHCCiCCMmhcM9mBSEqOpV_Kq72LxEwT_YSnvOU6tUNbxjEosL85ZPBJONT7-hC1h0mDl5Lf5GTwjZWwjRsnAaHRraenWQSSSxpR60fL1RLwHSKcM0A6IbKzN5Z3G5XQ8g1W5h1Pc9sKSkuphHqJO6Q85jjfQudEsRu8g4c0H3Are0bc6ASQeMMMOgvSWRNXuf4qAH3JePxdXmkQSD8TcbHqI7TvrC3ORknpvs8bAiTrmGSx3FpDJMgWv71iwN1giois525ZVQ6aWVgDdz3Wes82GJMF5AKTXbW_8f1ac7qNOytdh_TT6RcSfLzU9xTP8CZ5i2ADRH4Li2HE1nZ79l8zB1VdRdOqrWl0yd8quI3bZ6ZA-RnvcrH5YvqCNilACbbWVYZxBeh3BzyaI_kmfanunnHy0BG2yZ0Fq86GE4Wgr6QNI_kgWYO1uWKk6rLYHyUY19efe9MiMqrK_qmOt9W2iIEu52VX0Vbsq0HwuVYgozUY-0fxtYcO__Toq4ba9CQ0UStziRXkRJ9jTEswXMn8TVJMjBXhbX2fttvxwsW00kiwAxPzOsow8c4IeDnvQgjBuzdHoNlcRQ8VbSmXB34zl4M24_vVxaRF8dzoAQbO0Xe8uS8wnBK7O2-lFNNuCBTLX-GrfAwg7tepebJ26nwc8AyReXu9o6DTHPRMU4S5a8yfhVECQdwBVQwL8kQ=="}],"role":"model"},"finish_reason":"STOP","index":0}],"model_version":"gemini-2.5-flash","response_id":"7CZgaamyEt2ljMcPntLFuQE","usage_metadata":{"candidates_token_count":24,"prompt_token_count":1680,"prompt_tokens_details":[{"modality":"TEXT","token_count":1680}],"thoughts_token_count":148,"total_token_count":1852}}
-----------------------------------------------------------

2026-01-08 13:51:40,358 - main - DEBUG - [DEBUG] main: Received event, is_final_response=False
2026-01-08 13:51:40,381 - main - DEBUG - [DEBUG] main: Received event, is_final_response=False
2026-01-08 13:51:40,401 - google_adk.google.adk.models.google_llm - INFO - Sending out request, model: gemini-2.5-flash, backend: GoogleLLMVariant.GEMINI_API, stream: False
2026-01-08 13:51:40,401 - google_adk.google.adk.models.google_llm - DEBUG - 
LLM Request:
-----------------------------------------------------------
System Instruction:
You are a helpful and friendly system administrator. Be concise and clear in your responses. You have access to tools that can help you check available input devices on the system and manage tasks. When a user requests a task that requires an input device, you should automatically call list_input_devices_with_ids to find the appropriate device and its io_id. Do not ask the user for io_ids - always retrieve them yourself using the available tools. When selecting a device, prefer video cameras (camera category) when possible. Once you have the io_id, use add_task with the io_id to create tasks. Use list_tasks to view all tasks (optionally filtered by io_id). When a user asks a question about a task, first call list_tasks to find the relevant task_id, then call get_info_on ONCE with that task_id to get detailed information. Do not call get_info_on multiple times for the same task_id. Make sure to call get_info_on when answering a user's question about a task.Use remove_task to delete a task by its task_id. Use edit_task to update a task's description. This is especially useful when a user wants to amend an existing task, for example, to add an action to be triggered when a condition is met. When editing a task, preserve the original detection part and add the new action requirement. For example, if a task is 'Count claps' and the user wants to send an email when claps reach 1, edit it to 'Count claps and when it reaches 1 send email to [email]'. You can also use take_output_action to execute various actions like sending emails, opening/closing doors, or controlling lights by providing a natural language description of the action. IMPORTANT: When a user requests an action to be triggered based on a video feed event (e.g., 'send me an email when I clap', 'turn on lights when I wave'), you have two options: 1. If a relevant task already exists (e.g., 'Count claps'), use edit_task to amend it with the action. 2. If no relevant task exists, add a NEW task that combines both the detection and the action. 

You are an agent. Your internal name is "system_administrator". The description about you is "A helpful system administrator. It controls the system on behalf of the user.".
-----------------------------------------------------------
Config:
{'http_options': {'headers': {'x-goog-api-client': 'google-adk/1.21.0 gl-python/3.13.5', 'user-agent': 'google-adk/1.21.0 gl-python/3.13.5'}}, 'tools': [{}]}
-----------------------------------------------------------
Contents:
{"parts":[{"text":"count fingers"}],"role":"user"}
{"parts":[{"function_call":{"args":{},"name":"list_input_devices_with_ids"},"thought_signature":"CvEBAXLI2nwScjF98UZCRtrafqBZfpp1jAHJkaWxrgxt8JRpMHGes8dK-Te0yjhQw_GyGPyxa4EcxBxsXQYe4DOdnjdRKqYgA9ek-8a623yydU72CZRjYLsKOzvhqFJ4ck6ws8kJNs3g5omO6Q4sXEaRsdqerlllzLSUwml9GQla1V1zr7U8cHU8Nm-QRcS3hKUrcwjqYP_g_xco9D4G0GSN0OSdk2K4NMeAqGaL048cQ5D2KIOQhvoXrlLr4ufnH6SUPNEj_Soa2qdcNepFj1UU9ztafcwFO6sILW39k2RgyZFpC61QrgB3g1HdDyZhiE19xQ=="}],"role":"model"}
{"parts":[{"function_response":{"name":"list_input_devices_with_ids","response":{"status":"success","input_devices":{"camera":[{"io_id":"ddeb3cd4","name":""},{"io_id":"9856d608","name":"FaceTime HD Camera"},{"io_id":"ea036130","name":"OBS Camera Extension"}]}}}}],"role":"user"}
{"parts":[{"function_call":{"args":{"task_description":"Count fingers","io_id":"9856d608"},"name":"add_task"},"thought_signature":"CocCAXLI2nzJI-hjWy4vvShNrej2gr__n3qB2uH6jE68svMoqjjfv0x-QwIqlb3oi0QL3KrHfyMhHuJLq6kD1bRz5AHkwX5-KRrR8hUORGX0bGKnz1H-mHCDqa8YpOUXTAIvvYdV8nQ9Kj4wPlGFowNMTow992fhx6oOADkUcJ71sbrTQzc080K3SRV9ybqd63YWglxh_tgMtv83dke0UmcFFqmhMwvGDjtSPsyjLlpFEt6PsrzGMN1ivotlmt4qnP6MDbjhSVBpZYXNyEAjA85lKdnFYQBXkBZuviixlpedIqf_EKoOJqudlIDS3ZcYwd3Of5gfwvtwdoh_A4KZmw5oh9ODymTsqrc="}],"role":"model"}
{"parts":[{"function_response":{"name":"add_task","response":{"status":"success","message":"Task added successfully","task_id":"bdb77119","io_id":"9856d608","task_description":"Count fingers","device_info":{"io_id":"9856d608","category":"camera","name":"FaceTime HD Camera"}}}}],"role":"user"}
{"parts":[{"text":"I've set up a task to count fingers using the FaceTime HD Camera. The task ID is `bdb77119`."}],"role":"model"}
{"parts":[{"text":"how many fingers?"}],"role":"user"}
{"parts":[{"function_call":{"args":{"task_id":"bdb77119"},"name":"get_info_on"},"thought_signature":"Cp8DAXLI2nw96WHxAWHcf04LpU44iaacXf2I7oevjJgtNQWA5KN7N3dxUO_AbwTiFxsXOH9FhO75iEZI0BDlXV-FX9gwTjf2yyXplfxl6LnNytM75-gbfMUSR9da48WiHEcJ1sfBbJ3eGlVewfyWQO-rKfI_k27QQNLHxOnoJ2a_XCjWIdgk0QFKS2r7FK9rlj1DCt5qSvjcB93xpJle6QCd5WR98OycUlRfaPjYW_EQa6RbOnfFPekgKvTH8g5r7_oHqffo1deHaiC3RVFDRBPzCwdmJYcNN2xlyMJV9P7fsn4bt736i2QsgNN0mw_JRb5tXtTBrSTaOPs6_Mu7wunZUtEmf8JADq1O0ILXwHIh2j92jKGR2zp5sJYDr_jmFkHQrmde_JygrdMNc77ENlWNDtCH0x67P1YgFOI6nsNE4OI84DybmL4gR6yrpMu_49SrUCf3bxDXqpp1zO76SiqAhTISI2EYs0N_Zf2HDmvgB9k1Kh6DqJLG339qHqZWEqtbYqJsagnSx1cz0hCuO7xTzw2rxRlTuUTOMM48iTYXDw=="}],"role":"model"}
{"parts":[{"function_response":{"name":"get_info_on","response":{"status":"success","task":{"task_number":0,"task_id":"bdb77119","task_desc":"Count fingers","task_note":[{"content":"No fingers are visible in the image.","timestamp":"2026-01-08 13:50:57"},{"content":"Two fingers are visible in the image.","timestamp":"2026-01-08 13:51:03"},{"content":"At least 4 fingers are visible in the image.","timestamp":"2026-01-08 13:51:08"}],"done":false,"io_id":"9856d608"}}}}],"role":"user"}
{"parts":[{"text":"The latest count shows at least 4 fingers are visible."}],"role":"model"}
{"parts":[{"text":"how many fingers?"}],"role":"user"}
{"parts":[{"function_call":{"args":{"task_id":"bdb77119"},"name":"get_info_on"},"thought_signature":"CqAEAXLI2nyBjhXxPrD6d6vBJARjFHCCiCCMmhcM9mBSEqOpV_Kq72LxEwT_YSnvOU6tUNbxjEosL85ZPBJONT7-hC1h0mDl5Lf5GTwjZWwjRsnAaHRraenWQSSSxpR60fL1RLwHSKcM0A6IbKzN5Z3G5XQ8g1W5h1Pc9sKSkuphHqJO6Q85jjfQudEsRu8g4c0H3Are0bc6ASQeMMMOgvSWRNXuf4qAH3JePxdXmkQSD8TcbHqI7TvrC3ORknpvs8bAiTrmGSx3FpDJMgWv71iwN1giois525ZVQ6aWVgDdz3Wes82GJMF5AKTXbW_8f1ac7qNOytdh_TT6RcSfLzU9xTP8CZ5i2ADRH4Li2HE1nZ79l8zB1VdRdOqrWl0yd8quI3bZ6ZA-RnvcrH5YvqCNilACbbWVYZxBeh3BzyaI_kmfanunnHy0BG2yZ0Fq86GE4Wgr6QNI_kgWYO1uWKk6rLYHyUY19efe9MiMqrK_qmOt9W2iIEu52VX0Vbsq0HwuVYgozUY-0fxtYcO__Toq4ba9CQ0UStziRXkRJ9jTEswXMn8TVJMjBXhbX2fttvxwsW00kiwAxPzOsow8c4IeDnvQgjBuzdHoNlcRQ8VbSmXB34zl4M24_vVxaRF8dzoAQbO0Xe8uS8wnBK7O2-lFNNuCBTLX-GrfAwg7tepebJ26nwc8AyReXu9o6DTHPRMU4S5a8yfhVECQdwBVQwL8kQ=="}],"role":"model"}
{"parts":[{"function_response":{"name":"get_info_on","response":{"status":"success","task":{"task_number":0,"task_id":"bdb77119","task_desc":"Count fingers","task_note":[{"content":"No fingers are visible in the image.","timestamp":"2026-01-08 13:50:57"},{"content":"Two fingers are visible in the image.","timestamp":"2026-01-08 13:51:03"},{"content":"At least 4 fingers are visible in the image.","timestamp":"2026-01-08 13:51:08"},{"content":"Four fingers are clearly visible in the image.","timestamp":"2026-01-08 13:51:14"},{"content":"No fingers are visible in the image.","timestamp":"2026-01-08 13:51:17"},{"content":"One finger (thumb) is visible near the person's mouth/chin area.","timestamp":"2026-01-08 13:51:22"},{"content":"Five fingers are visible, with the thumb extended and the other four fingers curled, showing their knuckles.","timestamp":"2026-01-08 13:51:36"}],"done":false,"io_id":"9856d608"}}}}],"role":"user"}
-----------------------------------------------------------
Functions:
list_input_devices_with_ids: {} 
add_task: {'io_id': {'type': <Type.STRING: 'STRING'>}, 'task_description': {'type': <Type.STRING: 'STRING'>}} 
list_tasks: {'io_id': {'nullable': True, 'type': <Type.STRING: 'STRING'>}} 
get_info_on: {'task_id': {'type': <Type.STRING: 'STRING'>}} 
remove_task: {'task_id': {'type': <Type.STRING: 'STRING'>}} 
edit_task: {'task_id': {'type': <Type.STRING: 'STRING'>}, 'new_description': {'type': <Type.STRING: 'STRING'>}} 
action_router: {'request': {'type': <Type.STRING: 'STRING'>}} 
-----------------------------------------------------------

2026-01-08 13:51:40,404 - httpcore.connection - DEBUG - close.started
2026-01-08 13:51:40,404 - httpcore.connection - DEBUG - connect_tcp.started host='generativelanguage.googleapis.com' port=443 local_address=None timeout=None socket_options=None
2026-01-08 13:51:40,405 - httpcore.connection - DEBUG - close.complete
2026-01-08 13:51:40,414 - httpcore.connection - DEBUG - connect_tcp.complete return_value=<httpcore._backends.anyio.AnyIOStream object at 0x16b815390>
2026-01-08 13:51:40,414 - httpcore.connection - DEBUG - start_tls.started ssl_context=<ssl.SSLContext object at 0x11ab79d00> server_hostname='generativelanguage.googleapis.com' timeout=None
2026-01-08 13:51:40,446 - httpcore.connection - DEBUG - start_tls.complete return_value=<httpcore._backends.anyio.AnyIOStream object at 0x16b8150f0>
2026-01-08 13:51:40,447 - httpcore.http11 - DEBUG - send_request_headers.started request=<Request [b'POST']>
2026-01-08 13:51:40,447 - httpcore.http11 - DEBUG - send_request_headers.complete
2026-01-08 13:51:40,447 - httpcore.http11 - DEBUG - send_request_body.started request=<Request [b'POST']>
2026-01-08 13:51:40,447 - httpcore.http11 - DEBUG - send_request_body.complete
2026-01-08 13:51:40,447 - httpcore.http11 - DEBUG - receive_response_headers.started request=<Request [b'POST']>
2026-01-08 13:51:41,065 - httpcore.http11 - DEBUG - receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'Content-Type', b'application/json; charset=UTF-8'), (b'Vary', b'Origin'), (b'Vary', b'X-Origin'), (b'Vary', b'Referer'), (b'Content-Encoding', b'gzip'), (b'Date', b'Thu, 08 Jan 2026 21:51:41 GMT'), (b'Server', b'scaffolding on HTTPServer2'), (b'X-XSS-Protection', b'0'), (b'X-Frame-Options', b'SAMEORIGIN'), (b'X-Content-Type-Options', b'nosniff'), (b'Server-Timing', b'gfet4t7; dur=606'), (b'Alt-Svc', b'h3=":443"; ma=2592000,h3-29=":443"; ma=2592000'), (b'Transfer-Encoding', b'chunked')])
2026-01-08 13:51:41,065 - httpx - INFO - HTTP Request: POST https://generativelanguage.googleapis.com/v1beta/models/gemini-2.5-flash:generateContent "HTTP/1.1 200 OK"
2026-01-08 13:51:41,065 - httpcore.http11 - DEBUG - receive_response_body.started request=<Request [b'POST']>
2026-01-08 13:51:41,065 - httpcore.http11 - DEBUG - receive_response_body.complete
2026-01-08 13:51:41,066 - httpcore.http11 - DEBUG - response_closed.started
2026-01-08 13:51:41,066 - httpcore.http11 - DEBUG - response_closed.complete
2026-01-08 13:51:41,066 - google_adk.google.adk.models.google_llm - INFO - Response received from the model.
2026-01-08 13:51:41,066 - google_adk.google.adk.models.google_llm - DEBUG - 
LLM Response:
-----------------------------------------------------------
Text:
The latest update states that five fingers are visible, with the thumb extended and the other four fingers curled, showing their knuckles.
-----------------------------------------------------------
Function calls:

-----------------------------------------------------------
Raw response:
{"sdk_http_response":{"headers":{"content-type":"application/json; charset=UTF-8","vary":"Origin, X-Origin, Referer","content-encoding":"gzip","date":"Thu, 08 Jan 2026 21:51:41 GMT","server":"scaffolding on HTTPServer2","x-xss-protection":"0","x-frame-options":"SAMEORIGIN","x-content-type-options":"nosniff","server-timing":"gfet4t7; dur=606","alt-svc":"h3=\":443\"; ma=2592000,h3-29=\":443\"; ma=2592000","transfer-encoding":"chunked"}},"candidates":[{"content":{"parts":[{"text":"The latest update states that five fingers are visible, with the thumb extended and the other four fingers curled, showing their knuckles."}],"role":"model"},"finish_reason":"STOP","index":0}],"model_version":"gemini-2.5-flash","response_id":"7SZgaaJV1KWMxw_c2M-pDw","usage_metadata":{"cache_tokens_details":[{"modality":"TEXT","token_count":1567}],"cached_content_token_count":1567,"candidates_token_count":25,"prompt_token_count":2057,"prompt_tokens_details":[{"modality":"TEXT","token_count":2057}],"total_token_count":2082}}
-----------------------------------------------------------

2026-01-08 13:51:41,067 - main - DEBUG - [DEBUG] main: Received event, is_final_response=True
2026-01-08 13:51:41,067 - main - DEBUG - [DEBUG] main: Finished processing events, final_response_text=The latest update states that five fingers are visible, with the thumb extended and the other four fingers curled, showing their knuckles.
2026-01-08 13:51:41,067 - httpcore.connection - DEBUG - close.started
2026-01-08 13:51:41,068 - httpcore.connection - DEBUG - close.complete
2026-01-08 13:51:42,163 - httpcore.http11 - DEBUG - receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'Content-Type', b'application/json; charset=UTF-8'), (b'Vary', b'Origin'), (b'Vary', b'X-Origin'), (b'Vary', b'Referer'), (b'Content-Encoding', b'gzip'), (b'Date', b'Thu, 08 Jan 2026 21:51:42 GMT'), (b'Server', b'scaffolding on HTTPServer2'), (b'X-XSS-Protection', b'0'), (b'X-Frame-Options', b'SAMEORIGIN'), (b'X-Content-Type-Options', b'nosniff'), (b'Server-Timing', b'gfet4t7; dur=3234'), (b'Alt-Svc', b'h3=":443"; ma=2592000,h3-29=":443"; ma=2592000'), (b'Transfer-Encoding', b'chunked')])
2026-01-08 13:51:42,163 - httpx - INFO - HTTP Request: POST https://generativelanguage.googleapis.com/v1beta/models/gemini-2.5-flash:generateContent "HTTP/1.1 200 OK"
2026-01-08 13:51:42,164 - httpcore.http11 - DEBUG - receive_response_body.started request=<Request [b'POST']>
2026-01-08 13:51:42,166 - httpcore.http11 - DEBUG - receive_response_body.complete
2026-01-08 13:51:42,166 - httpcore.http11 - DEBUG - response_closed.started
2026-01-08 13:51:42,166 - httpcore.http11 - DEBUG - response_closed.complete
2026-01-08 13:51:42,168 - VideoStreamIngestor - DEBUG - Process loop: Frame got from process loop queue for camera index=0
2026-01-08 13:51:42,184 - google_genai.models - INFO - AFC is enabled with max remote calls: 10.
2026-01-08 13:51:42,188 - httpcore.http11 - DEBUG - send_request_headers.started request=<Request [b'POST']>
2026-01-08 13:51:42,188 - httpcore.http11 - DEBUG - send_request_headers.complete
2026-01-08 13:51:42,188 - httpcore.http11 - DEBUG - send_request_body.started request=<Request [b'POST']>
2026-01-08 13:51:42,189 - httpcore.http11 - DEBUG - send_request_body.complete
2026-01-08 13:51:42,189 - httpcore.http11 - DEBUG - receive_response_headers.started request=<Request [b'POST']>
2026-01-08 13:51:44,509 - httpcore.http11 - DEBUG - receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'Content-Type', b'application/json; charset=UTF-8'), (b'Vary', b'Origin'), (b'Vary', b'X-Origin'), (b'Vary', b'Referer'), (b'Content-Encoding', b'gzip'), (b'Date', b'Thu, 08 Jan 2026 21:51:44 GMT'), (b'Server', b'scaffolding on HTTPServer2'), (b'X-XSS-Protection', b'0'), (b'X-Frame-Options', b'SAMEORIGIN'), (b'X-Content-Type-Options', b'nosniff'), (b'Server-Timing', b'gfet4t7; dur=2312'), (b'Alt-Svc', b'h3=":443"; ma=2592000,h3-29=":443"; ma=2592000'), (b'Transfer-Encoding', b'chunked')])
2026-01-08 13:51:44,510 - httpx - INFO - HTTP Request: POST https://generativelanguage.googleapis.com/v1beta/models/gemini-2.5-flash:generateContent "HTTP/1.1 200 OK"
2026-01-08 13:51:44,510 - httpcore.http11 - DEBUG - receive_response_body.started request=<Request [b'POST']>
2026-01-08 13:51:44,511 - httpcore.http11 - DEBUG - receive_response_body.complete
2026-01-08 13:51:44,511 - httpcore.http11 - DEBUG - response_closed.started
2026-01-08 13:51:44,511 - httpcore.http11 - DEBUG - response_closed.complete
2026-01-08 13:51:44,513 - VideoStreamIngestor - DEBUG - Process loop: Frame got from process loop queue for camera index=0
2026-01-08 13:51:44,529 - google_genai.models - INFO - AFC is enabled with max remote calls: 10.
2026-01-08 13:51:44,533 - httpcore.http11 - DEBUG - send_request_headers.started request=<Request [b'POST']>
2026-01-08 13:51:44,534 - httpcore.http11 - DEBUG - send_request_headers.complete
2026-01-08 13:51:44,534 - httpcore.http11 - DEBUG - send_request_body.started request=<Request [b'POST']>
2026-01-08 13:51:44,535 - httpcore.http11 - DEBUG - send_request_body.complete
2026-01-08 13:51:44,535 - httpcore.http11 - DEBUG - receive_response_headers.started request=<Request [b'POST']>
2026-01-08 13:51:48,314 - httpcore.http11 - DEBUG - receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'Content-Type', b'application/json; charset=UTF-8'), (b'Vary', b'Origin'), (b'Vary', b'X-Origin'), (b'Vary', b'Referer'), (b'Content-Encoding', b'gzip'), (b'Date', b'Thu, 08 Jan 2026 21:51:48 GMT'), (b'Server', b'scaffolding on HTTPServer2'), (b'X-XSS-Protection', b'0'), (b'X-Frame-Options', b'SAMEORIGIN'), (b'X-Content-Type-Options', b'nosniff'), (b'Server-Timing', b'gfet4t7; dur=3762'), (b'Alt-Svc', b'h3=":443"; ma=2592000,h3-29=":443"; ma=2592000'), (b'Transfer-Encoding', b'chunked')])
2026-01-08 13:51:48,315 - httpx - INFO - HTTP Request: POST https://generativelanguage.googleapis.com/v1beta/models/gemini-2.5-flash:generateContent "HTTP/1.1 200 OK"
2026-01-08 13:51:48,315 - httpcore.http11 - DEBUG - receive_response_body.started request=<Request [b'POST']>
2026-01-08 13:51:48,315 - httpcore.http11 - DEBUG - receive_response_body.complete
2026-01-08 13:51:48,315 - httpcore.http11 - DEBUG - response_closed.started
2026-01-08 13:51:48,315 - httpcore.http11 - DEBUG - response_closed.complete
2026-01-08 13:51:48,317 - VideoStreamIngestor - DEBUG - Process loop: Frame got from process loop queue for camera index=0
2026-01-08 13:51:48,331 - google_genai.models - INFO - AFC is enabled with max remote calls: 10.
2026-01-08 13:51:48,335 - httpcore.http11 - DEBUG - send_request_headers.started request=<Request [b'POST']>
2026-01-08 13:51:48,335 - httpcore.http11 - DEBUG - send_request_headers.complete
2026-01-08 13:51:48,336 - httpcore.http11 - DEBUG - send_request_body.started request=<Request [b'POST']>
2026-01-08 13:51:48,336 - httpcore.http11 - DEBUG - send_request_body.complete
2026-01-08 13:51:48,336 - httpcore.http11 - DEBUG - receive_response_headers.started request=<Request [b'POST']>
2026-01-08 13:51:54,090 - httpcore.http11 - DEBUG - receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'Content-Type', b'application/json; charset=UTF-8'), (b'Vary', b'Origin'), (b'Vary', b'X-Origin'), (b'Vary', b'Referer'), (b'Content-Encoding', b'gzip'), (b'Date', b'Thu, 08 Jan 2026 21:51:54 GMT'), (b'Server', b'scaffolding on HTTPServer2'), (b'X-XSS-Protection', b'0'), (b'X-Frame-Options', b'SAMEORIGIN'), (b'X-Content-Type-Options', b'nosniff'), (b'Server-Timing', b'gfet4t7; dur=5746'), (b'Alt-Svc', b'h3=":443"; ma=2592000,h3-29=":443"; ma=2592000'), (b'Transfer-Encoding', b'chunked')])
2026-01-08 13:51:54,090 - httpx - INFO - HTTP Request: POST https://generativelanguage.googleapis.com/v1beta/models/gemini-2.5-flash:generateContent "HTTP/1.1 200 OK"
2026-01-08 13:51:54,091 - httpcore.http11 - DEBUG - receive_response_body.started request=<Request [b'POST']>
2026-01-08 13:51:54,092 - httpcore.http11 - DEBUG - receive_response_body.complete
2026-01-08 13:51:54,092 - httpcore.http11 - DEBUG - response_closed.started
2026-01-08 13:51:54,092 - httpcore.http11 - DEBUG - response_closed.complete
2026-01-08 13:51:54,094 - VideoStreamIngestor - DEBUG - Process loop: Frame got from process loop queue for camera index=0
2026-01-08 13:51:54,106 - google_genai.models - INFO - AFC is enabled with max remote calls: 10.
2026-01-08 13:51:54,109 - httpcore.http11 - DEBUG - send_request_headers.started request=<Request [b'POST']>
2026-01-08 13:51:54,109 - httpcore.http11 - DEBUG - send_request_headers.complete
2026-01-08 13:51:54,109 - httpcore.http11 - DEBUG - send_request_body.started request=<Request [b'POST']>
2026-01-08 13:51:54,110 - httpcore.http11 - DEBUG - send_request_body.complete
2026-01-08 13:51:54,110 - httpcore.http11 - DEBUG - receive_response_headers.started request=<Request [b'POST']>
2026-01-08 13:51:55,524 - main - DEBUG - [DEBUG] main: Processing user input: how many fingers are visible now?
2026-01-08 13:51:55,524 - main - DEBUG - [DEBUG] main: About to call runner.run_async
2026-01-08 13:51:55,544 - google_adk.google.adk.models.google_llm - INFO - Sending out request, model: gemini-2.5-flash, backend: GoogleLLMVariant.GEMINI_API, stream: False
2026-01-08 13:51:55,544 - google_adk.google.adk.models.google_llm - DEBUG - 
LLM Request:
-----------------------------------------------------------
System Instruction:
You are a helpful and friendly system administrator. Be concise and clear in your responses. You have access to tools that can help you check available input devices on the system and manage tasks. When a user requests a task that requires an input device, you should automatically call list_input_devices_with_ids to find the appropriate device and its io_id. Do not ask the user for io_ids - always retrieve them yourself using the available tools. When selecting a device, prefer video cameras (camera category) when possible. Once you have the io_id, use add_task with the io_id to create tasks. Use list_tasks to view all tasks (optionally filtered by io_id). When a user asks a question about a task, first call list_tasks to find the relevant task_id, then call get_info_on ONCE with that task_id to get detailed information. Do not call get_info_on multiple times for the same task_id. Make sure to call get_info_on when answering a user's question about a task.Use remove_task to delete a task by its task_id. Use edit_task to update a task's description. This is especially useful when a user wants to amend an existing task, for example, to add an action to be triggered when a condition is met. When editing a task, preserve the original detection part and add the new action requirement. For example, if a task is 'Count claps' and the user wants to send an email when claps reach 1, edit it to 'Count claps and when it reaches 1 send email to [email]'. You can also use take_output_action to execute various actions like sending emails, opening/closing doors, or controlling lights by providing a natural language description of the action. IMPORTANT: When a user requests an action to be triggered based on a video feed event (e.g., 'send me an email when I clap', 'turn on lights when I wave'), you have two options: 1. If a relevant task already exists (e.g., 'Count claps'), use edit_task to amend it with the action. 2. If no relevant task exists, add a NEW task that combines both the detection and the action. 

You are an agent. Your internal name is "system_administrator". The description about you is "A helpful system administrator. It controls the system on behalf of the user.".
-----------------------------------------------------------
Config:
{'http_options': {'headers': {'x-goog-api-client': 'google-adk/1.21.0 gl-python/3.13.5', 'user-agent': 'google-adk/1.21.0 gl-python/3.13.5'}}, 'tools': [{}]}
-----------------------------------------------------------
Contents:
{"parts":[{"text":"count fingers"}],"role":"user"}
{"parts":[{"function_call":{"args":{},"name":"list_input_devices_with_ids"},"thought_signature":"CvEBAXLI2nwScjF98UZCRtrafqBZfpp1jAHJkaWxrgxt8JRpMHGes8dK-Te0yjhQw_GyGPyxa4EcxBxsXQYe4DOdnjdRKqYgA9ek-8a623yydU72CZRjYLsKOzvhqFJ4ck6ws8kJNs3g5omO6Q4sXEaRsdqerlllzLSUwml9GQla1V1zr7U8cHU8Nm-QRcS3hKUrcwjqYP_g_xco9D4G0GSN0OSdk2K4NMeAqGaL048cQ5D2KIOQhvoXrlLr4ufnH6SUPNEj_Soa2qdcNepFj1UU9ztafcwFO6sILW39k2RgyZFpC61QrgB3g1HdDyZhiE19xQ=="}],"role":"model"}
{"parts":[{"function_response":{"name":"list_input_devices_with_ids","response":{"status":"success","input_devices":{"camera":[{"io_id":"ddeb3cd4","name":""},{"io_id":"9856d608","name":"FaceTime HD Camera"},{"io_id":"ea036130","name":"OBS Camera Extension"}]}}}}],"role":"user"}
{"parts":[{"function_call":{"args":{"task_description":"Count fingers","io_id":"9856d608"},"name":"add_task"},"thought_signature":"CocCAXLI2nzJI-hjWy4vvShNrej2gr__n3qB2uH6jE68svMoqjjfv0x-QwIqlb3oi0QL3KrHfyMhHuJLq6kD1bRz5AHkwX5-KRrR8hUORGX0bGKnz1H-mHCDqa8YpOUXTAIvvYdV8nQ9Kj4wPlGFowNMTow992fhx6oOADkUcJ71sbrTQzc080K3SRV9ybqd63YWglxh_tgMtv83dke0UmcFFqmhMwvGDjtSPsyjLlpFEt6PsrzGMN1ivotlmt4qnP6MDbjhSVBpZYXNyEAjA85lKdnFYQBXkBZuviixlpedIqf_EKoOJqudlIDS3ZcYwd3Of5gfwvtwdoh_A4KZmw5oh9ODymTsqrc="}],"role":"model"}
{"parts":[{"function_response":{"name":"add_task","response":{"status":"success","message":"Task added successfully","task_id":"bdb77119","io_id":"9856d608","task_description":"Count fingers","device_info":{"io_id":"9856d608","category":"camera","name":"FaceTime HD Camera"}}}}],"role":"user"}
{"parts":[{"text":"I've set up a task to count fingers using the FaceTime HD Camera. The task ID is `bdb77119`."}],"role":"model"}
{"parts":[{"text":"how many fingers?"}],"role":"user"}
{"parts":[{"function_call":{"args":{"task_id":"bdb77119"},"name":"get_info_on"},"thought_signature":"Cp8DAXLI2nw96WHxAWHcf04LpU44iaacXf2I7oevjJgtNQWA5KN7N3dxUO_AbwTiFxsXOH9FhO75iEZI0BDlXV-FX9gwTjf2yyXplfxl6LnNytM75-gbfMUSR9da48WiHEcJ1sfBbJ3eGlVewfyWQO-rKfI_k27QQNLHxOnoJ2a_XCjWIdgk0QFKS2r7FK9rlj1DCt5qSvjcB93xpJle6QCd5WR98OycUlRfaPjYW_EQa6RbOnfFPekgKvTH8g5r7_oHqffo1deHaiC3RVFDRBPzCwdmJYcNN2xlyMJV9P7fsn4bt736i2QsgNN0mw_JRb5tXtTBrSTaOPs6_Mu7wunZUtEmf8JADq1O0ILXwHIh2j92jKGR2zp5sJYDr_jmFkHQrmde_JygrdMNc77ENlWNDtCH0x67P1YgFOI6nsNE4OI84DybmL4gR6yrpMu_49SrUCf3bxDXqpp1zO76SiqAhTISI2EYs0N_Zf2HDmvgB9k1Kh6DqJLG339qHqZWEqtbYqJsagnSx1cz0hCuO7xTzw2rxRlTuUTOMM48iTYXDw=="}],"role":"model"}
{"parts":[{"function_response":{"name":"get_info_on","response":{"status":"success","task":{"task_number":0,"task_id":"bdb77119","task_desc":"Count fingers","task_note":[{"content":"No fingers are visible in the image.","timestamp":"2026-01-08 13:50:57"},{"content":"Two fingers are visible in the image.","timestamp":"2026-01-08 13:51:03"},{"content":"At least 4 fingers are visible in the image.","timestamp":"2026-01-08 13:51:08"}],"done":false,"io_id":"9856d608"}}}}],"role":"user"}
{"parts":[{"text":"The latest count shows at least 4 fingers are visible."}],"role":"model"}
{"parts":[{"text":"how many fingers?"}],"role":"user"}
{"parts":[{"function_call":{"args":{"task_id":"bdb77119"},"name":"get_info_on"},"thought_signature":"CqAEAXLI2nyBjhXxPrD6d6vBJARjFHCCiCCMmhcM9mBSEqOpV_Kq72LxEwT_YSnvOU6tUNbxjEosL85ZPBJONT7-hC1h0mDl5Lf5GTwjZWwjRsnAaHRraenWQSSSxpR60fL1RLwHSKcM0A6IbKzN5Z3G5XQ8g1W5h1Pc9sKSkuphHqJO6Q85jjfQudEsRu8g4c0H3Are0bc6ASQeMMMOgvSWRNXuf4qAH3JePxdXmkQSD8TcbHqI7TvrC3ORknpvs8bAiTrmGSx3FpDJMgWv71iwN1giois525ZVQ6aWVgDdz3Wes82GJMF5AKTXbW_8f1ac7qNOytdh_TT6RcSfLzU9xTP8CZ5i2ADRH4Li2HE1nZ79l8zB1VdRdOqrWl0yd8quI3bZ6ZA-RnvcrH5YvqCNilACbbWVYZxBeh3BzyaI_kmfanunnHy0BG2yZ0Fq86GE4Wgr6QNI_kgWYO1uWKk6rLYHyUY19efe9MiMqrK_qmOt9W2iIEu52VX0Vbsq0HwuVYgozUY-0fxtYcO__Toq4ba9CQ0UStziRXkRJ9jTEswXMn8TVJMjBXhbX2fttvxwsW00kiwAxPzOsow8c4IeDnvQgjBuzdHoNlcRQ8VbSmXB34zl4M24_vVxaRF8dzoAQbO0Xe8uS8wnBK7O2-lFNNuCBTLX-GrfAwg7tepebJ26nwc8AyReXu9o6DTHPRMU4S5a8yfhVECQdwBVQwL8kQ=="}],"role":"model"}
{"parts":[{"function_response":{"name":"get_info_on","response":{"status":"success","task":{"task_number":0,"task_id":"bdb77119","task_desc":"Count fingers","task_note":[{"content":"No fingers are visible in the image.","timestamp":"2026-01-08 13:50:57"},{"content":"Two fingers are visible in the image.","timestamp":"2026-01-08 13:51:03"},{"content":"At least 4 fingers are visible in the image.","timestamp":"2026-01-08 13:51:08"},{"content":"Four fingers are clearly visible in the image.","timestamp":"2026-01-08 13:51:14"},{"content":"No fingers are visible in the image.","timestamp":"2026-01-08 13:51:17"},{"content":"One finger (thumb) is visible near the person's mouth/chin area.","timestamp":"2026-01-08 13:51:22"},{"content":"Five fingers are visible, with the thumb extended and the other four fingers curled, showing their knuckles.","timestamp":"2026-01-08 13:51:36"}],"done":false,"io_id":"9856d608"}}}}],"role":"user"}
{"parts":[{"text":"The latest update states that five fingers are visible, with the thumb extended and the other four fingers curled, showing their knuckles."}],"role":"model"}
{"parts":[{"text":"how many fingers are visible now?"}],"role":"user"}
-----------------------------------------------------------
Functions:
list_input_devices_with_ids: {} 
add_task: {'io_id': {'type': <Type.STRING: 'STRING'>}, 'task_description': {'type': <Type.STRING: 'STRING'>}} 
list_tasks: {'io_id': {'nullable': True, 'type': <Type.STRING: 'STRING'>}} 
get_info_on: {'task_id': {'type': <Type.STRING: 'STRING'>}} 
remove_task: {'task_id': {'type': <Type.STRING: 'STRING'>}} 
edit_task: {'task_id': {'type': <Type.STRING: 'STRING'>}, 'new_description': {'type': <Type.STRING: 'STRING'>}} 
action_router: {'request': {'type': <Type.STRING: 'STRING'>}} 
-----------------------------------------------------------

2026-01-08 13:51:55,593 - httpcore.connection - DEBUG - connect_tcp.started host='generativelanguage.googleapis.com' port=443 local_address=None timeout=None socket_options=None
2026-01-08 13:51:55,605 - httpcore.connection - DEBUG - connect_tcp.complete return_value=<httpcore._backends.anyio.AnyIOStream object at 0x11abb0ae0>
2026-01-08 13:51:55,605 - httpcore.connection - DEBUG - start_tls.started ssl_context=<ssl.SSLContext object at 0x11ab797f0> server_hostname='generativelanguage.googleapis.com' timeout=None
2026-01-08 13:51:55,656 - httpcore.connection - DEBUG - start_tls.complete return_value=<httpcore._backends.anyio.AnyIOStream object at 0x108d16f90>
2026-01-08 13:51:55,656 - httpcore.http11 - DEBUG - send_request_headers.started request=<Request [b'POST']>
2026-01-08 13:51:55,656 - httpcore.http11 - DEBUG - send_request_headers.complete
2026-01-08 13:51:55,656 - httpcore.http11 - DEBUG - send_request_body.started request=<Request [b'POST']>
2026-01-08 13:51:55,656 - httpcore.http11 - DEBUG - send_request_body.complete
2026-01-08 13:51:55,656 - httpcore.http11 - DEBUG - receive_response_headers.started request=<Request [b'POST']>
2026-01-08 13:51:56,451 - httpcore.http11 - DEBUG - receive_response_headers.complete return_value=(b'HTTP/1.1', 503, b'Service Unavailable', [(b'Vary', b'Origin'), (b'Vary', b'X-Origin'), (b'Vary', b'Referer'), (b'Content-Type', b'application/json; charset=UTF-8'), (b'Content-Encoding', b'gzip'), (b'Date', b'Thu, 08 Jan 2026 21:51:56 GMT'), (b'Server', b'scaffolding on HTTPServer2'), (b'X-XSS-Protection', b'0'), (b'X-Frame-Options', b'SAMEORIGIN'), (b'X-Content-Type-Options', b'nosniff'), (b'Server-Timing', b'gfet4t7; dur=788'), (b'Alt-Svc', b'h3=":443"; ma=2592000,h3-29=":443"; ma=2592000'), (b'Transfer-Encoding', b'chunked')])
2026-01-08 13:51:56,452 - httpx - INFO - HTTP Request: POST https://generativelanguage.googleapis.com/v1beta/models/gemini-2.5-flash:generateContent "HTTP/1.1 503 Service Unavailable"
2026-01-08 13:51:56,452 - httpcore.http11 - DEBUG - receive_response_body.started request=<Request [b'POST']>
2026-01-08 13:51:56,452 - httpcore.http11 - DEBUG - receive_response_body.complete
2026-01-08 13:51:56,452 - httpcore.http11 - DEBUG - response_closed.started
2026-01-08 13:51:56,452 - httpcore.http11 - DEBUG - response_closed.complete
2026-01-08 13:51:56,453 - main - ERROR - [ERROR] main: Exception during runner.run_async: ServerError: 503 UNAVAILABLE. {'error': {'code': 503, 'message': 'The model is overloaded. Please try again later.', 'status': 'UNAVAILABLE'}}
Traceback (most recent call last):
  File "/Users/mark/Desktop/projects/videomemory/AgentDevelopmentKit_exploration/videomemory/main.py", line 90, in main
    async for event in runner.run_async(
    ...<8 lines>...
            break
  File "/Users/mark/Desktop/projects/videomemory/.venv/lib/python3.13/site-packages/google/adk/runners.py", line 505, in run_async
    async for event in agen:
      yield event
  File "/Users/mark/Desktop/projects/videomemory/.venv/lib/python3.13/site-packages/google/adk/runners.py", line 493, in _run_with_trace
    async for event in agen:
      yield event
  File "/Users/mark/Desktop/projects/videomemory/.venv/lib/python3.13/site-packages/google/adk/runners.py", line 722, in _exec_with_plugin
    async for event in agen:
    ...<54 lines>...
      yield (modified_event if modified_event else event)
  File "/Users/mark/Desktop/projects/videomemory/.venv/lib/python3.13/site-packages/google/adk/runners.py", line 482, in execute
    async for event in agen:
      yield event
  File "/Users/mark/Desktop/projects/videomemory/.venv/lib/python3.13/site-packages/google/adk/agents/base_agent.py", line 294, in run_async
    async for event in agen:
      yield event
  File "/Users/mark/Desktop/projects/videomemory/.venv/lib/python3.13/site-packages/google/adk/agents/llm_agent.py", line 460, in _run_async_impl
    async for event in agen:
    ...<5 lines>...
        should_pause = True
  File "/Users/mark/Desktop/projects/videomemory/.venv/lib/python3.13/site-packages/google/adk/flows/llm_flows/base_llm_flow.py", line 370, in run_async
    async for event in agen:
      last_event = event
      yield event
  File "/Users/mark/Desktop/projects/videomemory/.venv/lib/python3.13/site-packages/google/adk/flows/llm_flows/base_llm_flow.py", line 447, in _run_one_step_async
    async for llm_response in agen:
    ...<13 lines>...
          yield event
  File "/Users/mark/Desktop/projects/videomemory/.venv/lib/python3.13/site-packages/google/adk/flows/llm_flows/base_llm_flow.py", line 816, in _call_llm_async
    async for event in agen:
      yield event
  File "/Users/mark/Desktop/projects/videomemory/.venv/lib/python3.13/site-packages/google/adk/flows/llm_flows/base_llm_flow.py", line 800, in _call_llm_with_tracing
    async for llm_response in agen:
    ...<12 lines>...
      yield llm_response
  File "/Users/mark/Desktop/projects/videomemory/.venv/lib/python3.13/site-packages/google/adk/flows/llm_flows/base_llm_flow.py", line 1053, in _run_and_handle_error
    raise model_error
  File "/Users/mark/Desktop/projects/videomemory/.venv/lib/python3.13/site-packages/google/adk/flows/llm_flows/base_llm_flow.py", line 1039, in _run_and_handle_error
    async for response in agen:
      yield response
  File "/Users/mark/Desktop/projects/videomemory/.venv/lib/python3.13/site-packages/google/adk/models/google_llm.py", line 241, in generate_content_async
    response = await self.api_client.aio.models.generate_content(
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    ...<3 lines>...
    )
    ^
  File "/Users/mark/Desktop/projects/videomemory/.venv/lib/python3.13/site-packages/google/genai/models.py", line 7006, in generate_content
    return await self._generate_content(
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
        model=model, contents=contents, config=parsed_config
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/Users/mark/Desktop/projects/videomemory/.venv/lib/python3.13/site-packages/google/genai/models.py", line 5824, in _generate_content
    response = await self._api_client.async_request(
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
        'post', path, request_dict, http_options
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/Users/mark/Desktop/projects/videomemory/.venv/lib/python3.13/site-packages/google/genai/_api_client.py", line 1434, in async_request
    result = await self._async_request(
             ^^^^^^^^^^^^^^^^^^^^^^^^^^
        http_request=http_request, http_options=http_options, stream=False
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/Users/mark/Desktop/projects/videomemory/.venv/lib/python3.13/site-packages/google/genai/_api_client.py", line 1367, in _async_request
    return await self._async_retry(  # type: ignore[no-any-return]
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
        self._async_request_once, http_request, stream
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/Users/mark/Desktop/projects/videomemory/.venv/lib/python3.13/site-packages/tenacity/asyncio/__init__.py", line 111, in __call__
    do = await self.iter(retry_state=retry_state)
         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/mark/Desktop/projects/videomemory/.venv/lib/python3.13/site-packages/tenacity/asyncio/__init__.py", line 153, in iter
    result = await action(retry_state)
             ^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/mark/Desktop/projects/videomemory/.venv/lib/python3.13/site-packages/tenacity/_utils.py", line 99, in inner
    return call(*args, **kwargs)
  File "/Users/mark/Desktop/projects/videomemory/.venv/lib/python3.13/site-packages/tenacity/__init__.py", line 420, in exc_check
    raise retry_exc.reraise()
          ~~~~~~~~~~~~~~~~~^^
  File "/Users/mark/Desktop/projects/videomemory/.venv/lib/python3.13/site-packages/tenacity/__init__.py", line 187, in reraise
    raise self.last_attempt.result()
          ~~~~~~~~~~~~~~~~~~~~~~~~^^
  File "/opt/homebrew/Cellar/python@3.13/3.13.5/Frameworks/Python.framework/Versions/3.13/lib/python3.13/concurrent/futures/_base.py", line 449, in result
    return self.__get_result()
           ~~~~~~~~~~~~~~~~~^^
  File "/opt/homebrew/Cellar/python@3.13/3.13.5/Frameworks/Python.framework/Versions/3.13/lib/python3.13/concurrent/futures/_base.py", line 401, in __get_result
    raise self._exception
  File "/Users/mark/Desktop/projects/videomemory/.venv/lib/python3.13/site-packages/tenacity/asyncio/__init__.py", line 114, in __call__
    result = await fn(*args, **kwargs)
             ^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/mark/Desktop/projects/videomemory/.venv/lib/python3.13/site-packages/google/genai/_api_client.py", line 1347, in _async_request_once
    await errors.APIError.raise_for_async_response(client_response)
  File "/Users/mark/Desktop/projects/videomemory/.venv/lib/python3.13/site-packages/google/genai/errors.py", line 203, in raise_for_async_response
    await cls.raise_error_async(status_code, response_json, response)
  File "/Users/mark/Desktop/projects/videomemory/.venv/lib/python3.13/site-packages/google/genai/errors.py", line 227, in raise_error_async
    raise ServerError(status_code, response_json, response)
google.genai.errors.ServerError: 503 UNAVAILABLE. {'error': {'code': 503, 'message': 'The model is overloaded. Please try again later.', 'status': 'UNAVAILABLE'}}
2026-01-08 13:51:58,089 - httpcore.http11 - DEBUG - receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'Content-Type', b'application/json; charset=UTF-8'), (b'Vary', b'Origin'), (b'Vary', b'X-Origin'), (b'Vary', b'Referer'), (b'Content-Encoding', b'gzip'), (b'Date', b'Thu, 08 Jan 2026 21:51:58 GMT'), (b'Server', b'scaffolding on HTTPServer2'), (b'X-XSS-Protection', b'0'), (b'X-Frame-Options', b'SAMEORIGIN'), (b'X-Content-Type-Options', b'nosniff'), (b'Server-Timing', b'gfet4t7; dur=3972'), (b'Alt-Svc', b'h3=":443"; ma=2592000,h3-29=":443"; ma=2592000'), (b'Transfer-Encoding', b'chunked')])
2026-01-08 13:51:58,090 - httpx - INFO - HTTP Request: POST https://generativelanguage.googleapis.com/v1beta/models/gemini-2.5-flash:generateContent "HTTP/1.1 200 OK"
2026-01-08 13:51:58,090 - httpcore.http11 - DEBUG - receive_response_body.started request=<Request [b'POST']>
2026-01-08 13:51:58,091 - httpcore.http11 - DEBUG - receive_response_body.complete
2026-01-08 13:51:58,091 - httpcore.http11 - DEBUG - response_closed.started
2026-01-08 13:51:58,091 - httpcore.http11 - DEBUG - response_closed.complete
2026-01-08 13:51:58,100 - VideoStreamIngestor - DEBUG - Process loop: Frame got from process loop queue for camera index=0
2026-01-08 13:51:58,113 - google_genai.models - INFO - AFC is enabled with max remote calls: 10.
2026-01-08 13:51:58,116 - httpcore.http11 - DEBUG - send_request_headers.started request=<Request [b'POST']>
2026-01-08 13:51:58,116 - httpcore.http11 - DEBUG - send_request_headers.complete
2026-01-08 13:51:58,116 - httpcore.http11 - DEBUG - send_request_body.started request=<Request [b'POST']>
2026-01-08 13:51:58,117 - httpcore.http11 - DEBUG - send_request_body.complete
2026-01-08 13:51:58,117 - httpcore.http11 - DEBUG - receive_response_headers.started request=<Request [b'POST']>
2026-01-08 13:52:00,295 - httpcore.http11 - DEBUG - receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'Content-Type', b'application/json; charset=UTF-8'), (b'Vary', b'Origin'), (b'Vary', b'X-Origin'), (b'Vary', b'Referer'), (b'Content-Encoding', b'gzip'), (b'Date', b'Thu, 08 Jan 2026 21:52:00 GMT'), (b'Server', b'scaffolding on HTTPServer2'), (b'X-XSS-Protection', b'0'), (b'X-Frame-Options', b'SAMEORIGIN'), (b'X-Content-Type-Options', b'nosniff'), (b'Server-Timing', b'gfet4t7; dur=2169'), (b'Alt-Svc', b'h3=":443"; ma=2592000,h3-29=":443"; ma=2592000'), (b'Transfer-Encoding', b'chunked')])
2026-01-08 13:52:00,295 - httpx - INFO - HTTP Request: POST https://generativelanguage.googleapis.com/v1beta/models/gemini-2.5-flash:generateContent "HTTP/1.1 200 OK"
2026-01-08 13:52:00,296 - httpcore.http11 - DEBUG - receive_response_body.started request=<Request [b'POST']>
2026-01-08 13:52:00,298 - httpcore.http11 - DEBUG - receive_response_body.complete
2026-01-08 13:52:00,298 - httpcore.http11 - DEBUG - response_closed.started
2026-01-08 13:52:00,298 - httpcore.http11 - DEBUG - response_closed.complete
2026-01-08 13:52:00,300 - VideoStreamIngestor - DEBUG - Process loop: Frame got from process loop queue for camera index=0
2026-01-08 13:52:00,314 - google_genai.models - INFO - AFC is enabled with max remote calls: 10.
2026-01-08 13:52:00,317 - httpcore.http11 - DEBUG - send_request_headers.started request=<Request [b'POST']>
2026-01-08 13:52:00,317 - httpcore.http11 - DEBUG - send_request_headers.complete
2026-01-08 13:52:00,317 - httpcore.http11 - DEBUG - send_request_body.started request=<Request [b'POST']>
2026-01-08 13:52:00,318 - httpcore.http11 - DEBUG - send_request_body.complete
2026-01-08 13:52:00,318 - httpcore.http11 - DEBUG - receive_response_headers.started request=<Request [b'POST']>
2026-01-08 13:52:02,581 - httpcore.http11 - DEBUG - receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'Content-Type', b'application/json; charset=UTF-8'), (b'Vary', b'Origin'), (b'Vary', b'X-Origin'), (b'Vary', b'Referer'), (b'Content-Encoding', b'gzip'), (b'Date', b'Thu, 08 Jan 2026 21:52:02 GMT'), (b'Server', b'scaffolding on HTTPServer2'), (b'X-XSS-Protection', b'0'), (b'X-Frame-Options', b'SAMEORIGIN'), (b'X-Content-Type-Options', b'nosniff'), (b'Server-Timing', b'gfet4t7; dur=2248'), (b'Alt-Svc', b'h3=":443"; ma=2592000,h3-29=":443"; ma=2592000'), (b'Transfer-Encoding', b'chunked')])
2026-01-08 13:52:02,582 - httpx - INFO - HTTP Request: POST https://generativelanguage.googleapis.com/v1beta/models/gemini-2.5-flash:generateContent "HTTP/1.1 200 OK"
2026-01-08 13:52:02,582 - httpcore.http11 - DEBUG - receive_response_body.started request=<Request [b'POST']>
2026-01-08 13:52:02,584 - httpcore.http11 - DEBUG - receive_response_body.complete
2026-01-08 13:52:02,584 - httpcore.http11 - DEBUG - response_closed.started
2026-01-08 13:52:02,584 - httpcore.http11 - DEBUG - response_closed.complete
2026-01-08 13:52:02,586 - VideoStreamIngestor - DEBUG - Process loop: Frame got from process loop queue for camera index=0
2026-01-08 13:52:02,599 - google_genai.models - INFO - AFC is enabled with max remote calls: 10.
2026-01-08 13:52:02,602 - httpcore.http11 - DEBUG - send_request_headers.started request=<Request [b'POST']>
2026-01-08 13:52:02,603 - httpcore.http11 - DEBUG - send_request_headers.complete
2026-01-08 13:52:02,603 - httpcore.http11 - DEBUG - send_request_body.started request=<Request [b'POST']>
2026-01-08 13:52:02,603 - httpcore.http11 - DEBUG - send_request_body.complete
2026-01-08 13:52:02,603 - httpcore.http11 - DEBUG - receive_response_headers.started request=<Request [b'POST']>
2026-01-08 13:52:04,603 - httpcore.http11 - DEBUG - receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'Content-Type', b'application/json; charset=UTF-8'), (b'Vary', b'Origin'), (b'Vary', b'X-Origin'), (b'Vary', b'Referer'), (b'Content-Encoding', b'gzip'), (b'Date', b'Thu, 08 Jan 2026 21:52:04 GMT'), (b'Server', b'scaffolding on HTTPServer2'), (b'X-XSS-Protection', b'0'), (b'X-Frame-Options', b'SAMEORIGIN'), (b'X-Content-Type-Options', b'nosniff'), (b'Server-Timing', b'gfet4t7; dur=1990'), (b'Alt-Svc', b'h3=":443"; ma=2592000,h3-29=":443"; ma=2592000'), (b'Transfer-Encoding', b'chunked')])
2026-01-08 13:52:04,604 - httpx - INFO - HTTP Request: POST https://generativelanguage.googleapis.com/v1beta/models/gemini-2.5-flash:generateContent "HTTP/1.1 200 OK"
2026-01-08 13:52:04,604 - httpcore.http11 - DEBUG - receive_response_body.started request=<Request [b'POST']>
2026-01-08 13:52:04,605 - httpcore.http11 - DEBUG - receive_response_body.complete
2026-01-08 13:52:04,605 - httpcore.http11 - DEBUG - response_closed.started
2026-01-08 13:52:04,605 - httpcore.http11 - DEBUG - response_closed.complete
2026-01-08 13:52:04,606 - VideoStreamIngestor - DEBUG - Process loop: Frame got from process loop queue for camera index=0
2026-01-08 13:52:04,619 - google_genai.models - INFO - AFC is enabled with max remote calls: 10.
2026-01-08 13:52:04,622 - httpcore.http11 - DEBUG - send_request_headers.started request=<Request [b'POST']>
2026-01-08 13:52:04,623 - httpcore.http11 - DEBUG - send_request_headers.complete
2026-01-08 13:52:04,623 - httpcore.http11 - DEBUG - send_request_body.started request=<Request [b'POST']>
2026-01-08 13:52:04,624 - httpcore.http11 - DEBUG - send_request_body.complete
2026-01-08 13:52:04,624 - httpcore.http11 - DEBUG - receive_response_headers.started request=<Request [b'POST']>
2026-01-08 13:52:06,457 - main - DEBUG - [DEBUG] main: Processing user input: how many fingers now?
2026-01-08 13:52:06,457 - main - DEBUG - [DEBUG] main: About to call runner.run_async
2026-01-08 13:52:06,479 - google_adk.google.adk.models.google_llm - INFO - Sending out request, model: gemini-2.5-flash, backend: GoogleLLMVariant.GEMINI_API, stream: False
2026-01-08 13:52:06,479 - google_adk.google.adk.models.google_llm - DEBUG - 
LLM Request:
-----------------------------------------------------------
System Instruction:
You are a helpful and friendly system administrator. Be concise and clear in your responses. You have access to tools that can help you check available input devices on the system and manage tasks. When a user requests a task that requires an input device, you should automatically call list_input_devices_with_ids to find the appropriate device and its io_id. Do not ask the user for io_ids - always retrieve them yourself using the available tools. When selecting a device, prefer video cameras (camera category) when possible. Once you have the io_id, use add_task with the io_id to create tasks. Use list_tasks to view all tasks (optionally filtered by io_id). When a user asks a question about a task, first call list_tasks to find the relevant task_id, then call get_info_on ONCE with that task_id to get detailed information. Do not call get_info_on multiple times for the same task_id. Make sure to call get_info_on when answering a user's question about a task.Use remove_task to delete a task by its task_id. Use edit_task to update a task's description. This is especially useful when a user wants to amend an existing task, for example, to add an action to be triggered when a condition is met. When editing a task, preserve the original detection part and add the new action requirement. For example, if a task is 'Count claps' and the user wants to send an email when claps reach 1, edit it to 'Count claps and when it reaches 1 send email to [email]'. You can also use take_output_action to execute various actions like sending emails, opening/closing doors, or controlling lights by providing a natural language description of the action. IMPORTANT: When a user requests an action to be triggered based on a video feed event (e.g., 'send me an email when I clap', 'turn on lights when I wave'), you have two options: 1. If a relevant task already exists (e.g., 'Count claps'), use edit_task to amend it with the action. 2. If no relevant task exists, add a NEW task that combines both the detection and the action. 

You are an agent. Your internal name is "system_administrator". The description about you is "A helpful system administrator. It controls the system on behalf of the user.".
-----------------------------------------------------------
Config:
{'http_options': {'headers': {'x-goog-api-client': 'google-adk/1.21.0 gl-python/3.13.5', 'user-agent': 'google-adk/1.21.0 gl-python/3.13.5'}}, 'tools': [{}]}
-----------------------------------------------------------
Contents:
{"parts":[{"text":"count fingers"}],"role":"user"}
{"parts":[{"function_call":{"args":{},"name":"list_input_devices_with_ids"},"thought_signature":"CvEBAXLI2nwScjF98UZCRtrafqBZfpp1jAHJkaWxrgxt8JRpMHGes8dK-Te0yjhQw_GyGPyxa4EcxBxsXQYe4DOdnjdRKqYgA9ek-8a623yydU72CZRjYLsKOzvhqFJ4ck6ws8kJNs3g5omO6Q4sXEaRsdqerlllzLSUwml9GQla1V1zr7U8cHU8Nm-QRcS3hKUrcwjqYP_g_xco9D4G0GSN0OSdk2K4NMeAqGaL048cQ5D2KIOQhvoXrlLr4ufnH6SUPNEj_Soa2qdcNepFj1UU9ztafcwFO6sILW39k2RgyZFpC61QrgB3g1HdDyZhiE19xQ=="}],"role":"model"}
{"parts":[{"function_response":{"name":"list_input_devices_with_ids","response":{"status":"success","input_devices":{"camera":[{"io_id":"ddeb3cd4","name":""},{"io_id":"9856d608","name":"FaceTime HD Camera"},{"io_id":"ea036130","name":"OBS Camera Extension"}]}}}}],"role":"user"}
{"parts":[{"function_call":{"args":{"task_description":"Count fingers","io_id":"9856d608"},"name":"add_task"},"thought_signature":"CocCAXLI2nzJI-hjWy4vvShNrej2gr__n3qB2uH6jE68svMoqjjfv0x-QwIqlb3oi0QL3KrHfyMhHuJLq6kD1bRz5AHkwX5-KRrR8hUORGX0bGKnz1H-mHCDqa8YpOUXTAIvvYdV8nQ9Kj4wPlGFowNMTow992fhx6oOADkUcJ71sbrTQzc080K3SRV9ybqd63YWglxh_tgMtv83dke0UmcFFqmhMwvGDjtSPsyjLlpFEt6PsrzGMN1ivotlmt4qnP6MDbjhSVBpZYXNyEAjA85lKdnFYQBXkBZuviixlpedIqf_EKoOJqudlIDS3ZcYwd3Of5gfwvtwdoh_A4KZmw5oh9ODymTsqrc="}],"role":"model"}
{"parts":[{"function_response":{"name":"add_task","response":{"status":"success","message":"Task added successfully","task_id":"bdb77119","io_id":"9856d608","task_description":"Count fingers","device_info":{"io_id":"9856d608","category":"camera","name":"FaceTime HD Camera"}}}}],"role":"user"}
{"parts":[{"text":"I've set up a task to count fingers using the FaceTime HD Camera. The task ID is `bdb77119`."}],"role":"model"}
{"parts":[{"text":"how many fingers?"}],"role":"user"}
{"parts":[{"function_call":{"args":{"task_id":"bdb77119"},"name":"get_info_on"},"thought_signature":"Cp8DAXLI2nw96WHxAWHcf04LpU44iaacXf2I7oevjJgtNQWA5KN7N3dxUO_AbwTiFxsXOH9FhO75iEZI0BDlXV-FX9gwTjf2yyXplfxl6LnNytM75-gbfMUSR9da48WiHEcJ1sfBbJ3eGlVewfyWQO-rKfI_k27QQNLHxOnoJ2a_XCjWIdgk0QFKS2r7FK9rlj1DCt5qSvjcB93xpJle6QCd5WR98OycUlRfaPjYW_EQa6RbOnfFPekgKvTH8g5r7_oHqffo1deHaiC3RVFDRBPzCwdmJYcNN2xlyMJV9P7fsn4bt736i2QsgNN0mw_JRb5tXtTBrSTaOPs6_Mu7wunZUtEmf8JADq1O0ILXwHIh2j92jKGR2zp5sJYDr_jmFkHQrmde_JygrdMNc77ENlWNDtCH0x67P1YgFOI6nsNE4OI84DybmL4gR6yrpMu_49SrUCf3bxDXqpp1zO76SiqAhTISI2EYs0N_Zf2HDmvgB9k1Kh6DqJLG339qHqZWEqtbYqJsagnSx1cz0hCuO7xTzw2rxRlTuUTOMM48iTYXDw=="}],"role":"model"}
{"parts":[{"function_response":{"name":"get_info_on","response":{"status":"success","task":{"task_number":0,"task_id":"bdb77119","task_desc":"Count fingers","task_note":[{"content":"No fingers are visible in the image.","timestamp":"2026-01-08 13:50:57"},{"content":"Two fingers are visible in the image.","timestamp":"2026-01-08 13:51:03"},{"content":"At least 4 fingers are visible in the image.","timestamp":"2026-01-08 13:51:08"}],"done":false,"io_id":"9856d608"}}}}],"role":"user"}
{"parts":[{"text":"The latest count shows at least 4 fingers are visible."}],"role":"model"}
{"parts":[{"text":"how many fingers?"}],"role":"user"}
{"parts":[{"function_call":{"args":{"task_id":"bdb77119"},"name":"get_info_on"},"thought_signature":"CqAEAXLI2nyBjhXxPrD6d6vBJARjFHCCiCCMmhcM9mBSEqOpV_Kq72LxEwT_YSnvOU6tUNbxjEosL85ZPBJONT7-hC1h0mDl5Lf5GTwjZWwjRsnAaHRraenWQSSSxpR60fL1RLwHSKcM0A6IbKzN5Z3G5XQ8g1W5h1Pc9sKSkuphHqJO6Q85jjfQudEsRu8g4c0H3Are0bc6ASQeMMMOgvSWRNXuf4qAH3JePxdXmkQSD8TcbHqI7TvrC3ORknpvs8bAiTrmGSx3FpDJMgWv71iwN1giois525ZVQ6aWVgDdz3Wes82GJMF5AKTXbW_8f1ac7qNOytdh_TT6RcSfLzU9xTP8CZ5i2ADRH4Li2HE1nZ79l8zB1VdRdOqrWl0yd8quI3bZ6ZA-RnvcrH5YvqCNilACbbWVYZxBeh3BzyaI_kmfanunnHy0BG2yZ0Fq86GE4Wgr6QNI_kgWYO1uWKk6rLYHyUY19efe9MiMqrK_qmOt9W2iIEu52VX0Vbsq0HwuVYgozUY-0fxtYcO__Toq4ba9CQ0UStziRXkRJ9jTEswXMn8TVJMjBXhbX2fttvxwsW00kiwAxPzOsow8c4IeDnvQgjBuzdHoNlcRQ8VbSmXB34zl4M24_vVxaRF8dzoAQbO0Xe8uS8wnBK7O2-lFNNuCBTLX-GrfAwg7tepebJ26nwc8AyReXu9o6DTHPRMU4S5a8yfhVECQdwBVQwL8kQ=="}],"role":"model"}
{"parts":[{"function_response":{"name":"get_info_on","response":{"status":"success","task":{"task_number":0,"task_id":"bdb77119","task_desc":"Count fingers","task_note":[{"content":"No fingers are visible in the image.","timestamp":"2026-01-08 13:50:57"},{"content":"Two fingers are visible in the image.","timestamp":"2026-01-08 13:51:03"},{"content":"At least 4 fingers are visible in the image.","timestamp":"2026-01-08 13:51:08"},{"content":"Four fingers are clearly visible in the image.","timestamp":"2026-01-08 13:51:14"},{"content":"No fingers are visible in the image.","timestamp":"2026-01-08 13:51:17"},{"content":"One finger (thumb) is visible near the person's mouth/chin area.","timestamp":"2026-01-08 13:51:22"},{"content":"Five fingers are visible, with the thumb extended and the other four fingers curled, showing their knuckles.","timestamp":"2026-01-08 13:51:36"}],"done":false,"io_id":"9856d608"}}}}],"role":"user"}
{"parts":[{"text":"The latest update states that five fingers are visible, with the thumb extended and the other four fingers curled, showing their knuckles."}],"role":"model"}
{"parts":[{"text":"how many fingers are visible now?"}],"role":"user"}
{"parts":[{"text":"how many fingers now?"}],"role":"user"}
-----------------------------------------------------------
Functions:
list_input_devices_with_ids: {} 
add_task: {'io_id': {'type': <Type.STRING: 'STRING'>}, 'task_description': {'type': <Type.STRING: 'STRING'>}} 
list_tasks: {'io_id': {'nullable': True, 'type': <Type.STRING: 'STRING'>}} 
get_info_on: {'task_id': {'type': <Type.STRING: 'STRING'>}} 
remove_task: {'task_id': {'type': <Type.STRING: 'STRING'>}} 
edit_task: {'task_id': {'type': <Type.STRING: 'STRING'>}, 'new_description': {'type': <Type.STRING: 'STRING'>}} 
action_router: {'request': {'type': <Type.STRING: 'STRING'>}} 
-----------------------------------------------------------

2026-01-08 13:52:06,483 - httpcore.connection - DEBUG - close.started
2026-01-08 13:52:06,483 - httpcore.connection - DEBUG - connect_tcp.started host='generativelanguage.googleapis.com' port=443 local_address=None timeout=None socket_options=None
2026-01-08 13:52:06,484 - httpcore.connection - DEBUG - close.complete
2026-01-08 13:52:06,521 - httpcore.connection - DEBUG - connect_tcp.complete return_value=<httpcore._backends.anyio.AnyIOStream object at 0x11ab1a150>
2026-01-08 13:52:06,521 - httpcore.connection - DEBUG - start_tls.started ssl_context=<ssl.SSLContext object at 0x11ffe5130> server_hostname='generativelanguage.googleapis.com' timeout=None
2026-01-08 13:52:06,553 - httpcore.connection - DEBUG - start_tls.complete return_value=<httpcore._backends.anyio.AnyIOStream object at 0x1197cadb0>
2026-01-08 13:52:06,553 - httpcore.http11 - DEBUG - send_request_headers.started request=<Request [b'POST']>
2026-01-08 13:52:06,554 - httpcore.http11 - DEBUG - send_request_headers.complete
2026-01-08 13:52:06,554 - httpcore.http11 - DEBUG - send_request_body.started request=<Request [b'POST']>
2026-01-08 13:52:06,554 - httpcore.http11 - DEBUG - send_request_body.complete
2026-01-08 13:52:06,554 - httpcore.http11 - DEBUG - receive_response_headers.started request=<Request [b'POST']>
2026-01-08 13:52:07,155 - httpcore.http11 - DEBUG - receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'Content-Type', b'application/json; charset=UTF-8'), (b'Vary', b'Origin'), (b'Vary', b'X-Origin'), (b'Vary', b'Referer'), (b'Content-Encoding', b'gzip'), (b'Date', b'Thu, 08 Jan 2026 21:52:07 GMT'), (b'Server', b'scaffolding on HTTPServer2'), (b'X-XSS-Protection', b'0'), (b'X-Frame-Options', b'SAMEORIGIN'), (b'X-Content-Type-Options', b'nosniff'), (b'Server-Timing', b'gfet4t7; dur=2469'), (b'Alt-Svc', b'h3=":443"; ma=2592000,h3-29=":443"; ma=2592000'), (b'Transfer-Encoding', b'chunked')])
2026-01-08 13:52:07,155 - httpx - INFO - HTTP Request: POST https://generativelanguage.googleapis.com/v1beta/models/gemini-2.5-flash:generateContent "HTTP/1.1 200 OK"
2026-01-08 13:52:07,155 - httpcore.http11 - DEBUG - receive_response_body.started request=<Request [b'POST']>
2026-01-08 13:52:07,156 - httpcore.http11 - DEBUG - receive_response_body.complete
2026-01-08 13:52:07,156 - httpcore.http11 - DEBUG - response_closed.started
2026-01-08 13:52:07,156 - httpcore.http11 - DEBUG - response_closed.complete
2026-01-08 13:52:07,156 - VideoStreamIngestor - DEBUG - Process loop: Frame got from process loop queue for camera index=0
2026-01-08 13:52:07,162 - google_genai.models - INFO - AFC is enabled with max remote calls: 10.
2026-01-08 13:52:07,164 - httpcore.http11 - DEBUG - send_request_headers.started request=<Request [b'POST']>
2026-01-08 13:52:07,164 - httpcore.http11 - DEBUG - send_request_headers.complete
2026-01-08 13:52:07,164 - httpcore.http11 - DEBUG - send_request_body.started request=<Request [b'POST']>
2026-01-08 13:52:07,164 - httpcore.http11 - DEBUG - send_request_body.complete
2026-01-08 13:52:07,164 - httpcore.http11 - DEBUG - receive_response_headers.started request=<Request [b'POST']>
2026-01-08 13:52:07,745 - httpcore.http11 - DEBUG - receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'Content-Type', b'application/json; charset=UTF-8'), (b'Vary', b'Origin'), (b'Vary', b'X-Origin'), (b'Vary', b'Referer'), (b'Content-Encoding', b'gzip'), (b'Date', b'Thu, 08 Jan 2026 21:52:07 GMT'), (b'Server', b'scaffolding on HTTPServer2'), (b'X-XSS-Protection', b'0'), (b'X-Frame-Options', b'SAMEORIGIN'), (b'X-Content-Type-Options', b'nosniff'), (b'Server-Timing', b'gfet4t7; dur=1182'), (b'Alt-Svc', b'h3=":443"; ma=2592000,h3-29=":443"; ma=2592000'), (b'Transfer-Encoding', b'chunked')])
2026-01-08 13:52:07,745 - httpx - INFO - HTTP Request: POST https://generativelanguage.googleapis.com/v1beta/models/gemini-2.5-flash:generateContent "HTTP/1.1 200 OK"
2026-01-08 13:52:07,745 - httpcore.http11 - DEBUG - receive_response_body.started request=<Request [b'POST']>
2026-01-08 13:52:07,746 - httpcore.http11 - DEBUG - receive_response_body.complete
2026-01-08 13:52:07,746 - httpcore.http11 - DEBUG - response_closed.started
2026-01-08 13:52:07,746 - httpcore.http11 - DEBUG - response_closed.complete
2026-01-08 13:52:07,747 - google_adk.google.adk.models.google_llm - INFO - Response received from the model.
2026-01-08 13:52:07,748 - google_adk.google.adk.models.google_llm - DEBUG - 
LLM Response:
-----------------------------------------------------------
Text:
None
-----------------------------------------------------------
Function calls:
name: get_info_on, args: {'task_id': 'bdb77119'}
-----------------------------------------------------------
Raw response:
{"sdk_http_response":{"headers":{"content-type":"application/json; charset=UTF-8","vary":"Origin, X-Origin, Referer","content-encoding":"gzip","date":"Thu, 08 Jan 2026 21:52:07 GMT","server":"scaffolding on HTTPServer2","x-xss-protection":"0","x-frame-options":"SAMEORIGIN","x-content-type-options":"nosniff","server-timing":"gfet4t7; dur=1182","alt-svc":"h3=\":443\"; ma=2592000,h3-29=\":443\"; ma=2592000","transfer-encoding":"chunked"}},"candidates":[{"content":{"parts":[{"function_call":{"args":{"task_id":"bdb77119"},"name":"get_info_on"},"thought_signature":"CqUDAXLI2nzd57WhnJXIb7vMpxi_VMlOytojT2n20zKCs_r5CKw6CHBuoHK3UL6WirjL5Za8HCyTBkuT2ogQGdFqDNfUgx8O0yW6DCZYLv3prORmo4k5b5e6_irfJY9P9mRMz-2C-uSD4_0w3EnEYxrQlbPfFbcNkgT_7sbusScU6FEhQqidcx9SUQ233dKnj-gPwCiRrLL1MvfwvVoct6WabejD7tWF7ZAzWvbMwCiHeZVw7w2-JBmg3FlKy5In1VzamwFNl48Z2o72dcHT-h00G0hmp5k10grfUxVy5vz_UNVtZFJM46PjY7nMF2CmrUmYV-ICYU5fFAY35S76Dc8wAiJGDGhC0ubmML54SdBi1f3EqqNUlyLdooPSPQaUjhuPACGgcHVDDBqIDrdombvaTk5nb5ctHsADjn5zsJ-I-TpwNxl_dWl2FZ5ijU5oMS1E6jQDHN6nAknIlJcaIiLl2A-xI4QfAqAz6A5kPb0OUvAgGTses_9yOeTNTvZaK3Nedcdu8Ol3UmTH0GCvHqn3EgsMIeZMd8jqlx0SQBC-g-BxyUJi3A=="}],"role":"model"},"finish_reason":"STOP","index":0}],"model_version":"gemini-2.5-flash","response_id":"Bydgaf7GKb3h_uMP9-buyAg","usage_metadata":{"candidates_token_count":24,"prompt_token_count":2097,"prompt_tokens_details":[{"modality":"TEXT","token_count":2097}],"thoughts_token_count":104,"total_token_count":2225}}
-----------------------------------------------------------

2026-01-08 13:52:07,749 - main - DEBUG - [DEBUG] main: Received event, is_final_response=False
2026-01-08 13:52:07,750 - main - DEBUG - [DEBUG] main: Received event, is_final_response=False
2026-01-08 13:52:07,772 - google_adk.google.adk.models.google_llm - INFO - Sending out request, model: gemini-2.5-flash, backend: GoogleLLMVariant.GEMINI_API, stream: False
2026-01-08 13:52:07,772 - google_adk.google.adk.models.google_llm - DEBUG - 
LLM Request:
-----------------------------------------------------------
System Instruction:
You are a helpful and friendly system administrator. Be concise and clear in your responses. You have access to tools that can help you check available input devices on the system and manage tasks. When a user requests a task that requires an input device, you should automatically call list_input_devices_with_ids to find the appropriate device and its io_id. Do not ask the user for io_ids - always retrieve them yourself using the available tools. When selecting a device, prefer video cameras (camera category) when possible. Once you have the io_id, use add_task with the io_id to create tasks. Use list_tasks to view all tasks (optionally filtered by io_id). When a user asks a question about a task, first call list_tasks to find the relevant task_id, then call get_info_on ONCE with that task_id to get detailed information. Do not call get_info_on multiple times for the same task_id. Make sure to call get_info_on when answering a user's question about a task.Use remove_task to delete a task by its task_id. Use edit_task to update a task's description. This is especially useful when a user wants to amend an existing task, for example, to add an action to be triggered when a condition is met. When editing a task, preserve the original detection part and add the new action requirement. For example, if a task is 'Count claps' and the user wants to send an email when claps reach 1, edit it to 'Count claps and when it reaches 1 send email to [email]'. You can also use take_output_action to execute various actions like sending emails, opening/closing doors, or controlling lights by providing a natural language description of the action. IMPORTANT: When a user requests an action to be triggered based on a video feed event (e.g., 'send me an email when I clap', 'turn on lights when I wave'), you have two options: 1. If a relevant task already exists (e.g., 'Count claps'), use edit_task to amend it with the action. 2. If no relevant task exists, add a NEW task that combines both the detection and the action. 

You are an agent. Your internal name is "system_administrator". The description about you is "A helpful system administrator. It controls the system on behalf of the user.".
-----------------------------------------------------------
Config:
{'http_options': {'headers': {'x-goog-api-client': 'google-adk/1.21.0 gl-python/3.13.5', 'user-agent': 'google-adk/1.21.0 gl-python/3.13.5'}}, 'tools': [{}]}
-----------------------------------------------------------
Contents:
{"parts":[{"text":"count fingers"}],"role":"user"}
{"parts":[{"function_call":{"args":{},"name":"list_input_devices_with_ids"},"thought_signature":"CvEBAXLI2nwScjF98UZCRtrafqBZfpp1jAHJkaWxrgxt8JRpMHGes8dK-Te0yjhQw_GyGPyxa4EcxBxsXQYe4DOdnjdRKqYgA9ek-8a623yydU72CZRjYLsKOzvhqFJ4ck6ws8kJNs3g5omO6Q4sXEaRsdqerlllzLSUwml9GQla1V1zr7U8cHU8Nm-QRcS3hKUrcwjqYP_g_xco9D4G0GSN0OSdk2K4NMeAqGaL048cQ5D2KIOQhvoXrlLr4ufnH6SUPNEj_Soa2qdcNepFj1UU9ztafcwFO6sILW39k2RgyZFpC61QrgB3g1HdDyZhiE19xQ=="}],"role":"model"}
{"parts":[{"function_response":{"name":"list_input_devices_with_ids","response":{"status":"success","input_devices":{"camera":[{"io_id":"ddeb3cd4","name":""},{"io_id":"9856d608","name":"FaceTime HD Camera"},{"io_id":"ea036130","name":"OBS Camera Extension"}]}}}}],"role":"user"}
{"parts":[{"function_call":{"args":{"task_description":"Count fingers","io_id":"9856d608"},"name":"add_task"},"thought_signature":"CocCAXLI2nzJI-hjWy4vvShNrej2gr__n3qB2uH6jE68svMoqjjfv0x-QwIqlb3oi0QL3KrHfyMhHuJLq6kD1bRz5AHkwX5-KRrR8hUORGX0bGKnz1H-mHCDqa8YpOUXTAIvvYdV8nQ9Kj4wPlGFowNMTow992fhx6oOADkUcJ71sbrTQzc080K3SRV9ybqd63YWglxh_tgMtv83dke0UmcFFqmhMwvGDjtSPsyjLlpFEt6PsrzGMN1ivotlmt4qnP6MDbjhSVBpZYXNyEAjA85lKdnFYQBXkBZuviixlpedIqf_EKoOJqudlIDS3ZcYwd3Of5gfwvtwdoh_A4KZmw5oh9ODymTsqrc="}],"role":"model"}
{"parts":[{"function_response":{"name":"add_task","response":{"status":"success","message":"Task added successfully","task_id":"bdb77119","io_id":"9856d608","task_description":"Count fingers","device_info":{"io_id":"9856d608","category":"camera","name":"FaceTime HD Camera"}}}}],"role":"user"}
{"parts":[{"text":"I've set up a task to count fingers using the FaceTime HD Camera. The task ID is `bdb77119`."}],"role":"model"}
{"parts":[{"text":"how many fingers?"}],"role":"user"}
{"parts":[{"function_call":{"args":{"task_id":"bdb77119"},"name":"get_info_on"},"thought_signature":"Cp8DAXLI2nw96WHxAWHcf04LpU44iaacXf2I7oevjJgtNQWA5KN7N3dxUO_AbwTiFxsXOH9FhO75iEZI0BDlXV-FX9gwTjf2yyXplfxl6LnNytM75-gbfMUSR9da48WiHEcJ1sfBbJ3eGlVewfyWQO-rKfI_k27QQNLHxOnoJ2a_XCjWIdgk0QFKS2r7FK9rlj1DCt5qSvjcB93xpJle6QCd5WR98OycUlRfaPjYW_EQa6RbOnfFPekgKvTH8g5r7_oHqffo1deHaiC3RVFDRBPzCwdmJYcNN2xlyMJV9P7fsn4bt736i2QsgNN0mw_JRb5tXtTBrSTaOPs6_Mu7wunZUtEmf8JADq1O0ILXwHIh2j92jKGR2zp5sJYDr_jmFkHQrmde_JygrdMNc77ENlWNDtCH0x67P1YgFOI6nsNE4OI84DybmL4gR6yrpMu_49SrUCf3bxDXqpp1zO76SiqAhTISI2EYs0N_Zf2HDmvgB9k1Kh6DqJLG339qHqZWEqtbYqJsagnSx1cz0hCuO7xTzw2rxRlTuUTOMM48iTYXDw=="}],"role":"model"}
{"parts":[{"function_response":{"name":"get_info_on","response":{"status":"success","task":{"task_number":0,"task_id":"bdb77119","task_desc":"Count fingers","task_note":[{"content":"No fingers are visible in the image.","timestamp":"2026-01-08 13:50:57"},{"content":"Two fingers are visible in the image.","timestamp":"2026-01-08 13:51:03"},{"content":"At least 4 fingers are visible in the image.","timestamp":"2026-01-08 13:51:08"}],"done":false,"io_id":"9856d608"}}}}],"role":"user"}
{"parts":[{"text":"The latest count shows at least 4 fingers are visible."}],"role":"model"}
{"parts":[{"text":"how many fingers?"}],"role":"user"}
{"parts":[{"function_call":{"args":{"task_id":"bdb77119"},"name":"get_info_on"},"thought_signature":"CqAEAXLI2nyBjhXxPrD6d6vBJARjFHCCiCCMmhcM9mBSEqOpV_Kq72LxEwT_YSnvOU6tUNbxjEosL85ZPBJONT7-hC1h0mDl5Lf5GTwjZWwjRsnAaHRraenWQSSSxpR60fL1RLwHSKcM0A6IbKzN5Z3G5XQ8g1W5h1Pc9sKSkuphHqJO6Q85jjfQudEsRu8g4c0H3Are0bc6ASQeMMMOgvSWRNXuf4qAH3JePxdXmkQSD8TcbHqI7TvrC3ORknpvs8bAiTrmGSx3FpDJMgWv71iwN1giois525ZVQ6aWVgDdz3Wes82GJMF5AKTXbW_8f1ac7qNOytdh_TT6RcSfLzU9xTP8CZ5i2ADRH4Li2HE1nZ79l8zB1VdRdOqrWl0yd8quI3bZ6ZA-RnvcrH5YvqCNilACbbWVYZxBeh3BzyaI_kmfanunnHy0BG2yZ0Fq86GE4Wgr6QNI_kgWYO1uWKk6rLYHyUY19efe9MiMqrK_qmOt9W2iIEu52VX0Vbsq0HwuVYgozUY-0fxtYcO__Toq4ba9CQ0UStziRXkRJ9jTEswXMn8TVJMjBXhbX2fttvxwsW00kiwAxPzOsow8c4IeDnvQgjBuzdHoNlcRQ8VbSmXB34zl4M24_vVxaRF8dzoAQbO0Xe8uS8wnBK7O2-lFNNuCBTLX-GrfAwg7tepebJ26nwc8AyReXu9o6DTHPRMU4S5a8yfhVECQdwBVQwL8kQ=="}],"role":"model"}
{"parts":[{"function_response":{"name":"get_info_on","response":{"status":"success","task":{"task_number":0,"task_id":"bdb77119","task_desc":"Count fingers","task_note":[{"content":"No fingers are visible in the image.","timestamp":"2026-01-08 13:50:57"},{"content":"Two fingers are visible in the image.","timestamp":"2026-01-08 13:51:03"},{"content":"At least 4 fingers are visible in the image.","timestamp":"2026-01-08 13:51:08"},{"content":"Four fingers are clearly visible in the image.","timestamp":"2026-01-08 13:51:14"},{"content":"No fingers are visible in the image.","timestamp":"2026-01-08 13:51:17"},{"content":"One finger (thumb) is visible near the person's mouth/chin area.","timestamp":"2026-01-08 13:51:22"},{"content":"Five fingers are visible, with the thumb extended and the other four fingers curled, showing their knuckles.","timestamp":"2026-01-08 13:51:36"}],"done":false,"io_id":"9856d608"}}}}],"role":"user"}
{"parts":[{"text":"The latest update states that five fingers are visible, with the thumb extended and the other four fingers curled, showing their knuckles."}],"role":"model"}
{"parts":[{"text":"how many fingers are visible now?"}],"role":"user"}
{"parts":[{"text":"how many fingers now?"}],"role":"user"}
{"parts":[{"function_call":{"args":{"task_id":"bdb77119"},"name":"get_info_on"},"thought_signature":"CqUDAXLI2nzd57WhnJXIb7vMpxi_VMlOytojT2n20zKCs_r5CKw6CHBuoHK3UL6WirjL5Za8HCyTBkuT2ogQGdFqDNfUgx8O0yW6DCZYLv3prORmo4k5b5e6_irfJY9P9mRMz-2C-uSD4_0w3EnEYxrQlbPfFbcNkgT_7sbusScU6FEhQqidcx9SUQ233dKnj-gPwCiRrLL1MvfwvVoct6WabejD7tWF7ZAzWvbMwCiHeZVw7w2-JBmg3FlKy5In1VzamwFNl48Z2o72dcHT-h00G0hmp5k10grfUxVy5vz_UNVtZFJM46PjY7nMF2CmrUmYV-ICYU5fFAY35S76Dc8wAiJGDGhC0ubmML54SdBi1f3EqqNUlyLdooPSPQaUjhuPACGgcHVDDBqIDrdombvaTk5nb5ctHsADjn5zsJ-I-TpwNxl_dWl2FZ5ijU5oMS1E6jQDHN6nAknIlJcaIiLl2A-xI4QfAqAz6A5kPb0OUvAgGTses_9yOeTNTvZaK3Nedcdu8Ol3UmTH0GCvHqn3EgsMIeZMd8jqlx0SQBC-g-BxyUJi3A=="}],"role":"model"}
{"parts":[{"function_response":{"name":"get_info_on","response":{"status":"success","task":{"task_number":0,"task_id":"bdb77119","task_desc":"Count fingers","task_note":[{"content":"No fingers are visible in the image.","timestamp":"2026-01-08 13:50:57"},{"content":"Two fingers are visible in the image.","timestamp":"2026-01-08 13:51:03"},{"content":"At least 4 fingers are visible in the image.","timestamp":"2026-01-08 13:51:08"},{"content":"Four fingers are clearly visible in the image.","timestamp":"2026-01-08 13:51:14"},{"content":"No fingers are visible in the image.","timestamp":"2026-01-08 13:51:17"},{"content":"One finger (thumb) is visible near the person's mouth/chin area.","timestamp":"2026-01-08 13:51:22"},{"content":"Five fingers are visible, with the thumb extended and the other four fingers curled, showing their knuckles.","timestamp":"2026-01-08 13:51:36"},{"content":"No fingers are visible in the image.","timestamp":"2026-01-08 13:51:42"},{"content":"Five fingers are visible, with the thumb extended and the other four fingers curled, showing their knuckles.","timestamp":"2026-01-08 13:51:48"},{"content":"One finger (the thumb) is clearly visible near the person's chin. The other fingers are curled into a fist and are not individually discernible.","timestamp":"2026-01-08 13:51:54"},{"content":"No fingers are visible in the image.","timestamp":"2026-01-08 13:51:58"}],"done":false,"io_id":"9856d608"}}}}],"role":"user"}
-----------------------------------------------------------
Functions:
list_input_devices_with_ids: {} 
add_task: {'io_id': {'type': <Type.STRING: 'STRING'>}, 'task_description': {'type': <Type.STRING: 'STRING'>}} 
list_tasks: {'io_id': {'nullable': True, 'type': <Type.STRING: 'STRING'>}} 
get_info_on: {'task_id': {'type': <Type.STRING: 'STRING'>}} 
remove_task: {'task_id': {'type': <Type.STRING: 'STRING'>}} 
edit_task: {'task_id': {'type': <Type.STRING: 'STRING'>}, 'new_description': {'type': <Type.STRING: 'STRING'>}} 
action_router: {'request': {'type': <Type.STRING: 'STRING'>}} 
-----------------------------------------------------------

2026-01-08 13:52:07,776 - httpcore.connection - DEBUG - close.started
2026-01-08 13:52:07,776 - httpcore.connection - DEBUG - connect_tcp.started host='generativelanguage.googleapis.com' port=443 local_address=None timeout=None socket_options=None
2026-01-08 13:52:07,776 - httpcore.connection - DEBUG - close.complete
2026-01-08 13:52:07,785 - httpcore.connection - DEBUG - connect_tcp.complete return_value=<httpcore._backends.anyio.AnyIOStream object at 0x1197cb6a0>
2026-01-08 13:52:07,785 - httpcore.connection - DEBUG - start_tls.started ssl_context=<ssl.SSLContext object at 0x11ab792e0> server_hostname='generativelanguage.googleapis.com' timeout=None
2026-01-08 13:52:08,374 - httpcore.connection - DEBUG - start_tls.complete return_value=<httpcore._backends.anyio.AnyIOStream object at 0x11abc7890>
2026-01-08 13:52:08,375 - httpcore.http11 - DEBUG - send_request_headers.started request=<Request [b'POST']>
2026-01-08 13:52:08,375 - httpcore.http11 - DEBUG - send_request_headers.complete
2026-01-08 13:52:08,375 - httpcore.http11 - DEBUG - send_request_body.started request=<Request [b'POST']>
2026-01-08 13:52:08,376 - httpcore.http11 - DEBUG - send_request_body.complete
2026-01-08 13:52:08,376 - httpcore.http11 - DEBUG - receive_response_headers.started request=<Request [b'POST']>
2026-01-08 13:52:09,410 - httpcore.http11 - DEBUG - receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'Content-Type', b'application/json; charset=UTF-8'), (b'Vary', b'Origin'), (b'Vary', b'X-Origin'), (b'Vary', b'Referer'), (b'Content-Encoding', b'gzip'), (b'Date', b'Thu, 08 Jan 2026 21:52:09 GMT'), (b'Server', b'scaffolding on HTTPServer2'), (b'X-XSS-Protection', b'0'), (b'X-Frame-Options', b'SAMEORIGIN'), (b'X-Content-Type-Options', b'nosniff'), (b'Server-Timing', b'gfet4t7; dur=1024'), (b'Alt-Svc', b'h3=":443"; ma=2592000,h3-29=":443"; ma=2592000'), (b'Transfer-Encoding', b'chunked')])
2026-01-08 13:52:09,410 - httpx - INFO - HTTP Request: POST https://generativelanguage.googleapis.com/v1beta/models/gemini-2.5-flash:generateContent "HTTP/1.1 200 OK"
2026-01-08 13:52:09,410 - httpcore.http11 - DEBUG - receive_response_body.started request=<Request [b'POST']>
2026-01-08 13:52:09,420 - httpcore.http11 - DEBUG - receive_response_body.complete
2026-01-08 13:52:09,420 - httpcore.http11 - DEBUG - response_closed.started
2026-01-08 13:52:09,420 - httpcore.http11 - DEBUG - response_closed.complete
2026-01-08 13:52:09,423 - google_adk.google.adk.models.google_llm - INFO - Response received from the model.
2026-01-08 13:52:09,423 - google_adk.google.adk.models.google_llm - DEBUG - 
LLM Response:
-----------------------------------------------------------
Text:
Currently, no fingers are visible in the image.
-----------------------------------------------------------
Function calls:

-----------------------------------------------------------
Raw response:
{"sdk_http_response":{"headers":{"content-type":"application/json; charset=UTF-8","vary":"Origin, X-Origin, Referer","content-encoding":"gzip","date":"Thu, 08 Jan 2026 21:52:09 GMT","server":"scaffolding on HTTPServer2","x-xss-protection":"0","x-frame-options":"SAMEORIGIN","x-content-type-options":"nosniff","server-timing":"gfet4t7; dur=1024","alt-svc":"h3=\":443\"; ma=2592000,h3-29=\":443\"; ma=2592000","transfer-encoding":"chunked"}},"candidates":[{"content":{"parts":[{"text":"Currently, no fingers are visible in the image."}],"role":"model"},"finish_reason":"STOP","index":0}],"model_version":"gemini-2.5-flash","response_id":"CSdgacLaFNCj_uMPq5nM0Q8","usage_metadata":{"cache_tokens_details":[{"modality":"TEXT","token_count":1667}],"cached_content_token_count":1667,"candidates_token_count":10,"prompt_token_count":2652,"prompt_tokens_details":[{"modality":"TEXT","token_count":2652}],"total_token_count":2662}}
-----------------------------------------------------------

2026-01-08 13:52:09,425 - main - DEBUG - [DEBUG] main: Received event, is_final_response=True
2026-01-08 13:52:09,425 - main - DEBUG - [DEBUG] main: Finished processing events, final_response_text=Currently, no fingers are visible in the image.
2026-01-08 13:52:09,426 - httpcore.connection - DEBUG - close.started
2026-01-08 13:52:09,427 - httpcore.connection - DEBUG - close.complete
2026-01-08 13:52:10,638 - httpcore.http11 - DEBUG - receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'Content-Type', b'application/json; charset=UTF-8'), (b'Vary', b'Origin'), (b'Vary', b'X-Origin'), (b'Vary', b'Referer'), (b'Content-Encoding', b'gzip'), (b'Date', b'Thu, 08 Jan 2026 21:52:10 GMT'), (b'Server', b'scaffolding on HTTPServer2'), (b'X-XSS-Protection', b'0'), (b'X-Frame-Options', b'SAMEORIGIN'), (b'X-Content-Type-Options', b'nosniff'), (b'Server-Timing', b'gfet4t7; dur=3421'), (b'Alt-Svc', b'h3=":443"; ma=2592000,h3-29=":443"; ma=2592000'), (b'Transfer-Encoding', b'chunked')])
2026-01-08 13:52:10,638 - httpx - INFO - HTTP Request: POST https://generativelanguage.googleapis.com/v1beta/models/gemini-2.5-flash:generateContent "HTTP/1.1 200 OK"
2026-01-08 13:52:10,638 - httpcore.http11 - DEBUG - receive_response_body.started request=<Request [b'POST']>
2026-01-08 13:52:10,639 - httpcore.http11 - DEBUG - receive_response_body.complete
2026-01-08 13:52:10,639 - httpcore.http11 - DEBUG - response_closed.started
2026-01-08 13:52:10,639 - httpcore.http11 - DEBUG - response_closed.complete
2026-01-08 13:52:10,640 - VideoStreamIngestor - DEBUG - Process loop: Frame got from process loop queue for camera index=0
2026-01-08 13:52:10,653 - google_genai.models - INFO - AFC is enabled with max remote calls: 10.
2026-01-08 13:52:10,657 - httpcore.http11 - DEBUG - send_request_headers.started request=<Request [b'POST']>
2026-01-08 13:52:10,657 - httpcore.http11 - DEBUG - send_request_headers.complete
2026-01-08 13:52:10,657 - httpcore.http11 - DEBUG - send_request_body.started request=<Request [b'POST']>
2026-01-08 13:52:10,658 - httpcore.http11 - DEBUG - send_request_body.complete
2026-01-08 13:52:10,658 - httpcore.http11 - DEBUG - receive_response_headers.started request=<Request [b'POST']>
2026-01-08 13:52:14,221 - httpcore.http11 - DEBUG - receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'Content-Type', b'application/json; charset=UTF-8'), (b'Vary', b'Origin'), (b'Vary', b'X-Origin'), (b'Vary', b'Referer'), (b'Content-Encoding', b'gzip'), (b'Date', b'Thu, 08 Jan 2026 21:52:14 GMT'), (b'Server', b'scaffolding on HTTPServer2'), (b'X-XSS-Protection', b'0'), (b'X-Frame-Options', b'SAMEORIGIN'), (b'X-Content-Type-Options', b'nosniff'), (b'Server-Timing', b'gfet4t7; dur=3459'), (b'Alt-Svc', b'h3=":443"; ma=2592000,h3-29=":443"; ma=2592000'), (b'Transfer-Encoding', b'chunked')])
2026-01-08 13:52:14,222 - httpx - INFO - HTTP Request: POST https://generativelanguage.googleapis.com/v1beta/models/gemini-2.5-flash:generateContent "HTTP/1.1 200 OK"
2026-01-08 13:52:14,222 - httpcore.http11 - DEBUG - receive_response_body.started request=<Request [b'POST']>
2026-01-08 13:52:14,224 - httpcore.http11 - DEBUG - receive_response_body.complete
2026-01-08 13:52:14,224 - httpcore.http11 - DEBUG - response_closed.started
2026-01-08 13:52:14,224 - httpcore.http11 - DEBUG - response_closed.complete
2026-01-08 13:52:14,226 - VideoStreamIngestor - DEBUG - Process loop: Frame got from process loop queue for camera index=0
2026-01-08 13:52:14,238 - google_genai.models - INFO - AFC is enabled with max remote calls: 10.
2026-01-08 13:52:14,242 - httpcore.http11 - DEBUG - send_request_headers.started request=<Request [b'POST']>
2026-01-08 13:52:14,242 - httpcore.http11 - DEBUG - send_request_headers.complete
2026-01-08 13:52:14,242 - httpcore.http11 - DEBUG - send_request_body.started request=<Request [b'POST']>
2026-01-08 13:52:14,243 - httpcore.http11 - DEBUG - send_request_body.complete
2026-01-08 13:52:14,245 - httpcore.http11 - DEBUG - receive_response_headers.started request=<Request [b'POST']>
2026-01-08 13:52:16,267 - httpcore.http11 - DEBUG - receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'Content-Type', b'application/json; charset=UTF-8'), (b'Vary', b'Origin'), (b'Vary', b'X-Origin'), (b'Vary', b'Referer'), (b'Content-Encoding', b'gzip'), (b'Date', b'Thu, 08 Jan 2026 21:52:16 GMT'), (b'Server', b'scaffolding on HTTPServer2'), (b'X-XSS-Protection', b'0'), (b'X-Frame-Options', b'SAMEORIGIN'), (b'X-Content-Type-Options', b'nosniff'), (b'Server-Timing', b'gfet4t7; dur=2017'), (b'Alt-Svc', b'h3=":443"; ma=2592000,h3-29=":443"; ma=2592000'), (b'Transfer-Encoding', b'chunked')])
2026-01-08 13:52:16,268 - httpx - INFO - HTTP Request: POST https://generativelanguage.googleapis.com/v1beta/models/gemini-2.5-flash:generateContent "HTTP/1.1 200 OK"
2026-01-08 13:52:16,268 - httpcore.http11 - DEBUG - receive_response_body.started request=<Request [b'POST']>
2026-01-08 13:52:16,268 - httpcore.http11 - DEBUG - receive_response_body.complete
2026-01-08 13:52:16,268 - httpcore.http11 - DEBUG - response_closed.started
2026-01-08 13:52:16,268 - httpcore.http11 - DEBUG - response_closed.complete
2026-01-08 13:52:16,270 - VideoStreamIngestor - DEBUG - Process loop: Frame got from process loop queue for camera index=0
2026-01-08 13:52:16,282 - google_genai.models - INFO - AFC is enabled with max remote calls: 10.
2026-01-08 13:52:16,285 - httpcore.http11 - DEBUG - send_request_headers.started request=<Request [b'POST']>
2026-01-08 13:52:16,286 - httpcore.http11 - DEBUG - send_request_headers.complete
2026-01-08 13:52:16,286 - httpcore.http11 - DEBUG - send_request_body.started request=<Request [b'POST']>
2026-01-08 13:52:16,286 - httpcore.http11 - DEBUG - send_request_body.complete
2026-01-08 13:52:16,287 - httpcore.http11 - DEBUG - receive_response_headers.started request=<Request [b'POST']>
2026-01-08 13:52:19,305 - httpcore.http11 - DEBUG - receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'Content-Type', b'application/json; charset=UTF-8'), (b'Vary', b'Origin'), (b'Vary', b'X-Origin'), (b'Vary', b'Referer'), (b'Content-Encoding', b'gzip'), (b'Date', b'Thu, 08 Jan 2026 21:52:19 GMT'), (b'Server', b'scaffolding on HTTPServer2'), (b'X-XSS-Protection', b'0'), (b'X-Frame-Options', b'SAMEORIGIN'), (b'X-Content-Type-Options', b'nosniff'), (b'Server-Timing', b'gfet4t7; dur=3010'), (b'Alt-Svc', b'h3=":443"; ma=2592000,h3-29=":443"; ma=2592000'), (b'Transfer-Encoding', b'chunked')])
2026-01-08 13:52:19,305 - httpx - INFO - HTTP Request: POST https://generativelanguage.googleapis.com/v1beta/models/gemini-2.5-flash:generateContent "HTTP/1.1 200 OK"
2026-01-08 13:52:19,305 - httpcore.http11 - DEBUG - receive_response_body.started request=<Request [b'POST']>
2026-01-08 13:52:19,305 - httpcore.http11 - DEBUG - receive_response_body.complete
2026-01-08 13:52:19,305 - httpcore.http11 - DEBUG - response_closed.started
2026-01-08 13:52:19,305 - httpcore.http11 - DEBUG - response_closed.complete
2026-01-08 13:52:19,317 - VideoStreamIngestor - DEBUG - Process loop: Frame got from process loop queue for camera index=0
2026-01-08 13:52:19,327 - google_genai.models - INFO - AFC is enabled with max remote calls: 10.
2026-01-08 13:52:19,330 - httpcore.http11 - DEBUG - send_request_headers.started request=<Request [b'POST']>
2026-01-08 13:52:19,330 - httpcore.http11 - DEBUG - send_request_headers.complete
2026-01-08 13:52:19,330 - httpcore.http11 - DEBUG - send_request_body.started request=<Request [b'POST']>
2026-01-08 13:52:19,331 - httpcore.http11 - DEBUG - send_request_body.complete
2026-01-08 13:52:19,331 - httpcore.http11 - DEBUG - receive_response_headers.started request=<Request [b'POST']>
2026-01-08 13:52:22,765 - httpcore.http11 - DEBUG - receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'Content-Type', b'application/json; charset=UTF-8'), (b'Vary', b'Origin'), (b'Vary', b'X-Origin'), (b'Vary', b'Referer'), (b'Content-Encoding', b'gzip'), (b'Date', b'Thu, 08 Jan 2026 21:52:22 GMT'), (b'Server', b'scaffolding on HTTPServer2'), (b'X-XSS-Protection', b'0'), (b'X-Frame-Options', b'SAMEORIGIN'), (b'X-Content-Type-Options', b'nosniff'), (b'Server-Timing', b'gfet4t7; dur=3426'), (b'Alt-Svc', b'h3=":443"; ma=2592000,h3-29=":443"; ma=2592000'), (b'Transfer-Encoding', b'chunked')])
2026-01-08 13:52:22,765 - httpx - INFO - HTTP Request: POST https://generativelanguage.googleapis.com/v1beta/models/gemini-2.5-flash:generateContent "HTTP/1.1 200 OK"
2026-01-08 13:52:22,766 - httpcore.http11 - DEBUG - receive_response_body.started request=<Request [b'POST']>
2026-01-08 13:52:22,767 - httpcore.http11 - DEBUG - receive_response_body.complete
2026-01-08 13:52:22,767 - httpcore.http11 - DEBUG - response_closed.started
2026-01-08 13:52:22,767 - httpcore.http11 - DEBUG - response_closed.complete
2026-01-08 13:52:22,769 - VideoStreamIngestor - DEBUG - Process loop: Frame got from process loop queue for camera index=0
2026-01-08 13:52:22,784 - google_genai.models - INFO - AFC is enabled with max remote calls: 10.
2026-01-08 13:52:22,787 - httpcore.http11 - DEBUG - send_request_headers.started request=<Request [b'POST']>
2026-01-08 13:52:22,788 - httpcore.http11 - DEBUG - send_request_headers.complete
2026-01-08 13:52:22,788 - httpcore.http11 - DEBUG - send_request_body.started request=<Request [b'POST']>
2026-01-08 13:52:22,789 - httpcore.http11 - DEBUG - send_request_body.complete
2026-01-08 13:52:22,789 - httpcore.http11 - DEBUG - receive_response_headers.started request=<Request [b'POST']>
2026-01-08 13:52:23,454 - main - DEBUG - [DEBUG] main: Processing user input: what is the sequence of fingers you have seen?
2026-01-08 13:52:23,454 - main - DEBUG - [DEBUG] main: About to call runner.run_async
2026-01-08 13:52:23,470 - google_adk.google.adk.models.google_llm - INFO - Sending out request, model: gemini-2.5-flash, backend: GoogleLLMVariant.GEMINI_API, stream: False
2026-01-08 13:52:23,474 - google_adk.google.adk.models.google_llm - DEBUG - 
LLM Request:
-----------------------------------------------------------
System Instruction:
You are a helpful and friendly system administrator. Be concise and clear in your responses. You have access to tools that can help you check available input devices on the system and manage tasks. When a user requests a task that requires an input device, you should automatically call list_input_devices_with_ids to find the appropriate device and its io_id. Do not ask the user for io_ids - always retrieve them yourself using the available tools. When selecting a device, prefer video cameras (camera category) when possible. Once you have the io_id, use add_task with the io_id to create tasks. Use list_tasks to view all tasks (optionally filtered by io_id). When a user asks a question about a task, first call list_tasks to find the relevant task_id, then call get_info_on ONCE with that task_id to get detailed information. Do not call get_info_on multiple times for the same task_id. Make sure to call get_info_on when answering a user's question about a task.Use remove_task to delete a task by its task_id. Use edit_task to update a task's description. This is especially useful when a user wants to amend an existing task, for example, to add an action to be triggered when a condition is met. When editing a task, preserve the original detection part and add the new action requirement. For example, if a task is 'Count claps' and the user wants to send an email when claps reach 1, edit it to 'Count claps and when it reaches 1 send email to [email]'. You can also use take_output_action to execute various actions like sending emails, opening/closing doors, or controlling lights by providing a natural language description of the action. IMPORTANT: When a user requests an action to be triggered based on a video feed event (e.g., 'send me an email when I clap', 'turn on lights when I wave'), you have two options: 1. If a relevant task already exists (e.g., 'Count claps'), use edit_task to amend it with the action. 2. If no relevant task exists, add a NEW task that combines both the detection and the action. 

You are an agent. Your internal name is "system_administrator". The description about you is "A helpful system administrator. It controls the system on behalf of the user.".
-----------------------------------------------------------
Config:
{'http_options': {'headers': {'x-goog-api-client': 'google-adk/1.21.0 gl-python/3.13.5', 'user-agent': 'google-adk/1.21.0 gl-python/3.13.5'}}, 'tools': [{}]}
-----------------------------------------------------------
Contents:
{"parts":[{"text":"count fingers"}],"role":"user"}
{"parts":[{"function_call":{"args":{},"name":"list_input_devices_with_ids"},"thought_signature":"CvEBAXLI2nwScjF98UZCRtrafqBZfpp1jAHJkaWxrgxt8JRpMHGes8dK-Te0yjhQw_GyGPyxa4EcxBxsXQYe4DOdnjdRKqYgA9ek-8a623yydU72CZRjYLsKOzvhqFJ4ck6ws8kJNs3g5omO6Q4sXEaRsdqerlllzLSUwml9GQla1V1zr7U8cHU8Nm-QRcS3hKUrcwjqYP_g_xco9D4G0GSN0OSdk2K4NMeAqGaL048cQ5D2KIOQhvoXrlLr4ufnH6SUPNEj_Soa2qdcNepFj1UU9ztafcwFO6sILW39k2RgyZFpC61QrgB3g1HdDyZhiE19xQ=="}],"role":"model"}
{"parts":[{"function_response":{"name":"list_input_devices_with_ids","response":{"status":"success","input_devices":{"camera":[{"io_id":"ddeb3cd4","name":""},{"io_id":"9856d608","name":"FaceTime HD Camera"},{"io_id":"ea036130","name":"OBS Camera Extension"}]}}}}],"role":"user"}
{"parts":[{"function_call":{"args":{"task_description":"Count fingers","io_id":"9856d608"},"name":"add_task"},"thought_signature":"CocCAXLI2nzJI-hjWy4vvShNrej2gr__n3qB2uH6jE68svMoqjjfv0x-QwIqlb3oi0QL3KrHfyMhHuJLq6kD1bRz5AHkwX5-KRrR8hUORGX0bGKnz1H-mHCDqa8YpOUXTAIvvYdV8nQ9Kj4wPlGFowNMTow992fhx6oOADkUcJ71sbrTQzc080K3SRV9ybqd63YWglxh_tgMtv83dke0UmcFFqmhMwvGDjtSPsyjLlpFEt6PsrzGMN1ivotlmt4qnP6MDbjhSVBpZYXNyEAjA85lKdnFYQBXkBZuviixlpedIqf_EKoOJqudlIDS3ZcYwd3Of5gfwvtwdoh_A4KZmw5oh9ODymTsqrc="}],"role":"model"}
{"parts":[{"function_response":{"name":"add_task","response":{"status":"success","message":"Task added successfully","task_id":"bdb77119","io_id":"9856d608","task_description":"Count fingers","device_info":{"io_id":"9856d608","category":"camera","name":"FaceTime HD Camera"}}}}],"role":"user"}
{"parts":[{"text":"I've set up a task to count fingers using the FaceTime HD Camera. The task ID is `bdb77119`."}],"role":"model"}
{"parts":[{"text":"how many fingers?"}],"role":"user"}
{"parts":[{"function_call":{"args":{"task_id":"bdb77119"},"name":"get_info_on"},"thought_signature":"Cp8DAXLI2nw96WHxAWHcf04LpU44iaacXf2I7oevjJgtNQWA5KN7N3dxUO_AbwTiFxsXOH9FhO75iEZI0BDlXV-FX9gwTjf2yyXplfxl6LnNytM75-gbfMUSR9da48WiHEcJ1sfBbJ3eGlVewfyWQO-rKfI_k27QQNLHxOnoJ2a_XCjWIdgk0QFKS2r7FK9rlj1DCt5qSvjcB93xpJle6QCd5WR98OycUlRfaPjYW_EQa6RbOnfFPekgKvTH8g5r7_oHqffo1deHaiC3RVFDRBPzCwdmJYcNN2xlyMJV9P7fsn4bt736i2QsgNN0mw_JRb5tXtTBrSTaOPs6_Mu7wunZUtEmf8JADq1O0ILXwHIh2j92jKGR2zp5sJYDr_jmFkHQrmde_JygrdMNc77ENlWNDtCH0x67P1YgFOI6nsNE4OI84DybmL4gR6yrpMu_49SrUCf3bxDXqpp1zO76SiqAhTISI2EYs0N_Zf2HDmvgB9k1Kh6DqJLG339qHqZWEqtbYqJsagnSx1cz0hCuO7xTzw2rxRlTuUTOMM48iTYXDw=="}],"role":"model"}
{"parts":[{"function_response":{"name":"get_info_on","response":{"status":"success","task":{"task_number":0,"task_id":"bdb77119","task_desc":"Count fingers","task_note":[{"content":"No fingers are visible in the image.","timestamp":"2026-01-08 13:50:57"},{"content":"Two fingers are visible in the image.","timestamp":"2026-01-08 13:51:03"},{"content":"At least 4 fingers are visible in the image.","timestamp":"2026-01-08 13:51:08"}],"done":false,"io_id":"9856d608"}}}}],"role":"user"}
{"parts":[{"text":"The latest count shows at least 4 fingers are visible."}],"role":"model"}
{"parts":[{"text":"how many fingers?"}],"role":"user"}
{"parts":[{"function_call":{"args":{"task_id":"bdb77119"},"name":"get_info_on"},"thought_signature":"CqAEAXLI2nyBjhXxPrD6d6vBJARjFHCCiCCMmhcM9mBSEqOpV_Kq72LxEwT_YSnvOU6tUNbxjEosL85ZPBJONT7-hC1h0mDl5Lf5GTwjZWwjRsnAaHRraenWQSSSxpR60fL1RLwHSKcM0A6IbKzN5Z3G5XQ8g1W5h1Pc9sKSkuphHqJO6Q85jjfQudEsRu8g4c0H3Are0bc6ASQeMMMOgvSWRNXuf4qAH3JePxdXmkQSD8TcbHqI7TvrC3ORknpvs8bAiTrmGSx3FpDJMgWv71iwN1giois525ZVQ6aWVgDdz3Wes82GJMF5AKTXbW_8f1ac7qNOytdh_TT6RcSfLzU9xTP8CZ5i2ADRH4Li2HE1nZ79l8zB1VdRdOqrWl0yd8quI3bZ6ZA-RnvcrH5YvqCNilACbbWVYZxBeh3BzyaI_kmfanunnHy0BG2yZ0Fq86GE4Wgr6QNI_kgWYO1uWKk6rLYHyUY19efe9MiMqrK_qmOt9W2iIEu52VX0Vbsq0HwuVYgozUY-0fxtYcO__Toq4ba9CQ0UStziRXkRJ9jTEswXMn8TVJMjBXhbX2fttvxwsW00kiwAxPzOsow8c4IeDnvQgjBuzdHoNlcRQ8VbSmXB34zl4M24_vVxaRF8dzoAQbO0Xe8uS8wnBK7O2-lFNNuCBTLX-GrfAwg7tepebJ26nwc8AyReXu9o6DTHPRMU4S5a8yfhVECQdwBVQwL8kQ=="}],"role":"model"}
{"parts":[{"function_response":{"name":"get_info_on","response":{"status":"success","task":{"task_number":0,"task_id":"bdb77119","task_desc":"Count fingers","task_note":[{"content":"No fingers are visible in the image.","timestamp":"2026-01-08 13:50:57"},{"content":"Two fingers are visible in the image.","timestamp":"2026-01-08 13:51:03"},{"content":"At least 4 fingers are visible in the image.","timestamp":"2026-01-08 13:51:08"},{"content":"Four fingers are clearly visible in the image.","timestamp":"2026-01-08 13:51:14"},{"content":"No fingers are visible in the image.","timestamp":"2026-01-08 13:51:17"},{"content":"One finger (thumb) is visible near the person's mouth/chin area.","timestamp":"2026-01-08 13:51:22"},{"content":"Five fingers are visible, with the thumb extended and the other four fingers curled, showing their knuckles.","timestamp":"2026-01-08 13:51:36"}],"done":false,"io_id":"9856d608"}}}}],"role":"user"}
{"parts":[{"text":"The latest update states that five fingers are visible, with the thumb extended and the other four fingers curled, showing their knuckles."}],"role":"model"}
{"parts":[{"text":"how many fingers are visible now?"}],"role":"user"}
{"parts":[{"text":"how many fingers now?"}],"role":"user"}
{"parts":[{"function_call":{"args":{"task_id":"bdb77119"},"name":"get_info_on"},"thought_signature":"CqUDAXLI2nzd57WhnJXIb7vMpxi_VMlOytojT2n20zKCs_r5CKw6CHBuoHK3UL6WirjL5Za8HCyTBkuT2ogQGdFqDNfUgx8O0yW6DCZYLv3prORmo4k5b5e6_irfJY9P9mRMz-2C-uSD4_0w3EnEYxrQlbPfFbcNkgT_7sbusScU6FEhQqidcx9SUQ233dKnj-gPwCiRrLL1MvfwvVoct6WabejD7tWF7ZAzWvbMwCiHeZVw7w2-JBmg3FlKy5In1VzamwFNl48Z2o72dcHT-h00G0hmp5k10grfUxVy5vz_UNVtZFJM46PjY7nMF2CmrUmYV-ICYU5fFAY35S76Dc8wAiJGDGhC0ubmML54SdBi1f3EqqNUlyLdooPSPQaUjhuPACGgcHVDDBqIDrdombvaTk5nb5ctHsADjn5zsJ-I-TpwNxl_dWl2FZ5ijU5oMS1E6jQDHN6nAknIlJcaIiLl2A-xI4QfAqAz6A5kPb0OUvAgGTses_9yOeTNTvZaK3Nedcdu8Ol3UmTH0GCvHqn3EgsMIeZMd8jqlx0SQBC-g-BxyUJi3A=="}],"role":"model"}
{"parts":[{"function_response":{"name":"get_info_on","response":{"status":"success","task":{"task_number":0,"task_id":"bdb77119","task_desc":"Count fingers","task_note":[{"content":"No fingers are visible in the image.","timestamp":"2026-01-08 13:50:57"},{"content":"Two fingers are visible in the image.","timestamp":"2026-01-08 13:51:03"},{"content":"At least 4 fingers are visible in the image.","timestamp":"2026-01-08 13:51:08"},{"content":"Four fingers are clearly visible in the image.","timestamp":"2026-01-08 13:51:14"},{"content":"No fingers are visible in the image.","timestamp":"2026-01-08 13:51:17"},{"content":"One finger (thumb) is visible near the person's mouth/chin area.","timestamp":"2026-01-08 13:51:22"},{"content":"Five fingers are visible, with the thumb extended and the other four fingers curled, showing their knuckles.","timestamp":"2026-01-08 13:51:36"},{"content":"No fingers are visible in the image.","timestamp":"2026-01-08 13:51:42"},{"content":"Five fingers are visible, with the thumb extended and the other four fingers curled, showing their knuckles.","timestamp":"2026-01-08 13:51:48"},{"content":"One finger (the thumb) is clearly visible near the person's chin. The other fingers are curled into a fist and are not individually discernible.","timestamp":"2026-01-08 13:51:54"},{"content":"No fingers are visible in the image.","timestamp":"2026-01-08 13:51:58"}],"done":false,"io_id":"9856d608"}}}}],"role":"user"}
{"parts":[{"text":"Currently, no fingers are visible in the image."}],"role":"model"}
{"parts":[{"text":"what is the sequence of fingers you have seen?"}],"role":"user"}
-----------------------------------------------------------
Functions:
list_input_devices_with_ids: {} 
add_task: {'io_id': {'type': <Type.STRING: 'STRING'>}, 'task_description': {'type': <Type.STRING: 'STRING'>}} 
list_tasks: {'io_id': {'nullable': True, 'type': <Type.STRING: 'STRING'>}} 
get_info_on: {'task_id': {'type': <Type.STRING: 'STRING'>}} 
remove_task: {'task_id': {'type': <Type.STRING: 'STRING'>}} 
edit_task: {'task_id': {'type': <Type.STRING: 'STRING'>}, 'new_description': {'type': <Type.STRING: 'STRING'>}} 
action_router: {'request': {'type': <Type.STRING: 'STRING'>}} 
-----------------------------------------------------------

2026-01-08 13:52:23,483 - httpcore.connection - DEBUG - connect_tcp.started host='generativelanguage.googleapis.com' port=443 local_address=None timeout=None socket_options=None
2026-01-08 13:52:23,529 - httpcore.connection - DEBUG - connect_tcp.complete return_value=<httpcore._backends.anyio.AnyIOStream object at 0x11abc71b0>
2026-01-08 13:52:23,529 - httpcore.connection - DEBUG - start_tls.started ssl_context=<ssl.SSLContext object at 0x11ab7bf50> server_hostname='generativelanguage.googleapis.com' timeout=None
2026-01-08 13:52:23,564 - httpcore.connection - DEBUG - start_tls.complete return_value=<httpcore._backends.anyio.AnyIOStream object at 0x11ab79eb0>
2026-01-08 13:52:23,565 - httpcore.http11 - DEBUG - send_request_headers.started request=<Request [b'POST']>
2026-01-08 13:52:23,565 - httpcore.http11 - DEBUG - send_request_headers.complete
2026-01-08 13:52:23,565 - httpcore.http11 - DEBUG - send_request_body.started request=<Request [b'POST']>
2026-01-08 13:52:23,565 - httpcore.http11 - DEBUG - send_request_body.complete
2026-01-08 13:52:23,565 - httpcore.http11 - DEBUG - receive_response_headers.started request=<Request [b'POST']>
2026-01-08 13:52:24,608 - httpcore.http11 - DEBUG - receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'Content-Type', b'application/json; charset=UTF-8'), (b'Vary', b'Origin'), (b'Vary', b'X-Origin'), (b'Vary', b'Referer'), (b'Content-Encoding', b'gzip'), (b'Date', b'Thu, 08 Jan 2026 21:52:24 GMT'), (b'Server', b'scaffolding on HTTPServer2'), (b'X-XSS-Protection', b'0'), (b'X-Frame-Options', b'SAMEORIGIN'), (b'X-Content-Type-Options', b'nosniff'), (b'Server-Timing', b'gfet4t7; dur=1034'), (b'Alt-Svc', b'h3=":443"; ma=2592000,h3-29=":443"; ma=2592000'), (b'Transfer-Encoding', b'chunked')])
2026-01-08 13:52:24,609 - httpx - INFO - HTTP Request: POST https://generativelanguage.googleapis.com/v1beta/models/gemini-2.5-flash:generateContent "HTTP/1.1 200 OK"
2026-01-08 13:52:24,609 - httpcore.http11 - DEBUG - receive_response_body.started request=<Request [b'POST']>
2026-01-08 13:52:24,609 - httpcore.http11 - DEBUG - receive_response_body.complete
2026-01-08 13:52:24,609 - httpcore.http11 - DEBUG - response_closed.started
2026-01-08 13:52:24,609 - httpcore.http11 - DEBUG - response_closed.complete
2026-01-08 13:52:24,610 - google_adk.google.adk.models.google_llm - INFO - Response received from the model.
2026-01-08 13:52:24,610 - google_adk.google.adk.models.google_llm - DEBUG - 
LLM Response:
-----------------------------------------------------------
Text:
None
-----------------------------------------------------------
Function calls:
name: get_info_on, args: {'task_id': 'bdb77119'}
-----------------------------------------------------------
Raw response:
{"sdk_http_response":{"headers":{"content-type":"application/json; charset=UTF-8","vary":"Origin, X-Origin, Referer","content-encoding":"gzip","date":"Thu, 08 Jan 2026 21:52:24 GMT","server":"scaffolding on HTTPServer2","x-xss-protection":"0","x-frame-options":"SAMEORIGIN","x-content-type-options":"nosniff","server-timing":"gfet4t7; dur=1034","alt-svc":"h3=\":443\"; ma=2592000,h3-29=\":443\"; ma=2592000","transfer-encoding":"chunked"}},"candidates":[{"content":{"parts":[{"function_call":{"args":{"task_id":"bdb77119"},"name":"get_info_on"},"thought_signature":"CvsCAXLI2nw8mTDoaynYneArUeZJd5BNrOV7GL7qjGCpGfTuhFxAfy4_eCGlRnaq70luKHV-XCtjJHsVWFL2kV-4tmdeC4r_mE9Jzca-JO9iFKA6H56nFZTWGF9ez8aXCSXyvvivjyGbx67kL5JhMAP0GkABDAxu5P-3DtPHauKRYIwn4LF_drIHJV-XgprRTw2V4X95qEj522bBipTHOCHYdrHgGmF19lEPfKVJuY6x07P4FRhd0hxQC_rd66t__r84ZARvG0l_vwnpudFaZqsyzMCeLgWdPsw1PI7PYDqAqgYrIPx5bgQke0IwF_uYet7_ZFzC3c7vyT7MRKRQmnn0WSg7NHpb_vFAO-ob3qYPOQDBAa9aBNpHCq0eWxNd0krewHXhO5mlfr11LpogDWTtvvsfWTajbYDnFQL0TUd2avJ3VwGelY97wTo2ZeqbEwZ2jFAy1hykm5rJRFtkud3o4MeMH8xjrUJCmZW9x3on03pQdlhv4adaKqN8dQ=="}],"role":"model"},"finish_reason":"STOP","index":0}],"model_version":"gemini-2.5-flash","response_id":"GCdgabyQIre9_uMPs7DByQY","usage_metadata":{"candidates_token_count":24,"prompt_token_count":2674,"prompt_tokens_details":[{"modality":"TEXT","token_count":2674}],"thoughts_token_count":87,"total_token_count":2785}}
-----------------------------------------------------------

2026-01-08 13:52:24,611 - main - DEBUG - [DEBUG] main: Received event, is_final_response=False
2026-01-08 13:52:24,612 - main - DEBUG - [DEBUG] main: Received event, is_final_response=False
2026-01-08 13:52:24,629 - google_adk.google.adk.models.google_llm - INFO - Sending out request, model: gemini-2.5-flash, backend: GoogleLLMVariant.GEMINI_API, stream: False
2026-01-08 13:52:24,629 - google_adk.google.adk.models.google_llm - DEBUG - 
LLM Request:
-----------------------------------------------------------
System Instruction:
You are a helpful and friendly system administrator. Be concise and clear in your responses. You have access to tools that can help you check available input devices on the system and manage tasks. When a user requests a task that requires an input device, you should automatically call list_input_devices_with_ids to find the appropriate device and its io_id. Do not ask the user for io_ids - always retrieve them yourself using the available tools. When selecting a device, prefer video cameras (camera category) when possible. Once you have the io_id, use add_task with the io_id to create tasks. Use list_tasks to view all tasks (optionally filtered by io_id). When a user asks a question about a task, first call list_tasks to find the relevant task_id, then call get_info_on ONCE with that task_id to get detailed information. Do not call get_info_on multiple times for the same task_id. Make sure to call get_info_on when answering a user's question about a task.Use remove_task to delete a task by its task_id. Use edit_task to update a task's description. This is especially useful when a user wants to amend an existing task, for example, to add an action to be triggered when a condition is met. When editing a task, preserve the original detection part and add the new action requirement. For example, if a task is 'Count claps' and the user wants to send an email when claps reach 1, edit it to 'Count claps and when it reaches 1 send email to [email]'. You can also use take_output_action to execute various actions like sending emails, opening/closing doors, or controlling lights by providing a natural language description of the action. IMPORTANT: When a user requests an action to be triggered based on a video feed event (e.g., 'send me an email when I clap', 'turn on lights when I wave'), you have two options: 1. If a relevant task already exists (e.g., 'Count claps'), use edit_task to amend it with the action. 2. If no relevant task exists, add a NEW task that combines both the detection and the action. 

You are an agent. Your internal name is "system_administrator". The description about you is "A helpful system administrator. It controls the system on behalf of the user.".
-----------------------------------------------------------
Config:
{'http_options': {'headers': {'x-goog-api-client': 'google-adk/1.21.0 gl-python/3.13.5', 'user-agent': 'google-adk/1.21.0 gl-python/3.13.5'}}, 'tools': [{}]}
-----------------------------------------------------------
Contents:
{"parts":[{"text":"count fingers"}],"role":"user"}
{"parts":[{"function_call":{"args":{},"name":"list_input_devices_with_ids"},"thought_signature":"CvEBAXLI2nwScjF98UZCRtrafqBZfpp1jAHJkaWxrgxt8JRpMHGes8dK-Te0yjhQw_GyGPyxa4EcxBxsXQYe4DOdnjdRKqYgA9ek-8a623yydU72CZRjYLsKOzvhqFJ4ck6ws8kJNs3g5omO6Q4sXEaRsdqerlllzLSUwml9GQla1V1zr7U8cHU8Nm-QRcS3hKUrcwjqYP_g_xco9D4G0GSN0OSdk2K4NMeAqGaL048cQ5D2KIOQhvoXrlLr4ufnH6SUPNEj_Soa2qdcNepFj1UU9ztafcwFO6sILW39k2RgyZFpC61QrgB3g1HdDyZhiE19xQ=="}],"role":"model"}
{"parts":[{"function_response":{"name":"list_input_devices_with_ids","response":{"status":"success","input_devices":{"camera":[{"io_id":"ddeb3cd4","name":""},{"io_id":"9856d608","name":"FaceTime HD Camera"},{"io_id":"ea036130","name":"OBS Camera Extension"}]}}}}],"role":"user"}
{"parts":[{"function_call":{"args":{"task_description":"Count fingers","io_id":"9856d608"},"name":"add_task"},"thought_signature":"CocCAXLI2nzJI-hjWy4vvShNrej2gr__n3qB2uH6jE68svMoqjjfv0x-QwIqlb3oi0QL3KrHfyMhHuJLq6kD1bRz5AHkwX5-KRrR8hUORGX0bGKnz1H-mHCDqa8YpOUXTAIvvYdV8nQ9Kj4wPlGFowNMTow992fhx6oOADkUcJ71sbrTQzc080K3SRV9ybqd63YWglxh_tgMtv83dke0UmcFFqmhMwvGDjtSPsyjLlpFEt6PsrzGMN1ivotlmt4qnP6MDbjhSVBpZYXNyEAjA85lKdnFYQBXkBZuviixlpedIqf_EKoOJqudlIDS3ZcYwd3Of5gfwvtwdoh_A4KZmw5oh9ODymTsqrc="}],"role":"model"}
{"parts":[{"function_response":{"name":"add_task","response":{"status":"success","message":"Task added successfully","task_id":"bdb77119","io_id":"9856d608","task_description":"Count fingers","device_info":{"io_id":"9856d608","category":"camera","name":"FaceTime HD Camera"}}}}],"role":"user"}
{"parts":[{"text":"I've set up a task to count fingers using the FaceTime HD Camera. The task ID is `bdb77119`."}],"role":"model"}
{"parts":[{"text":"how many fingers?"}],"role":"user"}
{"parts":[{"function_call":{"args":{"task_id":"bdb77119"},"name":"get_info_on"},"thought_signature":"Cp8DAXLI2nw96WHxAWHcf04LpU44iaacXf2I7oevjJgtNQWA5KN7N3dxUO_AbwTiFxsXOH9FhO75iEZI0BDlXV-FX9gwTjf2yyXplfxl6LnNytM75-gbfMUSR9da48WiHEcJ1sfBbJ3eGlVewfyWQO-rKfI_k27QQNLHxOnoJ2a_XCjWIdgk0QFKS2r7FK9rlj1DCt5qSvjcB93xpJle6QCd5WR98OycUlRfaPjYW_EQa6RbOnfFPekgKvTH8g5r7_oHqffo1deHaiC3RVFDRBPzCwdmJYcNN2xlyMJV9P7fsn4bt736i2QsgNN0mw_JRb5tXtTBrSTaOPs6_Mu7wunZUtEmf8JADq1O0ILXwHIh2j92jKGR2zp5sJYDr_jmFkHQrmde_JygrdMNc77ENlWNDtCH0x67P1YgFOI6nsNE4OI84DybmL4gR6yrpMu_49SrUCf3bxDXqpp1zO76SiqAhTISI2EYs0N_Zf2HDmvgB9k1Kh6DqJLG339qHqZWEqtbYqJsagnSx1cz0hCuO7xTzw2rxRlTuUTOMM48iTYXDw=="}],"role":"model"}
{"parts":[{"function_response":{"name":"get_info_on","response":{"status":"success","task":{"task_number":0,"task_id":"bdb77119","task_desc":"Count fingers","task_note":[{"content":"No fingers are visible in the image.","timestamp":"2026-01-08 13:50:57"},{"content":"Two fingers are visible in the image.","timestamp":"2026-01-08 13:51:03"},{"content":"At least 4 fingers are visible in the image.","timestamp":"2026-01-08 13:51:08"}],"done":false,"io_id":"9856d608"}}}}],"role":"user"}
{"parts":[{"text":"The latest count shows at least 4 fingers are visible."}],"role":"model"}
{"parts":[{"text":"how many fingers?"}],"role":"user"}
{"parts":[{"function_call":{"args":{"task_id":"bdb77119"},"name":"get_info_on"},"thought_signature":"CqAEAXLI2nyBjhXxPrD6d6vBJARjFHCCiCCMmhcM9mBSEqOpV_Kq72LxEwT_YSnvOU6tUNbxjEosL85ZPBJONT7-hC1h0mDl5Lf5GTwjZWwjRsnAaHRraenWQSSSxpR60fL1RLwHSKcM0A6IbKzN5Z3G5XQ8g1W5h1Pc9sKSkuphHqJO6Q85jjfQudEsRu8g4c0H3Are0bc6ASQeMMMOgvSWRNXuf4qAH3JePxdXmkQSD8TcbHqI7TvrC3ORknpvs8bAiTrmGSx3FpDJMgWv71iwN1giois525ZVQ6aWVgDdz3Wes82GJMF5AKTXbW_8f1ac7qNOytdh_TT6RcSfLzU9xTP8CZ5i2ADRH4Li2HE1nZ79l8zB1VdRdOqrWl0yd8quI3bZ6ZA-RnvcrH5YvqCNilACbbWVYZxBeh3BzyaI_kmfanunnHy0BG2yZ0Fq86GE4Wgr6QNI_kgWYO1uWKk6rLYHyUY19efe9MiMqrK_qmOt9W2iIEu52VX0Vbsq0HwuVYgozUY-0fxtYcO__Toq4ba9CQ0UStziRXkRJ9jTEswXMn8TVJMjBXhbX2fttvxwsW00kiwAxPzOsow8c4IeDnvQgjBuzdHoNlcRQ8VbSmXB34zl4M24_vVxaRF8dzoAQbO0Xe8uS8wnBK7O2-lFNNuCBTLX-GrfAwg7tepebJ26nwc8AyReXu9o6DTHPRMU4S5a8yfhVECQdwBVQwL8kQ=="}],"role":"model"}
{"parts":[{"function_response":{"name":"get_info_on","response":{"status":"success","task":{"task_number":0,"task_id":"bdb77119","task_desc":"Count fingers","task_note":[{"content":"No fingers are visible in the image.","timestamp":"2026-01-08 13:50:57"},{"content":"Two fingers are visible in the image.","timestamp":"2026-01-08 13:51:03"},{"content":"At least 4 fingers are visible in the image.","timestamp":"2026-01-08 13:51:08"},{"content":"Four fingers are clearly visible in the image.","timestamp":"2026-01-08 13:51:14"},{"content":"No fingers are visible in the image.","timestamp":"2026-01-08 13:51:17"},{"content":"One finger (thumb) is visible near the person's mouth/chin area.","timestamp":"2026-01-08 13:51:22"},{"content":"Five fingers are visible, with the thumb extended and the other four fingers curled, showing their knuckles.","timestamp":"2026-01-08 13:51:36"}],"done":false,"io_id":"9856d608"}}}}],"role":"user"}
{"parts":[{"text":"The latest update states that five fingers are visible, with the thumb extended and the other four fingers curled, showing their knuckles."}],"role":"model"}
{"parts":[{"text":"how many fingers are visible now?"}],"role":"user"}
{"parts":[{"text":"how many fingers now?"}],"role":"user"}
{"parts":[{"function_call":{"args":{"task_id":"bdb77119"},"name":"get_info_on"},"thought_signature":"CqUDAXLI2nzd57WhnJXIb7vMpxi_VMlOytojT2n20zKCs_r5CKw6CHBuoHK3UL6WirjL5Za8HCyTBkuT2ogQGdFqDNfUgx8O0yW6DCZYLv3prORmo4k5b5e6_irfJY9P9mRMz-2C-uSD4_0w3EnEYxrQlbPfFbcNkgT_7sbusScU6FEhQqidcx9SUQ233dKnj-gPwCiRrLL1MvfwvVoct6WabejD7tWF7ZAzWvbMwCiHeZVw7w2-JBmg3FlKy5In1VzamwFNl48Z2o72dcHT-h00G0hmp5k10grfUxVy5vz_UNVtZFJM46PjY7nMF2CmrUmYV-ICYU5fFAY35S76Dc8wAiJGDGhC0ubmML54SdBi1f3EqqNUlyLdooPSPQaUjhuPACGgcHVDDBqIDrdombvaTk5nb5ctHsADjn5zsJ-I-TpwNxl_dWl2FZ5ijU5oMS1E6jQDHN6nAknIlJcaIiLl2A-xI4QfAqAz6A5kPb0OUvAgGTses_9yOeTNTvZaK3Nedcdu8Ol3UmTH0GCvHqn3EgsMIeZMd8jqlx0SQBC-g-BxyUJi3A=="}],"role":"model"}
{"parts":[{"function_response":{"name":"get_info_on","response":{"status":"success","task":{"task_number":0,"task_id":"bdb77119","task_desc":"Count fingers","task_note":[{"content":"No fingers are visible in the image.","timestamp":"2026-01-08 13:50:57"},{"content":"Two fingers are visible in the image.","timestamp":"2026-01-08 13:51:03"},{"content":"At least 4 fingers are visible in the image.","timestamp":"2026-01-08 13:51:08"},{"content":"Four fingers are clearly visible in the image.","timestamp":"2026-01-08 13:51:14"},{"content":"No fingers are visible in the image.","timestamp":"2026-01-08 13:51:17"},{"content":"One finger (thumb) is visible near the person's mouth/chin area.","timestamp":"2026-01-08 13:51:22"},{"content":"Five fingers are visible, with the thumb extended and the other four fingers curled, showing their knuckles.","timestamp":"2026-01-08 13:51:36"},{"content":"No fingers are visible in the image.","timestamp":"2026-01-08 13:51:42"},{"content":"Five fingers are visible, with the thumb extended and the other four fingers curled, showing their knuckles.","timestamp":"2026-01-08 13:51:48"},{"content":"One finger (the thumb) is clearly visible near the person's chin. The other fingers are curled into a fist and are not individually discernible.","timestamp":"2026-01-08 13:51:54"},{"content":"No fingers are visible in the image.","timestamp":"2026-01-08 13:51:58"}],"done":false,"io_id":"9856d608"}}}}],"role":"user"}
{"parts":[{"text":"Currently, no fingers are visible in the image."}],"role":"model"}
{"parts":[{"text":"what is the sequence of fingers you have seen?"}],"role":"user"}
{"parts":[{"function_call":{"args":{"task_id":"bdb77119"},"name":"get_info_on"},"thought_signature":"CvsCAXLI2nw8mTDoaynYneArUeZJd5BNrOV7GL7qjGCpGfTuhFxAfy4_eCGlRnaq70luKHV-XCtjJHsVWFL2kV-4tmdeC4r_mE9Jzca-JO9iFKA6H56nFZTWGF9ez8aXCSXyvvivjyGbx67kL5JhMAP0GkABDAxu5P-3DtPHauKRYIwn4LF_drIHJV-XgprRTw2V4X95qEj522bBipTHOCHYdrHgGmF19lEPfKVJuY6x07P4FRhd0hxQC_rd66t__r84ZARvG0l_vwnpudFaZqsyzMCeLgWdPsw1PI7PYDqAqgYrIPx5bgQke0IwF_uYet7_ZFzC3c7vyT7MRKRQmnn0WSg7NHpb_vFAO-ob3qYPOQDBAa9aBNpHCq0eWxNd0krewHXhO5mlfr11LpogDWTtvvsfWTajbYDnFQL0TUd2avJ3VwGelY97wTo2ZeqbEwZ2jFAy1hykm5rJRFtkud3o4MeMH8xjrUJCmZW9x3on03pQdlhv4adaKqN8dQ=="}],"role":"model"}
{"parts":[{"function_response":{"name":"get_info_on","response":{"status":"success","task":{"task_number":0,"task_id":"bdb77119","task_desc":"Count fingers","task_note":[{"content":"No fingers are visible in the image.","timestamp":"2026-01-08 13:50:57"},{"content":"Two fingers are visible in the image.","timestamp":"2026-01-08 13:51:03"},{"content":"At least 4 fingers are visible in the image.","timestamp":"2026-01-08 13:51:08"},{"content":"Four fingers are clearly visible in the image.","timestamp":"2026-01-08 13:51:14"},{"content":"No fingers are visible in the image.","timestamp":"2026-01-08 13:51:17"},{"content":"One finger (thumb) is visible near the person's mouth/chin area.","timestamp":"2026-01-08 13:51:22"},{"content":"Five fingers are visible, with the thumb extended and the other four fingers curled, showing their knuckles.","timestamp":"2026-01-08 13:51:36"},{"content":"No fingers are visible in the image.","timestamp":"2026-01-08 13:51:42"},{"content":"Five fingers are visible, with the thumb extended and the other four fingers curled, showing their knuckles.","timestamp":"2026-01-08 13:51:48"},{"content":"One finger (the thumb) is clearly visible near the person's chin. The other fingers are curled into a fist and are not individually discernible.","timestamp":"2026-01-08 13:51:54"},{"content":"No fingers are visible in the image.","timestamp":"2026-01-08 13:51:58"}],"done":false,"io_id":"9856d608"}}}}],"role":"user"}
-----------------------------------------------------------
Functions:
list_input_devices_with_ids: {} 
add_task: {'io_id': {'type': <Type.STRING: 'STRING'>}, 'task_description': {'type': <Type.STRING: 'STRING'>}} 
list_tasks: {'io_id': {'nullable': True, 'type': <Type.STRING: 'STRING'>}} 
get_info_on: {'task_id': {'type': <Type.STRING: 'STRING'>}} 
remove_task: {'task_id': {'type': <Type.STRING: 'STRING'>}} 
edit_task: {'task_id': {'type': <Type.STRING: 'STRING'>}, 'new_description': {'type': <Type.STRING: 'STRING'>}} 
action_router: {'request': {'type': <Type.STRING: 'STRING'>}} 
-----------------------------------------------------------

2026-01-08 13:52:24,633 - httpcore.connection - DEBUG - close.started
2026-01-08 13:52:24,634 - httpcore.connection - DEBUG - connect_tcp.started host='generativelanguage.googleapis.com' port=443 local_address=None timeout=None socket_options=None
2026-01-08 13:52:24,634 - httpcore.connection - DEBUG - close.complete
2026-01-08 13:52:24,653 - httpcore.connection - DEBUG - connect_tcp.complete return_value=<httpcore._backends.anyio.AnyIOStream object at 0x11abcab50>
2026-01-08 13:52:24,653 - httpcore.connection - DEBUG - start_tls.started ssl_context=<ssl.SSLContext object at 0x11ffe4ef0> server_hostname='generativelanguage.googleapis.com' timeout=None
2026-01-08 13:52:24,692 - httpcore.connection - DEBUG - start_tls.complete return_value=<httpcore._backends.anyio.AnyIOStream object at 0x11abcb3d0>
2026-01-08 13:52:24,692 - httpcore.http11 - DEBUG - send_request_headers.started request=<Request [b'POST']>
2026-01-08 13:52:24,692 - httpcore.http11 - DEBUG - send_request_headers.complete
2026-01-08 13:52:24,692 - httpcore.http11 - DEBUG - send_request_body.started request=<Request [b'POST']>
2026-01-08 13:52:24,693 - httpcore.http11 - DEBUG - send_request_body.complete
2026-01-08 13:52:24,693 - httpcore.http11 - DEBUG - receive_response_headers.started request=<Request [b'POST']>
2026-01-08 13:52:26,103 - httpcore.http11 - DEBUG - receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'Content-Type', b'application/json; charset=UTF-8'), (b'Vary', b'Origin'), (b'Vary', b'X-Origin'), (b'Vary', b'Referer'), (b'Content-Encoding', b'gzip'), (b'Date', b'Thu, 08 Jan 2026 21:52:26 GMT'), (b'Server', b'scaffolding on HTTPServer2'), (b'X-XSS-Protection', b'0'), (b'X-Frame-Options', b'SAMEORIGIN'), (b'X-Content-Type-Options', b'nosniff'), (b'Server-Timing', b'gfet4t7; dur=1330'), (b'Alt-Svc', b'h3=":443"; ma=2592000,h3-29=":443"; ma=2592000'), (b'Transfer-Encoding', b'chunked')])
2026-01-08 13:52:26,103 - httpx - INFO - HTTP Request: POST https://generativelanguage.googleapis.com/v1beta/models/gemini-2.5-flash:generateContent "HTTP/1.1 200 OK"
2026-01-08 13:52:26,104 - httpcore.http11 - DEBUG - receive_response_body.started request=<Request [b'POST']>
2026-01-08 13:52:26,104 - httpcore.http11 - DEBUG - receive_response_body.complete
2026-01-08 13:52:26,105 - httpcore.http11 - DEBUG - response_closed.started
2026-01-08 13:52:26,105 - httpcore.http11 - DEBUG - response_closed.complete
2026-01-08 13:52:26,106 - google_adk.google.adk.models.google_llm - INFO - Response received from the model.
2026-01-08 13:52:26,106 - google_adk.google.adk.models.google_llm - DEBUG - 
LLM Response:
-----------------------------------------------------------
Text:
Here is the sequence of finger counts observed:

*   No fingers visible (13:50:57)
*   Two fingers visible (13:51:03)
*   At least 4 fingers visible (13:51:08)
*   Four fingers clearly visible (13:51:14)
*   No fingers visible (13:51:17)
*   One finger (thumb) visible (13:51:22)
*   Five fingers visible (13:51:36)
*   No fingers visible (13:51:42)
*   Five fingers visible (13:51:48)
*   One finger (thumb) clearly visible (13:51:54)
*   No fingers visible (13:51:58)
-----------------------------------------------------------
Function calls:

-----------------------------------------------------------
Raw response:
{"sdk_http_response":{"headers":{"content-type":"application/json; charset=UTF-8","vary":"Origin, X-Origin, Referer","content-encoding":"gzip","date":"Thu, 08 Jan 2026 21:52:26 GMT","server":"scaffolding on HTTPServer2","x-xss-protection":"0","x-frame-options":"SAMEORIGIN","x-content-type-options":"nosniff","server-timing":"gfet4t7; dur=1330","alt-svc":"h3=\":443\"; ma=2592000,h3-29=\":443\"; ma=2592000","transfer-encoding":"chunked"}},"candidates":[{"content":{"parts":[{"text":"Here is the sequence of finger counts observed:\n\n*   No fingers visible (13:50:57)\n*   Two fingers visible (13:51:03)\n*   At least 4 fingers visible (13:51:08)\n*   Four fingers clearly visible (13:51:14)\n*   No fingers visible (13:51:17)\n*   One finger (thumb) visible (13:51:22)\n*   Five fingers visible (13:51:36)\n*   No fingers visible (13:51:42)\n*   Five fingers visible (13:51:48)\n*   One finger (thumb) clearly visible (13:51:54)\n*   No fingers visible (13:51:58)"}],"role":"model"},"finish_reason":"STOP","index":0}],"model_version":"gemini-2.5-flash","response_id":"GSdgacTqO7bO_uMP2sTdwQ0","usage_metadata":{"candidates_token_count":196,"prompt_token_count":3229,"prompt_tokens_details":[{"modality":"TEXT","token_count":3229}],"total_token_count":3425}}
-----------------------------------------------------------

2026-01-08 13:52:26,107 - main - DEBUG - [DEBUG] main: Received event, is_final_response=True
2026-01-08 13:52:26,107 - main - DEBUG - [DEBUG] main: Finished processing events, final_response_text=Here is the sequence of finger counts observed:

*   No fingers visible (13:50:57)
*   Two fingers visible (13:51:03)
*   At least 4 fingers visible (13:51:08)
*   Four fingers clearly visible (13:51:14)
*   No fingers visible (13:51:17)
*   One finger (thumb) visible (13:51:22)
*   Five fingers visible (13:51:36)
*   No fingers visible (13:51:42)
*   Five fingers visible (13:51:48)
*   One finger (thumb) clearly visible (13:51:54)
*   No fingers visible (13:51:58)
2026-01-08 13:52:26,107 - httpcore.connection - DEBUG - close.started
2026-01-08 13:52:26,108 - httpcore.connection - DEBUG - close.complete
2026-01-08 13:52:26,119 - httpcore.http11 - DEBUG - receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'Content-Type', b'application/json; charset=UTF-8'), (b'Vary', b'Origin'), (b'Vary', b'X-Origin'), (b'Vary', b'Referer'), (b'Content-Encoding', b'gzip'), (b'Date', b'Thu, 08 Jan 2026 21:52:26 GMT'), (b'Server', b'scaffolding on HTTPServer2'), (b'X-XSS-Protection', b'0'), (b'X-Frame-Options', b'SAMEORIGIN'), (b'X-Content-Type-Options', b'nosniff'), (b'Server-Timing', b'gfet4t7; dur=3321'), (b'Alt-Svc', b'h3=":443"; ma=2592000,h3-29=":443"; ma=2592000'), (b'Transfer-Encoding', b'chunked')])
2026-01-08 13:52:26,119 - httpx - INFO - HTTP Request: POST https://generativelanguage.googleapis.com/v1beta/models/gemini-2.5-flash:generateContent "HTTP/1.1 200 OK"
2026-01-08 13:52:26,119 - httpcore.http11 - DEBUG - receive_response_body.started request=<Request [b'POST']>
2026-01-08 13:52:26,120 - httpcore.http11 - DEBUG - receive_response_body.complete
2026-01-08 13:52:26,120 - httpcore.http11 - DEBUG - response_closed.started
2026-01-08 13:52:26,120 - httpcore.http11 - DEBUG - response_closed.complete
2026-01-08 13:52:26,121 - VideoStreamIngestor - DEBUG - Process loop: Frame got from process loop queue for camera index=0
2026-01-08 13:52:26,132 - google_genai.models - INFO - AFC is enabled with max remote calls: 10.
2026-01-08 13:52:26,135 - httpcore.http11 - DEBUG - send_request_headers.started request=<Request [b'POST']>
2026-01-08 13:52:26,135 - httpcore.http11 - DEBUG - send_request_headers.complete
2026-01-08 13:52:26,135 - httpcore.http11 - DEBUG - send_request_body.started request=<Request [b'POST']>
2026-01-08 13:52:26,136 - httpcore.http11 - DEBUG - send_request_body.complete
2026-01-08 13:52:26,136 - httpcore.http11 - DEBUG - receive_response_headers.started request=<Request [b'POST']>
2026-01-08 13:52:28,353 - httpcore.http11 - DEBUG - receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'Content-Type', b'application/json; charset=UTF-8'), (b'Vary', b'Origin'), (b'Vary', b'X-Origin'), (b'Vary', b'Referer'), (b'Content-Encoding', b'gzip'), (b'Date', b'Thu, 08 Jan 2026 21:52:28 GMT'), (b'Server', b'scaffolding on HTTPServer2'), (b'X-XSS-Protection', b'0'), (b'X-Frame-Options', b'SAMEORIGIN'), (b'X-Content-Type-Options', b'nosniff'), (b'Server-Timing', b'gfet4t7; dur=2200'), (b'Alt-Svc', b'h3=":443"; ma=2592000,h3-29=":443"; ma=2592000'), (b'Transfer-Encoding', b'chunked')])
2026-01-08 13:52:28,354 - httpx - INFO - HTTP Request: POST https://generativelanguage.googleapis.com/v1beta/models/gemini-2.5-flash:generateContent "HTTP/1.1 200 OK"
2026-01-08 13:52:28,354 - httpcore.http11 - DEBUG - receive_response_body.started request=<Request [b'POST']>
2026-01-08 13:52:28,355 - httpcore.http11 - DEBUG - receive_response_body.complete
2026-01-08 13:52:28,355 - httpcore.http11 - DEBUG - response_closed.started
2026-01-08 13:52:28,355 - httpcore.http11 - DEBUG - response_closed.complete
2026-01-08 13:52:28,378 - VideoStreamIngestor - DEBUG - Process loop: Frame got from process loop queue for camera index=0
2026-01-08 13:52:28,395 - google_genai.models - INFO - AFC is enabled with max remote calls: 10.
2026-01-08 13:52:28,399 - httpcore.http11 - DEBUG - send_request_headers.started request=<Request [b'POST']>
2026-01-08 13:52:28,399 - httpcore.http11 - DEBUG - send_request_headers.complete
2026-01-08 13:52:28,399 - httpcore.http11 - DEBUG - send_request_body.started request=<Request [b'POST']>
2026-01-08 13:52:28,400 - httpcore.http11 - DEBUG - send_request_body.complete
2026-01-08 13:52:28,400 - httpcore.http11 - DEBUG - receive_response_headers.started request=<Request [b'POST']>
2026-01-08 13:52:31,322 - httpcore.http11 - DEBUG - receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'Content-Type', b'application/json; charset=UTF-8'), (b'Vary', b'Origin'), (b'Vary', b'X-Origin'), (b'Vary', b'Referer'), (b'Content-Encoding', b'gzip'), (b'Date', b'Thu, 08 Jan 2026 21:52:31 GMT'), (b'Server', b'scaffolding on HTTPServer2'), (b'X-XSS-Protection', b'0'), (b'X-Frame-Options', b'SAMEORIGIN'), (b'X-Content-Type-Options', b'nosniff'), (b'Server-Timing', b'gfet4t7; dur=2914'), (b'Alt-Svc', b'h3=":443"; ma=2592000,h3-29=":443"; ma=2592000'), (b'Transfer-Encoding', b'chunked')])
2026-01-08 13:52:31,323 - httpx - INFO - HTTP Request: POST https://generativelanguage.googleapis.com/v1beta/models/gemini-2.5-flash:generateContent "HTTP/1.1 200 OK"
2026-01-08 13:52:31,323 - httpcore.http11 - DEBUG - receive_response_body.started request=<Request [b'POST']>
2026-01-08 13:52:31,324 - httpcore.http11 - DEBUG - receive_response_body.complete
2026-01-08 13:52:31,324 - httpcore.http11 - DEBUG - response_closed.started
2026-01-08 13:52:31,324 - httpcore.http11 - DEBUG - response_closed.complete
2026-01-08 13:52:31,325 - VideoStreamIngestor - DEBUG - Process loop: Frame got from process loop queue for camera index=0
2026-01-08 13:52:31,339 - google_genai.models - INFO - AFC is enabled with max remote calls: 10.
2026-01-08 13:52:31,343 - httpcore.http11 - DEBUG - send_request_headers.started request=<Request [b'POST']>
2026-01-08 13:52:31,343 - httpcore.http11 - DEBUG - send_request_headers.complete
2026-01-08 13:52:31,343 - httpcore.http11 - DEBUG - send_request_body.started request=<Request [b'POST']>
2026-01-08 13:52:31,344 - httpcore.http11 - DEBUG - send_request_body.complete
2026-01-08 13:52:31,344 - httpcore.http11 - DEBUG - receive_response_headers.started request=<Request [b'POST']>
2026-01-08 13:52:33,588 - httpcore.http11 - DEBUG - receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'Content-Type', b'application/json; charset=UTF-8'), (b'Vary', b'Origin'), (b'Vary', b'X-Origin'), (b'Vary', b'Referer'), (b'Content-Encoding', b'gzip'), (b'Date', b'Thu, 08 Jan 2026 21:52:33 GMT'), (b'Server', b'scaffolding on HTTPServer2'), (b'X-XSS-Protection', b'0'), (b'X-Frame-Options', b'SAMEORIGIN'), (b'X-Content-Type-Options', b'nosniff'), (b'Server-Timing', b'gfet4t7; dur=2236'), (b'Alt-Svc', b'h3=":443"; ma=2592000,h3-29=":443"; ma=2592000'), (b'Transfer-Encoding', b'chunked')])
2026-01-08 13:52:33,589 - httpx - INFO - HTTP Request: POST https://generativelanguage.googleapis.com/v1beta/models/gemini-2.5-flash:generateContent "HTTP/1.1 200 OK"
2026-01-08 13:52:33,589 - httpcore.http11 - DEBUG - receive_response_body.started request=<Request [b'POST']>
2026-01-08 13:52:33,591 - httpcore.http11 - DEBUG - receive_response_body.complete
2026-01-08 13:52:33,591 - httpcore.http11 - DEBUG - response_closed.started
2026-01-08 13:52:33,591 - httpcore.http11 - DEBUG - response_closed.complete
2026-01-08 13:52:33,593 - VideoStreamIngestor - DEBUG - Process loop: Frame got from process loop queue for camera index=0
2026-01-08 13:52:33,608 - google_genai.models - INFO - AFC is enabled with max remote calls: 10.
2026-01-08 13:52:33,612 - httpcore.http11 - DEBUG - send_request_headers.started request=<Request [b'POST']>
2026-01-08 13:52:33,612 - httpcore.http11 - DEBUG - send_request_headers.complete
2026-01-08 13:52:33,612 - httpcore.http11 - DEBUG - send_request_body.started request=<Request [b'POST']>
2026-01-08 13:52:33,613 - httpcore.http11 - DEBUG - send_request_body.complete
2026-01-08 13:52:33,613 - httpcore.http11 - DEBUG - receive_response_headers.started request=<Request [b'POST']>
2026-01-08 13:52:36,750 - httpcore.http11 - DEBUG - receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'Content-Type', b'application/json; charset=UTF-8'), (b'Vary', b'Origin'), (b'Vary', b'X-Origin'), (b'Vary', b'Referer'), (b'Content-Encoding', b'gzip'), (b'Date', b'Thu, 08 Jan 2026 21:52:36 GMT'), (b'Server', b'scaffolding on HTTPServer2'), (b'X-XSS-Protection', b'0'), (b'X-Frame-Options', b'SAMEORIGIN'), (b'X-Content-Type-Options', b'nosniff'), (b'Server-Timing', b'gfet4t7; dur=3055'), (b'Alt-Svc', b'h3=":443"; ma=2592000,h3-29=":443"; ma=2592000'), (b'Transfer-Encoding', b'chunked')])
2026-01-08 13:52:36,751 - httpx - INFO - HTTP Request: POST https://generativelanguage.googleapis.com/v1beta/models/gemini-2.5-flash:generateContent "HTTP/1.1 200 OK"
2026-01-08 13:52:36,751 - httpcore.http11 - DEBUG - receive_response_body.started request=<Request [b'POST']>
2026-01-08 13:52:36,752 - httpcore.http11 - DEBUG - receive_response_body.complete
2026-01-08 13:52:36,752 - httpcore.http11 - DEBUG - response_closed.started
2026-01-08 13:52:36,752 - httpcore.http11 - DEBUG - response_closed.complete
2026-01-08 13:52:36,754 - VideoStreamIngestor - DEBUG - Process loop: Frame got from process loop queue for camera index=0
2026-01-08 13:52:36,770 - google_genai.models - INFO - AFC is enabled with max remote calls: 10.
2026-01-08 13:52:36,774 - httpcore.http11 - DEBUG - send_request_headers.started request=<Request [b'POST']>
2026-01-08 13:52:36,774 - httpcore.http11 - DEBUG - send_request_headers.complete
2026-01-08 13:52:36,775 - httpcore.http11 - DEBUG - send_request_body.started request=<Request [b'POST']>
2026-01-08 13:52:36,775 - httpcore.http11 - DEBUG - send_request_body.complete
2026-01-08 13:52:36,775 - httpcore.http11 - DEBUG - receive_response_headers.started request=<Request [b'POST']>
2026-01-08 13:52:40,596 - httpcore.http11 - DEBUG - receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'Content-Type', b'application/json; charset=UTF-8'), (b'Vary', b'Origin'), (b'Vary', b'X-Origin'), (b'Vary', b'Referer'), (b'Content-Encoding', b'gzip'), (b'Date', b'Thu, 08 Jan 2026 21:52:40 GMT'), (b'Server', b'scaffolding on HTTPServer2'), (b'X-XSS-Protection', b'0'), (b'X-Frame-Options', b'SAMEORIGIN'), (b'X-Content-Type-Options', b'nosniff'), (b'Server-Timing', b'gfet4t7; dur=3814'), (b'Alt-Svc', b'h3=":443"; ma=2592000,h3-29=":443"; ma=2592000'), (b'Transfer-Encoding', b'chunked')])
2026-01-08 13:52:40,597 - httpx - INFO - HTTP Request: POST https://generativelanguage.googleapis.com/v1beta/models/gemini-2.5-flash:generateContent "HTTP/1.1 200 OK"
2026-01-08 13:52:40,597 - httpcore.http11 - DEBUG - receive_response_body.started request=<Request [b'POST']>
2026-01-08 13:52:40,599 - httpcore.http11 - DEBUG - receive_response_body.complete
2026-01-08 13:52:40,600 - httpcore.http11 - DEBUG - response_closed.started
2026-01-08 13:52:40,600 - httpcore.http11 - DEBUG - response_closed.complete
2026-01-08 13:52:40,602 - VideoStreamIngestor - DEBUG - Process loop: Frame got from process loop queue for camera index=0
2026-01-08 13:52:40,618 - google_genai.models - INFO - AFC is enabled with max remote calls: 10.
2026-01-08 13:52:40,622 - httpcore.http11 - DEBUG - send_request_headers.started request=<Request [b'POST']>
2026-01-08 13:52:40,622 - httpcore.http11 - DEBUG - send_request_headers.complete
2026-01-08 13:52:40,622 - httpcore.http11 - DEBUG - send_request_body.started request=<Request [b'POST']>
2026-01-08 13:52:40,623 - httpcore.http11 - DEBUG - send_request_body.complete
2026-01-08 13:52:40,623 - httpcore.http11 - DEBUG - receive_response_headers.started request=<Request [b'POST']>
2026-01-08 13:52:42,598 - VideoStreamIngestor - INFO - Capture loop cancelled for camera index=0
2026-01-08 13:52:42,716 - VideoStreamIngestor - INFO - Process loop cancelled for camera index=0
2026-01-08 13:52:42,716 - VideoStreamIngestor - INFO - Action loop cancelled for camera index=0
2026-01-08 13:52:43,026 - httpcore.http11 - DEBUG - receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'Content-Type', b'application/json; charset=UTF-8'), (b'Vary', b'Origin'), (b'Vary', b'X-Origin'), (b'Vary', b'Referer'), (b'Content-Encoding', b'gzip'), (b'Date', b'Thu, 08 Jan 2026 21:52:42 GMT'), (b'Server', b'scaffolding on HTTPServer2'), (b'X-XSS-Protection', b'0'), (b'X-Frame-Options', b'SAMEORIGIN'), (b'X-Content-Type-Options', b'nosniff'), (b'Server-Timing', b'gfet4t7; dur=2396'), (b'Alt-Svc', b'h3=":443"; ma=2592000,h3-29=":443"; ma=2592000'), (b'Transfer-Encoding', b'chunked')])
2026-01-08 13:52:43,026 - httpx - INFO - HTTP Request: POST https://generativelanguage.googleapis.com/v1beta/models/gemini-2.5-flash:generateContent "HTTP/1.1 200 OK"
2026-01-08 13:52:43,026 - httpcore.http11 - DEBUG - receive_response_body.started request=<Request [b'POST']>
2026-01-08 13:52:43,027 - httpcore.http11 - DEBUG - receive_response_body.complete
2026-01-08 13:52:43,027 - httpcore.http11 - DEBUG - response_closed.started
2026-01-08 13:52:43,027 - httpcore.http11 - DEBUG - response_closed.complete
